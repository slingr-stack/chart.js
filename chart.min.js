"use strict";var _helpersSegment=require("./chunks/helpers.segment.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.SubTitle=exports.ScatterController=exports.Scale=exports.RadialLinearScale=exports.RadarController=exports.PolarAreaController=exports.PointElement=exports.PieController=exports.LogarithmicScale=exports.LinearScale=exports.LineElement=exports.LineController=exports.Legend=exports.Interaction=exports.Filler=exports.Element=exports.DoughnutController=exports.DomPlatform=exports.Decimation=exports.DatasetController=exports.Colors=exports.Chart=exports.CategoryScale=exports.BubbleController=exports.BasicPlatform=exports.BasePlatform=exports.BarElement=exports.BarController=exports.ArcElement=exports.Animations=exports.Animation=void 0,Object.defineProperty(exports,"Ticks",{enumerable:!0,get:function(){return _helpersSegment.aL}}),exports._adapters=exports.Tooltip=exports.Title=exports.TimeSeriesScale=exports.TimeScale=void 0,exports._detectPlatform=_detectPlatform,exports.controllers=exports.animator=void 0,Object.defineProperty(exports,"defaults",{enumerable:!0,get:function(){return _helpersSegment.d}}),exports.scales=exports.registry=exports.registerables=exports.plugins=exports.layouts=exports.elements=void 0;require("@kurkle/color");function ownKeys(a,e){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),i.push.apply(i,t)}return i}function _objectSpread(a){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty(a,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))});return a}function _callSuper(a,t,i){return t=_getPrototypeOf(t),_possibleConstructorReturn(a,_isNativeReflectConstruct()?Reflect.construct(t,i||[],_getPrototypeOf(a).constructor):t.apply(a,i))}function _possibleConstructorReturn(a,t){if(t&&("object"==_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _superPropGet(a,t,e,i){var o=_get(_getPrototypeOf(1&i?a.prototype:a),t,e);return 2&i?function(a){return o.apply(e,a)}:o}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(a,e,t){var i=_superPropBase(a,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(3>arguments.length?a:t):o.value}},_get.apply(null,arguments)}function _superPropBase(e,a){for(;!{}.hasOwnProperty.call(e,a)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _inherits(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),t&&_setPrototypeOf(a,t)}function _setPrototypeOf(a,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,t){return a.__proto__=t,a},_setPrototypeOf(a,t)}function _slicedToArray(t,a){return _arrayWithHoles(t)||_iterableToArrayLimit(t,a)||_unsupportedIterableToArray(t,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(s,r){var l=null==s?null:"undefined"!=typeof Symbol&&s[Symbol.iterator]||s["@@iterator"];if(null!=l){var d,c,g,p,h=[],a=!0,m=!1;try{if(g=(l=l.call(s)).next,0===r){if(Object(l)!==l)return;a=!1}else for(;!(a=(d=g.call(l)).done)&&(h.push(d.value),h.length!==r);a=!0);}catch(e){m=!0,c=e}finally{try{if(!a&&null!=l["return"]&&(p=l["return"](),Object(p)!==p))return}finally{if(m)throw c}}return h}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperty(a,e,i){return(e=_toPropertyKey(e))in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}function _createForOfIteratorHelper(i,n){var e="undefined"!=typeof Symbol&&i[Symbol.iterator]||i["@@iterator"];if(!e){if(Array.isArray(i)||(e=_unsupportedIterableToArray(i))||n&&i&&"number"==typeof i.length){e&&(i=e);var l=0,s=function(){};return{s:s,n:function(){return l>=i.length?{done:!0}:{done:!1,value:i[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,c=!0,g=!1;return{s:function(){e=e.call(i)},n:function(){var t=e.next();return c=t.done,t},e:function(e){g=!0,d=e},f:function(){try{c||null==e["return"]||e["return"]()}finally{if(g)throw d}}}}function _typeof(e){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,i){if(e){if("string"==typeof e)return _arrayLikeToArray(e,i);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,i):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var o=0,l=Array(i);o<i;o++)l[o]=t[o];return l}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,e){for(var i,n=0;n<e.length;n++)i=e[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,_toPropertyKey(i.key),i)}function _createClass(a,e,i){return e&&_defineProperties(a.prototype,e),i&&_defineProperties(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(a,t){if("object"!=_typeof(a)||!a)return a;var o=a[Symbol.toPrimitive];if(void 0!==o){var e=o.call(a,t||"default");if("object"!=_typeof(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(a)}var Animator=/*#__PURE__*/function(){function e(){_classCallCheck(this,e),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return _createClass(e,[{key:"_notify",value:function(o,e,i,a){var t=e.listeners[a],l=e.duration;t.forEach(function(a){return a({chart:o,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)})})}},{key:"_refresh",value:function(){var e=this;this._request||(this._running=!0,this._request=_helpersSegment.r.call(window,function(){e._update(),e._request=null,e._running&&e._refresh()}))}},{key:"_update",value:function(){var l=this,d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:Date.now(),r=0;this._charts.forEach(function(o,a){if(o.running&&o.items.length){for(var s,c=o.items,n=c.length-1,g=!1;0<=n;--n)(s=c[n])._active?(s._total>o.duration&&(o.duration=s._total),s.tick(d),g=!0):(c[n]=c[c.length-1],c.pop());g&&(a.draw(),l._notify(a,o,d,"progress")),c.length||(o.running=!1,l._notify(a,o,d,"complete"),o.initial=!1),r+=c.length}}),this._lastDate=d,0===r&&(this._running=!1)}},{key:"_getAnims",value:function(a){var t=this._charts,e=t.get(a);return e||(e={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(a,e)),e}},{key:"listen",value:function(a,t,e){this._getAnims(a).listeners[t].push(e)}},{key:"add",value:function(a,t){var e;t&&t.length&&(e=this._getAnims(a).items).push.apply(e,_toConsumableArray(t))}},{key:"has",value:function(e){return 0<this._getAnims(e).items.length}},{key:"start",value:function(a){var t=this._charts.get(a);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(function(a,t){return Math.max(a,t._duration)},0),this._refresh())}},{key:"running",value:function(e){return!!this._running&&(e=this._charts.get(e),!!(e&&e.running&&e.items.length))}},{key:"stop",value:function(o){var e=this._charts.get(o);if(e&&e.items.length){for(var i=e.items,a=i.length-1;0<=a;--a)i[a].cancel();e.items=[],this._notify(o,e,Date.now(),"complete")}}},{key:"remove",value:function(e){return this._charts["delete"](e)}}])}(),animator=exports.animator=new Animator,transparent="transparent",interpolators={boolean:function(a,t,e){return .5<e?t:a},color:function(o,n,e){o=(0,_helpersSegment.c)(o||transparent);var i=o.valid&&(0,_helpersSegment.c)(n||transparent);return i&&i.valid?i.mix(o,e).hexString():n},number:function(a,t,e){return a+(t-a)*e}},Animation=exports.Animation=/*#__PURE__*/function(){var o=Math.floor,l=Math.max;function r(n,t,e,i){_classCallCheck(this,r);var l=t[e],l=(i=(0,_helpersSegment.a)([n.to,i,l,n.from]),(0,_helpersSegment.a)([n.from,l,i]));this._active=!0,this._fn=n.fn||interpolators[n.type||_typeof(l)],this._easing=_helpersSegment.e[n.easing]||_helpersSegment.e.linear,this._start=o(Date.now()+(n.delay||0)),this._duration=this._total=o(n.duration),this._loop=!!n.loop,this._target=t,this._prop=e,this._from=l,this._to=i,this._promises=void 0}return _createClass(r,[{key:"active",value:function(){return this._active}},{key:"update",value:function(r,t,e){var i,d,c;this._active&&(this._notify(!1),i=this._target[this._prop],d=e-this._start,c=this._duration-d,this._start=e,this._duration=o(l(c,r.duration)),this._total+=d,this._loop=!!r.loop,this._to=(0,_helpersSegment.a)([r.to,t,i,r.from]),this._from=(0,_helpersSegment.a)([r.from,i,t]))}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(o){var d,o=o-this._start,c=this._duration,e=this._prop,i=this._from,a=this._loop,s=this._to;return(this._active=i!==s&&(a||o<c),!this._active)?(this._target[e]=s,void this._notify(!0)):void(0>o?this._target[e]=i:(d=o/c%2,d=a&&1<d?2-d:d,d=this._easing(Math.min(1,l(0,d))),this._target[e]=this._fn(i,s,d)))}},{key:"wait",value:function(){var a=this._promises||(this._promises=[]);return new Promise(function(i,t){a.push({res:i,rej:t})})}},{key:"_notify",value:function(a){for(var t=a?"res":"rej",e=this._promises||[],i=0;i<e.length;i++)e[i][t]()}}])}(),Animations=exports.Animations=/*#__PURE__*/function(){function a(i,t){_classCallCheck(this,a),this._chart=i,this._properties=new Map,this.configure(t)}return _createClass(a,[{key:"configure",value:function(o){if((0,_helpersSegment.i)(o)){var e=Object.keys(_helpersSegment.d.animation),a=this._properties;Object.getOwnPropertyNames(o).forEach(function(n){var l=o[n];if((0,_helpersSegment.i)(l)){for(var t,s={},i=0,r=e;i<r.length;i++)t=r[i],s[t]=l[t];((0,_helpersSegment.b)(l.properties)&&l.properties||[n]).forEach(function(e){e!==n&&a.has(e)||a.set(e,s)})}})}}},{key:"_animateOptions",value:function(a,t){var o=t.options;return(t=resolveTargetOptions(a,o),!t)?[]:(t=this._createAnimations(t,o),o.$shared&&awaitAll(a.options.$animations,o).then(function(){a.options=o},function(){}),t)}},{key:"_createAnimations",value:function(c,e){var i,g=this._properties,a=[],s=c.$animations||(c.$animations={}),n=Object.keys(e),t=Date.now();for(i=n.length-1;0<=i;--i){var r=n[i];if("$"!==r.charAt(0))if("options"===r)a.push.apply(a,_toConsumableArray(this._animateOptions(c,e)));else{var u=e[r],p=s[r],m=g.get(r);if(p){if(m&&p.active()){p.update(m,u,t);continue}p.cancel()}m&&m.duration?(s[r]=p=new Animation(m,c,r,u),a.push(p)):c[r]=u}}return a}},{key:"update",value:function(a,i){{if(0!==this._properties.size)return(a=this._createAnimations(a,i)).length?(animator.add(this._chart,a),!0):void 0;Object.assign(a,i)}}}])}();function awaitAll(o,e){for(var t,n=[],i=Object.keys(e),a=0;a<i.length;a++)t=o[i[a]],t&&t.active()&&n.push(t.wait());return Promise.all(n)}function resolveTargetOptions(a,e){if(e){var i=a.options;if(i)return i.$shared&&(a.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;a.options=e}}function scaleClip(o,n){var o=o&&o.options||{},e=o.reverse,i=void 0===o.min?n:0,o=void 0===o.max?n:0;return{start:e?o:i,end:e?i:o}}function defaultClip(a,o,n){return!1!==n&&(a=scaleClip(a,n),o=scaleClip(o,n),{top:o.end,right:a.end,bottom:o.start,left:a.start})}function toClip(o){var t,n,l,r;return(0,_helpersSegment.i)(o)?(t=o.top,n=o.right,l=o.bottom,r=o.left):t=n=l=r=o,{top:t,right:n,bottom:l,left:r,disabled:!1===o}}function getSortedDatasetIndices(o,t){var e,l,r=[],i=o._getSortedDatasetMetas(t);for(e=0,l=i.length;e<l;++e)r.push(i[e].index);return r}function _applyStack(d,t,c){var i,g,u,p,m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=d.keys,s="single"===m.mode;if(null!==t){for(i=0,g=a.length;i<g;++i){if((u=+a[i])===c){if(m.all)continue;break}p=d.values[u],(0,_helpersSegment.g)(p)&&(s||0===t||(0,_helpersSegment.s)(t)===(0,_helpersSegment.s)(p))&&(t+=p)}return t}}function convertObjectDataToArray(o){var t,l,r,d=Object.keys(o),e=Array(d.length);for(t=0,l=d.length;t<l;++t)r=d[t],e[t]={x:r,y:o[r]};return e}function isStacked(a,i){return a=a&&a.options.stacked,a||void 0===a&&void 0!==i.stack}function getStackKey(a,t,e){return"".concat(a.id,".").concat(t.id,".")+(e.stack||e.type)}function getUserBounds(o){var n=o.getUserBounds(),o=n.min,l=n.max,e=n.minDefined,i=n.maxDefined;return{min:e?o:Number.NEGATIVE_INFINITY,max:i?l:Number.POSITIVE_INFINITY}}function getOrCreateStack(o,t,e){var i=o[t]||(o[t]={});return i[e]||(i[e]={})}function getLastIndexInStack(o,t,e,i){var a,l=_createForOfIteratorHelper(t.getMatchingVisibleMetas(i).reverse());try{for(l.s();!(a=l.n()).done;){var r=a.value,d=o[r.index];if(e&&0<d||!e&&0>d)return r.index}}catch(e){l.e(e)}finally{l.f()}return null}function updateStacks(y,x){for(var e,_=y,b=_.chart,i=_._cachedMeta,a=b._stacks||(b._stacks={}),y=i.iScale,s=i.vScale,n=i.index,r=y.axis,o=s.axis,l=getStackKey(y,s,i),h=x.length,d=0;d<h;++d){var v=x[d],k=v[r],S=v[o],w=v._stacks||(v._stacks={}),P=((e=w[o]=getOrCreateStack(a,l,k))[n]=S,e._top=getLastIndexInStack(e,s,!0,i.type),e._bottom=getLastIndexInStack(e,s,!1,i.type),e._visualValues||(e._visualValues={}));P[n]=S}}function getFirstScaleId(a,o){var e=a.scales;return Object.keys(e).filter(function(a){return e[a].axis===o}).shift()}function createDatasetContext(a,t){return(0,_helpersSegment.j)(a,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function createDataContext(a,t,e){return(0,_helpersSegment.j)(a,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function clearStacks(o,t){var l=o.controller.index,i=o.vScale&&o.vScale.axis;if(i){var a,r=_createForOfIteratorHelper(t=t||o._parsed);try{for(r.s();!(a=r.n()).done;){var d=a.value,c=d._stacks;if(!c||void 0===c[i]||void 0===c[i][l])return;delete c[i][l],void 0!==c[i]._visualValues&&void 0!==c[i]._visualValues[l]&&delete c[i]._visualValues[l]}}catch(e){r.e(e)}finally{r.f()}}}var isDirectUpdateMode=function(e){return"reset"===e||"none"===e},cloneIfNotShared=function(a,t){return t?a:Object.assign({},a)},createStack=function(a,t,e){return a&&!t.hidden&&t._stacked&&{keys:getSortedDatasetIndices(e,!0),values:null}},DatasetController=exports.DatasetController=/*#__PURE__*/function(){var o=Math.min;function n(a,t){_classCallCheck(this,n),this.chart=a,this._ctx=a.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=(this instanceof n?this.constructor:void 0).datasetElementType,this.dataElementType=(this instanceof n?this.constructor:void 0).dataElementType,this.initialize()}return _createClass(n,[{key:"initialize",value:function(){var e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}},{key:"updateIndex",value:function(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}},{key:"linkScales",value:function(){var o=this.chart,l=this._cachedMeta,e=this.getDataset(),d=function(a,t,e,i){return"x"===a?t:"r"===a?i:e},c=l.xAxisID=(0,_helpersSegment.v)(e.xAxisID,getFirstScaleId(o,"x")),s=l.yAxisID=(0,_helpersSegment.v)(e.yAxisID,getFirstScaleId(o,"y")),e=l.rAxisID=(0,_helpersSegment.v)(e.rAxisID,getFirstScaleId(o,"r")),o=l.indexAxis,n=l.iAxisID=d(o,c,s,e),d=l.vAxisID=d(o,s,c,e);l.xScale=this.getScaleForId(c),l.yScale=this.getScaleForId(s),l.rScale=this.getScaleForId(e),l.iScale=this.getScaleForId(n),l.vScale=this.getScaleForId(d)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(e){return this.chart.scales[e]}},{key:"_getOtherScale",value:function(a){var t=this._cachedMeta;return a===t.iScale?t.vScale:t.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var e=this._cachedMeta;this._data&&(0,_helpersSegment.u)(this._data,this),e._stacked&&clearStacks(e)}},{key:"_dataCheck",value:function(){var o=this.getDataset(),t=o.data||(o.data=[]),e=this._data;if((0,_helpersSegment.i)(t))this._data=convertObjectDataToArray(t);else if(e!==t){if(e){(0,_helpersSegment.u)(e,this);var i=this._cachedMeta;clearStacks(i),i._parsed=[]}t&&Object.isExtensible(t)&&(0,_helpersSegment.l)(t,this),this._syncList=[],this._data=t}}},{key:"addElements",value:function(){var e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(o){var t=this._cachedMeta,e=this.getDataset(),i=!1;this._dataCheck();var n=t._stacked;t._stacked=isStacked(t.vScale,t),t.stack!==e.stack&&(i=!0,clearStacks(t),t.stack=e.stack),this._resyncElements(o),(i||n!==t._stacked)&&updateStacks(this,t._parsed)}},{key:"configure",value:function(){var a=this.chart.config,t=a.datasetScopeKeys(this._type),t=a.getOptionScopes(this.getDataset(),t,!0);this.options=a.createResolver(t,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}},{key:"parse",value:function(g,t){var e,u,p,m=this._cachedMeta,i=this._data,a=m.iScale,s=m._stacked,n=a.axis,r=0===g&&t===i.length||m._sorted,y=0<g&&m._parsed[g-1];if(!1===this._parsing)m._parsed=i,m._sorted=!0,p=i;else{for(p=(0,_helpersSegment.b)(i[g])?this.parseArrayData(m,i,g,t):(0,_helpersSegment.i)(i[g])?this.parseObjectData(m,i,g,t):this.parsePrimitiveData(m,i,g,t),e=0;e<t;++e)m._parsed[e+g]=u=p[e],r&&((null===u[n]||y&&u[n]<y[n])&&(r=!1),y=u);m._sorted=r}s&&updateStacks(this,p)}},{key:"parsePrimitiveData",value:function(p,t,e,i){var a,h,m,y=p.iScale,s=p.vScale,n=y.axis,r=s.axis,o=y.getLabels(),l=Array(i);for(a=0,h=i;a<h;++a)m=a+e,l[a]=_defineProperty(_defineProperty({},n,y===s||y.parse(o[m],m)),r,s.parse(t[m],m));return l}},{key:"parseArrayData",value:function(c,t,e,i){var a,g,u,p,m=c.xScale,s=c.yScale,n=Array(i);for(a=0,g=i;a<g;++a)p=t[u=a+e],n[a]={x:m.parse(p[0],u),y:s.parse(p[1],u)};return n}},{key:"parseObjectData",value:function(g,t,e,i){var a,p,m,y,f=g.xScale,s=g.yScale,n=this._parsing,x=n.xAxisKey,_=void 0===x?"x":x,r=n.yAxisKey,b=void 0===r?"y":r,o=Array(i);for(a=0,p=i;a<p;++a)y=t[m=a+e],o[a]={x:f.parse((0,_helpersSegment.f)(y,_),m),y:s.parse((0,_helpersSegment.f)(y,b),m)};return o}},{key:"getParsed",value:function(e){return this._cachedMeta._parsed[e]}},{key:"getDataElement",value:function(e){return this._cachedMeta.data[e]}},{key:"applyStack",value:function(o,t,e){var i=this.chart,a=this._cachedMeta,l=t[o.axis];return _applyStack({keys:getSortedDatasetIndices(i,!0),values:t._stacks[o.axis]._visualValues},l,a.index,{mode:e})}},{key:"updateRangeFromParsed",value:function(l,t,e,r){var a=e[t.axis],s=null===a?NaN:a;e=r&&e._stacks[t.axis],r&&e&&(r.values=e,s=_applyStack(r,a,this._cachedMeta.index)),l.min=o(l.min,s),l.max=Math.max(l.max,s)}},{key:"getMinMax",value:function(p,e){function t(){var e=(m=i[g])[n.axis];return!(0,_helpersSegment.g)(m[p.axis])||f>e||h<e}var g,m,y=this._cachedMeta,i=y._parsed,a=y._sorted&&p===y.iScale,s=i.length,n=this._getOtherScale(p),r=createStack(e,y,this.chart),o={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},l=getUserBounds(n),f=l.min,h=l.max;for(g=0;g<s&&(t()||(this.updateRangeFromParsed(o,p,m,r),!a));++g);if(a)for(g=s-1;0<=g;--g)if(!t()){this.updateRangeFromParsed(o,p,m,r);break}return o}},{key:"getAllParsedValues",value:function(o){var t,l,r,d=this._cachedMeta._parsed,e=[];for(t=0,l=d.length;t<l;++t)r=d[t][o.axis],(0,_helpersSegment.g)(r)&&e.push(r);return e}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(o){var t=this._cachedMeta,n=t.iScale,i=t.vScale;return t=this.getParsed(o),{label:n?""+n.getLabelForValue(t[n.axis]):"",value:i?""+i.getLabelForValue(t[i.axis]):""}}},{key:"_update",value:function(a){var t=this._cachedMeta;this.update(a||"default"),t._clip=toClip((0,_helpersSegment.v)(this.options.clip,defaultClip(t.xScale,t.yScale,this.getMaxOverflow())))}},{key:"update",value:function(){}},{key:"draw",value:function(){var c,g=this._ctx,t=this.chart,e=this._cachedMeta,i=e.data||[],a=t.chartArea,s=[],n=this._drawStart||0,r=this._drawCount||i.length-n,o=this.options.drawActiveElementsOnTop;for(e.dataset&&e.dataset.draw(g,a,n,r),c=n;c<n+r;++c){var l=i[c];l.hidden||(l.active&&o?s.push(l):l.draw(g,a))}for(c=0;c<s.length;++c)s[c].draw(g,a)}},{key:"getStyle",value:function(a,t){return t=t?"active":"default",void 0===a&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(t):this.resolveDataElementOptions(a||0,t)}},{key:"getContext",value:function(o,t,e){var i,l=this.getDataset();if(0<=o&&o<this._cachedMeta.data.length){var a=this._cachedMeta.data[o];(i=a.$context||(a.$context=createDataContext(this.getContext(),o,a))).parsed=this.getParsed(o),i.raw=l.data[o],i.index=i.dataIndex=o}else(i=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index))).dataset=l,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=e,i}},{key:"resolveDatasetElementOptions",value:function(e){return this._resolveElementOptions(this.datasetElementType.id,e)}},{key:"resolveDataElementOptions",value:function(a,t){return this._resolveElementOptions(this.dataElementType.id,t,a)}},{key:"_resolveElementOptions",value:function(a){var c=this,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default",e=2<arguments.length?arguments[2]:void 0;return function(i){var u="active"===g,a=c._cachedDataOpts,s=i+"-"+g,n=a[s],p=c.enableOptionSharing&&(0,_helpersSegment.h)(e);if(n)return cloneIfNotShared(n,p);var o=c.chart.config,n=o.datasetElementScopeKeys(c._type,i),l=u?[i+"Hover","hover",i,""]:[i,""],n=o.getOptionScopes(c.getDataset(),n),i=Object.keys(_helpersSegment.d.elements[i]),h=o.resolveNamedOptions(n,i,function(){return c.getContext(e,u,g)},l);return h.$shared&&(h.$shared=p,a[s]=Object.freeze(cloneIfNotShared(h,p))),h}(a)}},{key:"_resolveAnimations",value:function(d,t,e){var i=this.chart,a=this._cachedDataOpts,s="animation-"+t,n=a[s];if(n)return n;var c;if(!1!==i.options.animation){var g=this.chart.config;n=g.datasetAnimationScopeKeys(this._type,t),n=g.getOptionScopes(this.getDataset(),n),c=g.createResolver(n,this.getContext(d,e,t))}return n=new Animations(i,c&&c.animations),c&&c._cacheable&&(a[s]=Object.freeze(n)),n}},{key:"getSharedOptions",value:function(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}},{key:"includeOptions",value:function(a,t){return!t||isDirectUpdateMode(a)||this.chart._animationsDisabled}},{key:"_getSharedOptions",value:function(o,n){var o=this.resolveDataElementOptions(o,n),e=this._sharedOptions,l=this.getSharedOptions(o),e=this.includeOptions(n,l)||l!==e;return this.updateSharedOptions(l,n,o),{sharedOptions:l,includeOptions:e}}},{key:"updateElement",value:function(o,t,e,i){isDirectUpdateMode(i)?Object.assign(o,e):this._resolveAnimations(t,i).update(o,e)}},{key:"updateSharedOptions",value:function(a,t,e){a&&!isDirectUpdateMode(t)&&this._resolveAnimations(void 0,t).update(a,e)}},{key:"_setStyle",value:function(o,t,e,i){o.active=i;var a=this.getStyle(t,i);this._resolveAnimations(t,e,i).update(o,{options:!i&&this.getSharedOptions(a)||a})}},{key:"removeHoverStyle",value:function(a,t,e){this._setStyle(a,e,"active",!1)}},{key:"setHoverStyle",value:function(a,t,e){this._setStyle(a,e,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}},{key:"_resyncElements",value:function(l){var t,d,c,g,u=this._data,p=this._cachedMeta.data,h=_createForOfIteratorHelper(this._syncList);try{for(h.s();!(g=h.n()).done;){var m=_slicedToArray(g.value,3);t=m[0],d=m[1],c=m[2],this[t](d,c)}}catch(e){h.e(e)}finally{h.f()}this._syncList=[];var p=p.length,u=u.length,y=o(u,p);y&&this.parse(0,y),p<u?this._insertElements(p,u-p,l):u<p&&this._removeElements(u,p-u)}},{key:"_insertElements",value:function(l,d){var e,t=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2],i=this._cachedMeta,a=i.data,s=l+d,n=function(a){for(a.length+=d,e=a.length-1;e>=s;e--)a[e]=a[e-d]};for(n(a),e=l;e<s;++e)a[e]=new this.dataElementType;this._parsing&&n(i._parsed),this.parse(l,d),t&&this.updateElements(a,l,d,"reset")}},{key:"updateElements",value:function(){}},{key:"_removeElements",value:function(o,t){var e,n=this._cachedMeta;this._parsing&&(e=n._parsed.splice(o,t),n._stacked&&clearStacks(n,e)),n.data.splice(o,t)}},{key:"_sync",value:function(o){var t,n,l,s;this._parsing?this._syncList.push(o):(t=_slicedToArray(o,3),n=t[0],l=t[1],s=t[2],this[n](l,s)),this.chart._dataChanges.push([this.index].concat(_toConsumableArray(o)))}},{key:"_onDataPush",value:function(){var e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}},{key:"_onDataPop",value:function(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._sync(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(a,t){t&&this._sync(["_removeElements",a,t]);var e=arguments.length-2;e&&this._sync(["_insertElements",a,e])}},{key:"_onDataUnshift",value:function(){this._sync(["_insertElements",0,arguments.length])}}])}();_defineProperty(DatasetController,"defaults",{}),_defineProperty(DatasetController,"datasetElementType",null),_defineProperty(DatasetController,"dataElementType",null);function getAllScaleValues(o,a){if(!o._cache.$bar){for(var t=o.getMatchingVisibleMetas(a),n=[],l=0,s=t.length;l<s;l++)n=n.concat(t[l].controller.getAllParsedValues(o));o._cache.$bar=(0,_helpersSegment._)(n.sort(function(a,t){return a-t}))}return o._cache.$bar}function computeMinSampleSize(d){var t,c,g,u,p=d.iScale,e=getAllScaleValues(p,d.type),i=p._length,h=function(){32767!==g&&-32768!==g&&((0,_helpersSegment.h)(u)&&(i=Math.min(i,Math.abs(g-u)||i)),u=g)};for(t=0,c=e.length;t<c;++t)g=p.getPixelForValue(e[t]),h();for(u=void 0,t=0,c=p.ticks.length;t<c;++t)g=p.getPixelForTick(t),h();return i}function computeFitCategoryTraits(o,t,e,i){var a,l,d=e.barThickness;return l=(0,_helpersSegment.k)(d)?(a=t.min*e.categoryPercentage,e.barPercentage):(a=d*i,1),{chunk:a/i,ratio:l,start:t.pixels[o]-a/2}}function computeFlexCategoryTraits(l,d,e,i){var a=Math.abs,c=Math.min,g=d.pixels,u=g[l],n=0<l?g[l-1]:null,p=l<g.length-1?g[l+1]:null;return g=e.categoryPercentage,null===n&&(n=u-(null===p?d.end-d.start:p-u)),null===p&&(p=u+u-n),l=u-(u-c(n,p))/2*g,{chunk:a(p-n)/2*g/i,ratio:e.barPercentage,start:l}}function parseFloatBar(l,d,e,i){var c=Math.abs,g=e.parse(l[0],i),l=e.parse(l[1],i),i=Math.min(g,l),s=Math.max(g,l),n=i,u=s;c(i)>c(s)&&(n=s,u=i),d[e.axis]=u,d._custom={barStart:n,barEnd:u,start:g,end:l,min:i,max:s}}function parseValue(o,t,e,i){return(0,_helpersSegment.b)(o)?parseFloatBar(o,t,e,i):t[e.axis]=e.parse(o,i),t}function parseArrayOrPrimitive(o,t,e,i){var a,g,p,m,y=o.iScale,s=o.vScale,n=y.getLabels(),r=[];for(g=(a=e)+i;a<g;++a)m=t[a],(p={})[y.axis]=y===s||y.parse(n[a],a),r.push(parseValue(m,p,s,a));return r}function isFloatBar(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function barSign(a,t,e){return 0===a?(t.isHorizontal()?1:-1)*(t.min>=e?1:-1):(0,_helpersSegment.s)(a)}function borderProps(o){var t,l,r,d,c;return r=o.horizontal?(t=o.base>o.x,l="left","right"):(t=o.base<o.y,l="bottom","top"),c=t?(d="end","start"):(d="start","end"),{start:l,end:r,reverse:t,top:d,bottom:c}}function setBorderSkipped(d,t,c,i){var a,g,u,p,m,y=t.borderSkipped,f={};y?!0===y?d.borderSkipped={top:!0,right:!0,bottom:!0,left:!0}:(a=borderProps(d),t=a.start,g=a.end,u=a.reverse,p=a.top,m=a.bottom,"middle"===y&&c&&(d.enableBorderRadius=!0,y=(c._top||0)===i?p:(c._bottom||0)===i?m:(f[parseEdge(m,t,g,u)]=!0,p)),f[parseEdge(y,t,g,u)]=!0,d.borderSkipped=f):d.borderSkipped=f}function parseEdge(o,n,e,i){return o=i?startEnd(o=swap(o,n,e),e,n):startEnd(o,n,e)}function swap(a,t,e){return a===t?e:a===e?t:a}function startEnd(a,t,e){return"start"===a?t:"end"===a?e:a}function setInflateAmount(a,t,o){var i=t.inflateAmount;a.inflateAmount="auto"===i?1===o?.33:0:i}var BarController=exports.BarController=/*#__PURE__*/function(e){var y=Math.abs,x=Math.max,_=Math.min;function b(){return _classCallCheck(this,b),_callSuper(this,b,arguments)}return _inherits(b,e),_createClass(b,[{key:"parsePrimitiveData",value:function(o,t,e,i){return parseArrayOrPrimitive(o,t,e,i)}},{key:"parseArrayData",value:function(o,t,e,i){return parseArrayOrPrimitive(o,t,e,i)}},{key:"parseObjectData",value:function(p,m,e,i){var a,y,f,x,_=p,b=_.iScale,s=_.vScale,n=this._parsing,v=n.xAxisKey,p=void 0===v?"x":v,k=n.yAxisKey,S=void 0===k?"y":k,r="x"===b.axis?p:S,o="x"===s.axis?p:S,l=[];for(y=(a=e)+i;a<y;++a)x=m[a],(f={})[b.axis]=b.parse((0,_helpersSegment.f)(x,r),a),l.push(parseValue((0,_helpersSegment.f)(x,o),f,s,a));return l}},{key:"updateRangeFromParsed",value:function(o,t,e,i){_superPropGet(b,"updateRangeFromParsed",this,3)([o,t,e,i]),i=e._custom,i&&t===this._cachedMeta.vScale&&(o.min=_(o.min,i.min),o.max=x(o.max,i.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(o){var n=this._cachedMeta,l=n.iScale,e=n.vScale,o=this.getParsed(o),i=o._custom,i=isFloatBar(i)?"["+i.start+", "+i.end+"]":""+e.getLabelForValue(o[e.axis]);return{label:""+l.getLabelForValue(o[l.axis]),value:i}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,_superPropGet(b,"initialize",this,3)([]);var e=this._cachedMeta;e.stack=this.getDataset().stack}},{key:"update",value:function(a){var t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,a)}},{key:"updateElements",value:function(n,e,i,a){for(var s=this.index,r=this._cachedMeta.vScale,o=r.getBasePixel(),l=r.isHorizontal(),h=this._getRuler(),d=this._getSharedOptions(e,a),x=d.sharedOptions,c=d.includeOptions,u=e;u<e+i;u++){var _=this.getParsed(u),b="reset"===a||(0,_helpersSegment.k)(_[r.axis])?{base:o,head:o}:this._calculateBarValuePixels(u),k=this._calculateBarIndexPixels(u,h),S=(_._stacks||{})[r.axis],w={horizontal:l,base:b.base,enableBorderRadius:!S||isFloatBar(_._custom)||s===S._top||s===S._bottom,x:l?b.head:k.center,y:l?k.center:b.head,height:l?k.size:y(b.size),width:l?y(b.size):k.size};c&&(w.options=x||this.resolveDataElementOptions(u,n[u].active?"active":a)),_=w.options||n[u].options,setBorderSkipped(w,_,S,s),setInflateAmount(w,_,h.ratio),this.updateElement(n[u],u,w,a)}}},{key:"_getStacks",value:function(o,l){var t,i=this._cachedMeta.iScale,e=i.getMatchingVisibleMetas(this._type).filter(function(e){return e.controller.options.grouped}),a=i.options.stacked,s=[],n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var d=t.value;if((void 0===l||!function(a){var t=a.controller.getParsed(l),t=t&&t[a.vScale.axis];if((0,_helpersSegment.k)(t)||isNaN(t))return!0}(d))&&((!1===a||-1===s.indexOf(d.stack)||void 0===a&&void 0===d.stack)&&s.push(d.stack),d.index===o))break}}catch(e){n.e(e)}finally{n.f()}return s.length||s.push(void 0),s}},{key:"_getStackCount",value:function(e){return this._getStacks(void 0,e).length}},{key:"_getStackIndex",value:function(o,n,e){var i=this._getStacks(o,e);return o=void 0===n?-1:i.indexOf(n),-1===o?i.length-1:o}},{key:"_getRuler",value:function(){var o,l,d=this.options,t=this._cachedMeta,e=t.iScale,i=[];for(o=0,l=t.data.length;o<l;++o)i.push(e.getPixelForValue(this.getParsed(o)[e.axis],o));var a=d.barThickness;return{min:a||computeMinSampleSize(t),pixels:i,start:e._startPixel,end:e._endPixel,stackCount:this._getStackCount(),scale:e,grouped:d.grouped,ratio:a?1:d.categoryPercentage*d.barPercentage}}},{key:"_calculateBarValuePixels",value:function(b){var v,k,S=this._cachedMeta,w=S.vScale,e=S._stacked,i=S.index,a=this.options,P=a.base,s=a.minBarLength,n=P||0,r=this.getParsed(b),o=r._custom,D=isFloatBar(o),h=r[w.axis],C=0,A=e?this.applyStack(w,r,e):h;A!==h&&(C=A-h,A=h),D&&(h=o.barStart,A=o.barEnd-o.barStart,0!==h&&(0,_helpersSegment.s)(h)!==(0,_helpersSegment.s)(o.barEnd)&&(C=0),C+=h);var L,o=(0,_helpersSegment.k)(P)||D?C:P,E=w.getPixelForValue(o);return v=this.chart.getDataVisibility(b)?w.getPixelForValue(C+A):E,k=v-E,y(k)<s&&(k=barSign(k,w,n)*s,h===n&&(E-=k/2),o=w.getPixelForDecimal(0),b=w.getPixelForDecimal(1),L=_(o,b),o=x(o,b),E=x(_(E,o),L),v=E+k,e&&!D&&(r._stacks[w.axis]._visualValues[i]=w.getValueForPixel(v)-w.getValueForPixel(E))),E===w.getPixelForValue(n)&&(b=(0,_helpersSegment.s)(k)*w.getLineWidthForValue(n)/2,E+=b,k-=b),{size:k,base:E,head:v,center:v+k/2}}},{key:"_calculateBarIndexPixels",value:function(d,t){var e,c,g,u=t.scale,i=this.options,p=i.skipNull,n=(0,_helpersSegment.v)(i.maxBarThickness,1/0);return g=t.grouped?(e=p?this._getStackCount(d):t.stackCount,i=("flex"===i.barThickness?computeFlexCategoryTraits:computeFitCategoryTraits)(d,t,i,e),e=this._getStackIndex(this.index,this._cachedMeta.stack,p?d:void 0),c=i.start+i.chunk*e+i.chunk/2,_(n,i.chunk*i.ratio)):(c=u.getPixelForValue(this.getParsed(d)[u.axis],d),_(n,t.min*t.ratio)),{base:c-g/2,head:c+g/2,center:c,size:g}}},{key:"draw",value:function(){for(var o=this._cachedMeta,t=o.vScale,e=o.data,i=e.length,a=0;a<i;++a)null!==this.getParsed(a)[t.axis]&&e[a].draw(this._ctx)}}])}(DatasetController);_defineProperty(BarController,"id","bar"),_defineProperty(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),_defineProperty(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var BubbleController=exports.BubbleController=/*#__PURE__*/function(e){var a=Math.max;function o(){return _classCallCheck(this,o),_callSuper(this,o,arguments)}return _inherits(o,e),_createClass(o,[{key:"initialize",value:function(){this.enableOptionSharing=!0,_superPropGet(o,"initialize",this,3)([])}},{key:"parsePrimitiveData",value:function(n,t,e,i){for(var a=_superPropGet(o,"parsePrimitiveData",this,3)([n,t,e,i]),l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+e).radius;return a}},{key:"parseArrayData",value:function(l,t,e,i){for(var a,r=_superPropGet(o,"parseArrayData",this,3)([l,t,e,i]),s=0;s<r.length;s++)a=t[e+s],r[s]._custom=(0,_helpersSegment.v)(a[2],this.resolveDataElementOptions(s+e).radius);return r}},{key:"parseObjectData",value:function(l,t,e,i){for(var a,r=_superPropGet(o,"parseObjectData",this,3)([l,t,e,i]),s=0;s<r.length;s++)a=t[e+s],r[s]._custom=(0,_helpersSegment.v)(a&&a.r&&+a.r,this.resolveDataElementOptions(s+e).radius);return r}},{key:"getMaxOverflow",value:function(){for(var o=this._cachedMeta.data,e=0,n=o.length-1;0<=n;--n)e=a(e,o[n].size(this.resolveDataElementOptions(n))/2);return 0<e&&e}},{key:"getLabelAndValue",value:function(o){var t=this._cachedMeta,l=this.chart.data.labels||[],i=t,d=i.xScale,a=i.yScale,t=this.getParsed(o),s=d.getLabelForValue(t.x),n=a.getLabelForValue(t.y),t=t._custom;return{label:l[o]||"",value:"("+s+", "+n+(t?", "+t:"")+")"}}},{key:"update",value:function(a){var t=this._cachedMeta.data;this.updateElements(t,0,t.length,a)}},{key:"updateElements",value:function(m,e,i,a){for(var s="reset"===a,n=this._cachedMeta,y=n.iScale,r=n.vScale,o=this._getSharedOptions(e,a),x=o.sharedOptions,l=o.includeOptions,h=y.axis,d=r.axis,c=e;c<e+i;c++){var _=m[c],b=!s&&this.getParsed(c),v={},k=v[h]=s?y.getPixelForDecimal(.5):y.getPixelForValue(b[h]),b=v[d]=s?r.getBasePixel():r.getPixelForValue(b[d]);v.skip=isNaN(k)||isNaN(b),l&&(v.options=x||this.resolveDataElementOptions(c,_.active?"active":a),s&&(v.options.radius=0)),this.updateElement(_,c,v,a)}}},{key:"resolveDataElementOptions",value:function(n,l){var e=this.getParsed(n),i=_superPropGet(o,"resolveDataElementOptions",this,3)([n,l]);return n=(i=i.$shared?Object.assign({},i,{$shared:!1}):i).radius,"active"!==l&&(i.radius=0),i.radius+=(0,_helpersSegment.v)(e&&e._custom,n),i}}])}(DatasetController);_defineProperty(BubbleController,"id","bubble"),_defineProperty(BubbleController,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),_defineProperty(BubbleController,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function getRatioAndOffset(p,m,y){var a=Math.sin,f=Math.cos,x=1,_=1,b=0,v=0;if(m<_helpersSegment.T){var k=p,u=k+m,p=f(k),m=a(k),g=f(u),S=a(u),l=function(a,t,e){return(0,_helpersSegment.p)(a,k,u,!0)?1:Math.max(t,t*y,e,e*y)},w=function(a,t,e){return(0,_helpersSegment.p)(a,k,u,!0)?-1:Math.min(t,t*y,e,e*y)},d=l(0,p,g),l=l(_helpersSegment.H,m,S),p=w(_helpersSegment.P,p,g),g=w(_helpersSegment.P+_helpersSegment.H,m,S);x=(d-p)/2,_=(l-g)/2,b=-(d+p)/2,v=-(l+g)/2}return{ratioX:x,ratioY:_,offsetX:b,offsetY:v}}var DoughnutController=exports.DoughnutController=/*#__PURE__*/function(e){var i=Math.abs,c=Math.max,g=Math.min;function u(a,t){var e;return _classCallCheck(this,u),e=_callSuper(this,u,[a,t]),e.enableOptionSharing=!0,e.innerRadius=void 0,e.outerRadius=void 0,e.offsetX=void 0,e.offsetY=void 0,e}return _inherits(u,e),_createClass(u,[{key:"linkScales",value:function(){}},{key:"parse",value:function(l,a){var s=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=s;else{var r=function(e){return+s[e]};if((0,_helpersSegment.i)(s[l])){var d=this._parsing.key,c=void 0===d?"value":d;r=function(e){return+(0,_helpersSegment.f)(s[e],c)}}var o,g;for(g=(o=l)+a;o<g;++o)n._parsed[o]=r(o)}}},{key:"_getRotation",value:function(){return(0,_helpersSegment.t)(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return(0,_helpersSegment.t)(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var o=_helpersSegment.T,l=-_helpersSegment.T,r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){var d=this.chart.getDatasetMeta(r).controller,u=d._getRotation(),p=d._getCircumference();o=g(o,u),l=c(l,u+p)}return{rotation:o,circumference:l-o}}},{key:"update",value:function(u){var t=this.chart.chartArea,p=this._cachedMeta,i=p.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,m=c((g(t.width,t.height)-a)/2,0),m=g((0,_helpersSegment.m)(this.options.cutout,m),1),y=this._getRingWeight(this.index),r=this._getRotationExtents(),f=r.circumference,x=r.rotation,_=getRatioAndOffset(x,f,m),x=_.ratioX,f=_.ratioY,b=_.offsetX,h=_.offsetY,x=(t.width-a)/x,t=(t.height-a)/f,a=c(g(x,t)/2,0),f=(0,_helpersSegment.n)(this.options.radius,a),x=(f-c(f*m,0))/this._getVisibleDatasetWeightTotal();this.offsetX=b*f,this.offsetY=h*f,p.total=this.calculateTotal(),this.outerRadius=f-x*this._getRingWeightOffset(this.index),this.innerRadius=c(this.outerRadius-x*y,0),this.updateElements(i,0,i.length,u)}},{key:"_circumference",value:function(o,t){var e=this.options,i=this._cachedMeta,a=this._getCircumference();return t&&e.animation.animateRotate||!this.chart.getDataVisibility(o)||null===i._parsed[o]||i.data[o].hidden?0:this.calculateCircumference(i._parsed[o]*a/_helpersSegment.T)}},{key:"updateElements",value:function(y,t,e,i){var a,x="reset"===i,s=this.chart,_=s.chartArea,s=s.options.animation,b=(_.left+_.right)/2,o=(_.top+_.bottom)/2,_=x&&s.animateScale,l=_?0:this.innerRadius,h=_?0:this.outerRadius,d=this._getSharedOptions(t,i),k=d.sharedOptions,c=d.includeOptions,u=this._getRotation();for(a=0;a<t;++a)u+=this._circumference(a,x);for(a=t;a<t+e;++a){var S=this._circumference(a,x),w=y[a],P={x:b+this.offsetX,y:o+this.offsetY,startAngle:u,endAngle:u+S,circumference:S,outerRadius:h,innerRadius:l};c&&(P.options=k||this.resolveDataElementOptions(a,w.active?"active":i)),u+=S,this.updateElement(w,a,P,i)}}},{key:"calculateTotal",value:function(){var o,n=this._cachedMeta,t=n.data,e=0;for(o=0;o<t.length;o++){var l=n._parsed[o];null===l||isNaN(l)||!this.chart.getDataVisibility(o)||t[o].hidden||(e+=i(l))}return e}},{key:"calculateCircumference",value:function(a){var t=this._cachedMeta.total;return 0<t&&!isNaN(a)?_helpersSegment.T*(i(a)/t):0}},{key:"getLabelAndValue",value:function(o){var t=this._cachedMeta,n=this.chart,i=n.data.labels||[],t=(0,_helpersSegment.o)(t._parsed[o],n.options.locale);return{label:i[o]||"",value:t}}},{key:"getMaxBorderWidth",value:function(l){var d,g,u,p,h,m=0,y=this.chart;if(!l)for(d=0,g=y.data.datasets.length;d<g;++d)if(y.isDatasetVisible(d)){l=(u=y.getDatasetMeta(d)).data,p=u.controller;break}if(!l)return 0;for(d=0,g=l.length;d<g;++d)"inner"!==(h=p.resolveDataElementOptions(d)).borderAlign&&(m=c(m,h.borderWidth||0,h.hoverBorderWidth||0));return m}},{key:"getMaxOffset",value:function(o){for(var i,n=0,l=0,r=o.length;l<r;++l)i=this.resolveDataElementOptions(l),n=c(n,i.offset||0,i.hoverOffset||0);return n}},{key:"_getRingWeightOffset",value:function(a){for(var e=0,o=0;o<a;++o)this.chart.isDatasetVisible(o)&&(e+=this._getRingWeight(o));return e}},{key:"_getRingWeight",value:function(e){return c((0,_helpersSegment.v)(this.chart.data.datasets[e].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}])}(DatasetController);_defineProperty(DoughnutController,"id","doughnut"),_defineProperty(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),_defineProperty(DoughnutController,"descriptors",{_scriptable:function(e){return"spacing"!==e},_indexable:function(e){return"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}}),_defineProperty(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(o){var e=o.data;if(e.labels.length&&e.datasets.length){var t=o.legend.options.labels,l=t.pointStyle,n=t.color;return e.labels.map(function(s,t){var e=o.getDatasetMeta(0),i=e.controller.getStyle(t);return{text:s,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:n,lineWidth:i.borderWidth,pointStyle:l,hidden:!o.getDataVisibility(t),index:t}})}return[]}},onClick:function(a,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}}}});var LineController=exports.LineController=/*#__PURE__*/function(e){var g=Math.abs,v=Number.POSITIVE_INFINITY,k=Math.max;function S(){return _classCallCheck(this,S),_callSuper(this,S,arguments)}return _inherits(S,e),_createClass(S,[{key:"initialize",value:function(){this.enableOptionSharing=!0,this.supportsDecimation=!0,_superPropGet(S,"initialize",this,3)([])}},{key:"update",value:function(d){var t=this._cachedMeta,e=t.dataset,i=t.data,c=void 0===i?[]:i,a=t._dataset,s=this.chart._animationsDisabled,n=(0,_helpersSegment.q)(t,c,s),g=n.start,u=n.count;this._drawStart=g,this._drawCount=u,(0,_helpersSegment.w)(t)&&(g=0,u=c.length),e._chart=this.chart,e._datasetIndex=this.index,e._decimated=!!a._decimated,e.points=c;var p=this.resolveDatasetElementOptions(d);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(e,void 0,{animated:!s,options:p},d),this.updateElements(c,g,u,d)}},{key:"updateElements",value:function(w,e,i,t){for(var a="reset"===t,s=this._cachedMeta,P=s.iScale,n=s.vScale,r=s._stacked,o=s._dataset,l=this._getSharedOptions(e,t),C=l.sharedOptions,h=l.includeOptions,d=P.axis,c=n.axis,u=this.options,A=u.spanGaps,L=u.segment,p=(0,_helpersSegment.x)(A)?A:v,f=this.chart._animationsDisabled||a||"none"===t,m=w.length,x=0<e&&this.getParsed(e-1),E=0;E<m;++E){var T,R,O,z,F=w[E],I=f?F:{};E<e||E>=e+i?I.skip=!0:(T=this.getParsed(E),R=(0,_helpersSegment.k)(T[c]),O=I[d]=P.getPixelForValue(T[d],E),z=I[c]=a||R?n.getBasePixel():n.getPixelForValue(r?this.applyStack(n,T,r):T[c],E),I.skip=isNaN(O)||isNaN(z)||R,I.stop=0<E&&g(T[d]-x[d])>p,L&&(I.parsed=T,I.raw=o.data[E]),h&&(I.options=C||this.resolveDataElementOptions(E,F.active?"active":t)),f||this.updateElement(F,E,I,t),x=T)}}},{key:"getMaxOverflow",value:function(){var o=this._cachedMeta,n=o.dataset,n=n.options&&n.options.borderWidth||0,l=o.data||[];if(!l.length)return n;var o=l[0].size(this.resolveDataElementOptions(0)),i=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return k(n,o,i)/2}},{key:"draw",value:function(){var e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),_superPropGet(S,"draw",this,3)([])}}])}(DatasetController);_defineProperty(LineController,"id","line"),_defineProperty(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),_defineProperty(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var PolarAreaController=exports.PolarAreaController=/*#__PURE__*/function(e){var i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,n=Math.max,l=Math.min;function s(a,t){var e;return _classCallCheck(this,s),e=_callSuper(this,s,[a,t]),e.innerRadius=void 0,e.outerRadius=void 0,e}return _inherits(s,e),_createClass(s,[{key:"getLabelAndValue",value:function(o){var t=this._cachedMeta,n=this.chart,i=n.data.labels||[],t=(0,_helpersSegment.o)(t._parsed[o].r,n.options.locale);return{label:i[o]||"",value:t}}},{key:"parseObjectData",value:function(o,t,e,i){return _helpersSegment.y.bind(this)(o,t,e,i)}},{key:"update",value:function(a){var t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,a)}},{key:"getMinMax",value:function(){var n=this,l=this._cachedMeta,s={min:i,max:o};return l.data.forEach(function(a,t){var e=n.getParsed(t).r;!isNaN(e)&&n.chart.getDataVisibility(t)&&(e<s.min&&(s.min=e),e>s.max&&(s.max=e))}),s}},{key:"_updateRadius",value:function(){var a=this.chart,t=a.chartArea,o=a.options,t=l(t.right-t.left,t.bottom-t.top),t=n(t/2,0),o=(t-n(o.cutoutPercentage?t/100*o.cutoutPercentage:1,0))/a.getVisibleDatasetCount();this.outerRadius=t-o*this.index,this.innerRadius=this.outerRadius-o}},{key:"updateElements",value:function(n,a,t,e){var s,y=this.chart,r=y.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,h=o.yCenter,d=o.getIndexAngle(0)-.5*_helpersSegment.P,c=d,x=360/this.countVisibleElements();for(s=0;s<a;++s)c+=this._computeAngle(s,e,x);for(s=a;s<a+t;s++){var p=n[s],_=c,b=c+this._computeAngle(s,e,x),v=y.getDataVisibility(s)?o.getDistanceFromCenterForValue(this.getParsed(s).r):0;c=b,"reset"===e&&(r.animateScale&&(v=0),r.animateRotate&&(_=b=d));var k={x:l,y:h,innerRadius:0,outerRadius:v,startAngle:_,endAngle:b,options:this.resolveDataElementOptions(s,p.active?"active":e)};this.updateElement(p,s,k,e)}}},{key:"countVisibleElements",value:function(){var a=this,o=this._cachedMeta,n=0;return o.data.forEach(function(i,t){!isNaN(a.getParsed(t).r)&&a.chart.getDataVisibility(t)&&n++}),n}},{key:"_computeAngle",value:function(a,t,e){return this.chart.getDataVisibility(a)?(0,_helpersSegment.t)(this.resolveDataElementOptions(a,t).angle||e):0}}])}(DatasetController);_defineProperty(PolarAreaController,"id","polarArea"),_defineProperty(PolarAreaController,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),_defineProperty(PolarAreaController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(o){var e=o.data;if(e.labels.length&&e.datasets.length){var t=o.legend.options.labels,l=t.pointStyle,n=t.color;return e.labels.map(function(s,t){var e=o.getDatasetMeta(0),i=e.controller.getStyle(t);return{text:s,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:n,lineWidth:i.borderWidth,pointStyle:l,hidden:!o.getDataVisibility(t),index:t}})}return[]}},onClick:function(a,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var PieController=exports.PieController=/*#__PURE__*/function(e){function t(){return _classCallCheck(this,t),_callSuper(this,t,arguments)}return _inherits(t,e),_createClass(t)}(DoughnutController);_defineProperty(PieController,"id","pie"),_defineProperty(PieController,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var RadarController=exports.RadarController=/*#__PURE__*/function(e){function t(){return _classCallCheck(this,t),_callSuper(this,t,arguments)}return _inherits(t,e),_createClass(t,[{key:"getLabelAndValue",value:function(a){var t=this._cachedMeta.vScale,e=this.getParsed(a);return{label:t.getLabels()[a],value:""+t.getLabelForValue(e[t.axis])}}},{key:"parseObjectData",value:function(o,t,e,i){return _helpersSegment.y.bind(this)(o,t,e,i)}},{key:"update",value:function(o){var t=this._cachedMeta,e=t.dataset,i=t.data||[],a=t.iScale.getLabels();if(e.points=i,"resize"!==o){var l=this.resolveDatasetElementOptions(o);this.options.showLine||(l.borderWidth=0),a={_loop:!0,_fullLoop:a.length===i.length,options:l},this.updateElement(e,void 0,a,o)}this.updateElements(i,0,i.length,o)}},{key:"updateElements",value:function(g,e,i,a){for(var s=this._cachedMeta.rScale,n="reset"===a,r=e;r<e+i;r++){var u=g[r],p=this.resolveDataElementOptions(r,u.active?"active":a),m=s.getPointPositionForValue(r,this.getParsed(r).r),y=n?s.xCenter:m.x,f=n?s.yCenter:m.y,m={x:y,y:f,angle:m.angle,skip:isNaN(y)||isNaN(f),options:p};this.updateElement(u,r,m,a)}}}])}(DatasetController);_defineProperty(RadarController,"id","radar"),_defineProperty(RadarController,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),_defineProperty(RadarController,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var ScatterController=exports.ScatterController=/*#__PURE__*/function(e){var t=Math.abs,w=Number.POSITIVE_INFINITY,P=Math.max;function D(){return _classCallCheck(this,D),_callSuper(this,D,arguments)}return _inherits(D,e),_createClass(D,[{key:"getLabelAndValue",value:function(o){var t=this._cachedMeta,l=this.chart.data.labels||[],i=t,r=i.xScale,a=i.yScale,t=this.getParsed(o),s=r.getLabelForValue(t.x),t=a.getLabelForValue(t.y);return{label:l[o]||"",value:"("+s+", "+t+")"}}},{key:"update",value:function(d){var t=this._cachedMeta,e=t.data,c=void 0===e?[]:e,i=this.chart._animationsDisabled,a=(0,_helpersSegment.q)(t,c,i),g=a.start,u=a.count;if(this._drawStart=g,this._drawCount=u,(0,_helpersSegment.w)(t)&&(g=0,u=c.length),this.options.showLine){this.datasetElementType||this.addElements();var p=t.dataset,r=t._dataset,o=(p._chart=this.chart,p._datasetIndex=this.index,p._decimated=!!r._decimated,p.points=c,this.resolveDatasetElementOptions(d));o.segment=this.options.segment,this.updateElement(p,void 0,{animated:!i,options:o},d)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(c,g,u,d)}},{key:"addElements",value:function(){var e=this.options.showLine;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),_superPropGet(D,"addElements",this,3)([])}},{key:"updateElements",value:function(P,e,i,a){for(var s="reset"===a,n=this._cachedMeta,C=n.iScale,r=n.vScale,o=n._stacked,l=n._dataset,h=this.resolveDataElementOptions(e,a),A=this.getSharedOptions(h),d=this.includeOptions(a,A),c=C.axis,u=r.axis,g=this.options,L=g.spanGaps,p=g.segment,f=(0,_helpersSegment.x)(L)?L:w,m=this.chart._animationsDisabled||s||"none"===a,v=0<e&&this.getParsed(e-1),E=e;E<e+i;++E){var T=P[E],R=this.getParsed(E),O=m?T:{},z=(0,_helpersSegment.k)(R[u]),F=O[c]=C.getPixelForValue(R[c],E),I=O[u]=s||z?r.getBasePixel():r.getPixelForValue(o?this.applyStack(r,R,o):R[u],E);O.skip=isNaN(F)||isNaN(I)||z,O.stop=0<E&&t(R[c]-v[c])>f,p&&(O.parsed=R,O.raw=l.data[E]),d&&(O.options=A||this.resolveDataElementOptions(E,T.active?"active":a)),m||this.updateElement(T,E,O,a),v=R}this.updateSharedOptions(A,a,h)}},{key:"getMaxOverflow",value:function(){var o=this._cachedMeta,n=o.data||[];if(!this.options.showLine){for(var i=0,l=n.length-1;0<=l;--l)i=P(i,n[l].size(this.resolveDataElementOptions(l))/2);return 0<i&&i}if(o=o.dataset,o=o.options&&o.options.borderWidth||0,!n.length)return o;var s=n[0].size(this.resolveDataElementOptions(0)),e=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return P(o,s,e)/2}}])}(DatasetController);_defineProperty(ScatterController,"id","scatter"),_defineProperty(ScatterController,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),_defineProperty(ScatterController,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var controllers=exports.controllers=Object.freeze({__proto__:null,BarController:BarController,BubbleController:BubbleController,DoughnutController:DoughnutController,LineController:LineController,PieController:PieController,PolarAreaController:PolarAreaController,RadarController:RadarController,ScatterController:ScatterController});function _abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var DateAdapterBase=/*#__PURE__*/function(){function e(a){_classCallCheck(this,e),_defineProperty(this,"options",void 0),this.options=a||{}}return _createClass(e,[{key:"init",value:function(){}},{key:"formats",value:function(){return _abstract()}},{key:"parse",value:function(){return _abstract()}},{key:"format",value:function(){return _abstract()}},{key:"add",value:function(){return _abstract()}},{key:"diff",value:function(){return _abstract()}},{key:"startOf",value:function(){return _abstract()}},{key:"endOf",value:function(){return _abstract()}}],[{key:"override",value:function(a){Object.assign(e.prototype,a)}}])}(),adapters=exports._adapters={_date:DateAdapterBase};function binarySearch(d,c,e,i){var g=d,d=g.controller,u=g.data,s=g._sorted,p=d._cachedMeta.iScale;if(p&&c===p.axis&&"r"!==c&&s&&u.length){var h=p._reversePixels?_helpersSegment.A:_helpersSegment.B;if(!i)return h(u,c,e);if(d._sharedOptions){var o=u[0];if(s="function"==typeof o.getRange&&o.getRange(c),s)return p=h(u,c,e-s),i=h(u,c,e+s),{lo:p.lo,hi:i.hi}}}return{lo:0,hi:u.length-1}}function evaluateInteractionItems(g,t,i,e,a){for(var s=g.getSortedVisibleDatasetMetas(),n=i[t],r=0,u=s.length;r<u;++r)for(var p,m=s[r],y=m.index,f=m.data,x=binarySearch(s[r],t,n,a),_=x.lo,b=x.hi,v=_;v<=b;++v)p=f[v],p.skip||e(p,y,v)}function getDistanceMetricForAxis(e){var o=Math.pow,n=Math.abs,l=-1!==e.indexOf("x"),a=-1!==e.indexOf("y");return function(s,r){var e=l?n(s.x-r.x):0,s=a?n(s.y-r.y):0;return Math.sqrt(o(e,2)+o(s,2))}}function getIntersectItems(l,a,e,s,n){var r=[];return n||l.isPointInArea(a)?(evaluateInteractionItems(l,e,a,function(o,t,e){(n||(0,_helpersSegment.C)(o,l.chartArea,0))&&o.inRange(a.x,a.y,s)&&r.push({element:o,datasetIndex:t,index:e})},!0),r):r}function getNearestRadialItems(a,d,t,r){var o=[];return evaluateInteractionItems(a,t,d,function(l,t,e){var i=l.getProps(["startAngle","endAngle"],r),c=i.startAngle,a=i.endAngle,s=(0,_helpersSegment.D)(l,{x:d.x,y:d.y}).angle;(0,_helpersSegment.p)(s,c,a)&&o.push({element:l,datasetIndex:t,index:e})}),o}function getNearestCartesianItems(g,n,e,r,o,l){var p=[],h=getDistanceMetricForAxis(e),c=Number.POSITIVE_INFINITY;return evaluateInteractionItems(g,e,n,function(d,t,e){var i,u=d.inRange(n.x,n.y,o);r&&!u||(i=d.getCenterPoint(o),(l||g.isPointInArea(i)||u)&&((u=h(n,i))<c?(p=[{element:d,datasetIndex:t,index:e}],c=u):u===c&&p.push({element:d,datasetIndex:t,index:e})))}),p}function getNearestItems(o,t,e,i,a,l){return l||o.isPointInArea(t)?"r"!==e||i?getNearestCartesianItems(o,t,e,i,a,l):getNearestRadialItems(o,t,e,a):[]}function getAxisItems(i,d,a,t,s){var n=[],r="x"===a?"inXRange":"inYRange",o=!1;return evaluateInteractionItems(i,a,d,function(l,t,e){l[r](d[a],s)&&(n.push({element:l,datasetIndex:t,index:e}),o=o||l.inRange(d.x,d.y,s))}),t&&!o?[]:n}var Interaction=exports.Interaction={evaluateInteractionItems:evaluateInteractionItems,modes:{index:function(l,t,d,i){var t=(0,_helpersSegment.z)(t,l),a=d.axis||"x",s=d.includeInvisible||!1,n=d.intersect?getIntersectItems(l,t,a,i,s):getNearestItems(l,t,a,!1,i,s),r=[];return n.length?(l.getSortedVisibleDatasetMetas().forEach(function(a){var t=n[0].index,e=a.data[t];e&&!e.skip&&r.push({element:e,datasetIndex:a.index,index:t})}),r):[]},dataset:function(d,t,c,i){var t=(0,_helpersSegment.z)(t,d),a=c.axis||"xy",s=c.includeInvisible||!1,n=c.intersect?getIntersectItems(d,t,a,i,s):getNearestItems(d,t,a,!1,i,s);if(0<n.length){var g=n[0].datasetIndex,o=d.getDatasetMeta(g).data;n=[];for(var l=0;l<o.length;++l)n.push({element:o[l],datasetIndex:g,index:l})}return n},point:function(o,t,e,i){return getIntersectItems(o,(0,_helpersSegment.z)(t,o),e.axis||"xy",i,e.includeInvisible||!1)},nearest:function(o,t,l,i){var t=(0,_helpersSegment.z)(t,o),a=l.axis||"xy",s=l.includeInvisible||!1;return getNearestItems(o,t,a,l.intersect,i,s)},x:function(o,t,e,i){return getAxisItems(o,(0,_helpersSegment.z)(t,o),"x",e.intersect,i)},y:function(o,t,e,i){return getAxisItems(o,(0,_helpersSegment.z)(t,o),"y",e.intersect,i)}}},STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(a,i){return a.filter(function(e){return e.pos===i})}function filterDynamicPositionByAxis(a,i){return a.filter(function(e){return-1===STATIC_POSITIONS.indexOf(e.pos)&&e.box.axis===i})}function sortByWeight(e,o){return e.sort(function(a,n){var e=o?n:a,a=o?a:n;return e.weight===a.weight?e.index-a.index:e.weight-a.weight})}function wrapBoxes(l){var t,d,c,g,u,p,h=[];for(t=0,d=(l||[]).length;t<d;++t){var e,m,y;e=c=l[t],g=e.position,m=e.options,u=m.stack,y=m.stackWeight,p=void 0===y?1:y,h.push({index:t,box:c,pos:g,horizontal:c.isHorizontal(),weight:c.weight,stack:u&&g+u,stackWeight:p})}return h}function buildStacks(o){var t,l={},e=_createForOfIteratorHelper(o);try{for(e.s();!(t=e.n()).done;){var d=t.value,c=d.stack,g=d.pos,u=d.stackWeight;if(c&&STATIC_POSITIONS.includes(g)){var p=l[c]||(l[c]={count:0,placed:0,weight:0,size:0});p.count++,p.weight+=u}}}catch(t){e.e(t)}finally{e.f()}return l}function setLayoutDims(d,t){var e,c,g,u=buildStacks(d),i=t.vBoxMaxWidth,a=t.hBoxMaxHeight;for(e=0,c=d.length;e<c;++e){var s=(g=d[e]).box.fullSize,p=u[g.stack],p=p&&g.stackWeight/p.weight;g.horizontal?(g.width=p?p*i:s&&t.availableWidth,g.height=a):(g.width=i,g.height=p?p*a:s&&t.availableHeight)}return u}function buildLayoutBoxes(l){var d=wrapBoxes(l);l=sortByWeight(d.filter(function(e){return e.box.fullSize}),!0);var e=sortByWeight(filterByPosition(d,"left"),!0),i=sortByWeight(filterByPosition(d,"right")),a=sortByWeight(filterByPosition(d,"top"),!0),s=sortByWeight(filterByPosition(d,"bottom")),n=filterDynamicPositionByAxis(d,"x"),r=filterDynamicPositionByAxis(d,"y");return{fullSize:l,leftAndTop:e.concat(a),rightAndBottom:i.concat(r).concat(s).concat(n),chartArea:filterByPosition(d,"chartArea"),vertical:e.concat(i).concat(r),horizontal:a.concat(s).concat(n)}}function getCombinedMax(o,t,e,i){var a=Math.max;return a(o[e],t[e])+a(o[i],t[i])}function updateMaxPadding(a,t){var e=Math.max;a.top=e(a.top,t.top),a.left=e(a.left,t.left),a.bottom=e(a.bottom,t.bottom),a.right=e(a.right,t.right)}function updateDims(d,t,c,i){var g=Math.max,u=c.pos,s=c.box,n=d.maxPadding;if(!(0,_helpersSegment.i)(u)){c.size&&(d[u]-=c.size);var p=i[c.stack]||{size:0,count:1};p.size=g(p.size,c.horizontal?s.height:s.width),c.size=p.size/p.count,d[u]+=c.size}s.getPadding&&updateMaxPadding(n,s.getPadding());var i=g(0,t.outerWidth-getCombinedMax(n,d,"left","right")),t=g(0,t.outerHeight-getCombinedMax(n,d,"top","bottom")),n=i!==d.w,l=t!==d.h;return d.w=i,d.h=t,c.horizontal?{same:n,other:l}:{same:l,other:n}}function handleMaxPadding(o){function e(a){var t=Math.max(i[a]-o[a],0);return o[a]+=t,t}var i=o.maxPadding;o.y+=e("top"),o.x+=e("left"),e("right"),e("bottom")}function getMargins(o,n){function t(a){var o={left:0,top:0,right:0,bottom:0};return a.forEach(function(e){o[e]=Math.max(n[e],i[e])}),o}var i=n.maxPadding;return t(o?["left","right"]:["top","bottom"])}function fitBoxes(g,t,e,i){var a,p,m,y,f,x,_=[];for(a=0,p=g.length,f=0;a<p;++a){m=g[a],(y=m.box).update(m.width||t.w,m.height||t.h,getMargins(m.horizontal,t));var s=updateDims(t,e,m,i),b=s.same,v=s.other;f|=b&&_.length,x=x||v,y.fullSize||_.push(m)}return f&&fitBoxes(_,t,e,i)||x}function setBoxDims(o,t,e,i,a){o.top=e,o.left=t,o.right=t+i,o.bottom=e+a,o.width=i,o.height=a}function placeBoxes(g,t,e,i){var a,p=e.padding,s=t.x,m=t.y,y=_createForOfIteratorHelper(g);try{for(y.s();!(a=y.n()).done;){var f,x,_=a.value,b=_.box,v=i[_.stack]||{count:1,placed:0,weight:1},k=_.stackWeight/v.weight||1;_.horizontal?(x=t.w*k,f=v.size||b.height,(0,_helpersSegment.h)(v.start)&&(m=v.start),b.fullSize?setBoxDims(b,p.left,m,e.outerWidth-p.right-p.left,f):setBoxDims(b,t.left+v.placed,m,x,f),v.start=m,v.placed+=x,m=b.bottom):(f=t.h*k,x=v.size||b.width,(0,_helpersSegment.h)(v.start)&&(s=v.start),b.fullSize?setBoxDims(b,s,p.top,x,e.outerHeight-p.bottom-p.top):setBoxDims(b,s,t.top+v.placed,x,f),v.start=s,v.placed+=f,s=b.right)}}catch(e){y.e(e)}finally{y.f()}t.x=s,t.y=m}var layouts=exports.layouts={addBox:function(a,i){a.boxes||(a.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw:function(e){i.draw(e)}}]},a.boxes.push(i)},removeBox:function(a,t){t=a.boxes?a.boxes.indexOf(t):-1,-1!==t&&a.boxes.splice(t,1)},configure:function(a,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update:function(g,i,u,p){var a=Math.max;if(g){var m=(0,_helpersSegment.E)(g.options.layout.padding),s=a(i-m.width,0),n=a(u-m.height,0),r=buildLayoutBoxes(g.boxes),o=r.vertical,d=r.horizontal,l=((0,_helpersSegment.F)(g.boxes,function(e){"function"==typeof e.beforeLayout&&e.beforeLayout()}),o.reduce(function(a,t){return t.box.options&&!1===t.box.options.display?a:a+1},0)||1),i=Object.freeze({outerWidth:i,outerHeight:u,padding:m,availableWidth:s,availableHeight:n,vBoxMaxWidth:s/2/l,hBoxMaxHeight:n/2}),u=Object.assign({},m);updateMaxPadding(u,(0,_helpersSegment.E)(p));var y=Object.assign({maxPadding:u,w:s,h:n,x:m.left,y:m.top},m);l=setLayoutDims(o.concat(d),i),fitBoxes(r.fullSize,y,i,l),fitBoxes(o,y,i,l),fitBoxes(d,y,i,l)&&fitBoxes(o,y,i,l),handleMaxPadding(y),placeBoxes(r.leftAndTop,y,i,l),y.x+=y.w,y.y+=y.h,placeBoxes(r.rightAndBottom,y,i,l),g.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},(0,_helpersSegment.F)(r.chartArea,function(a){var t=a.box;Object.assign(t,g.chartArea),t.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}}},BasePlatform=exports.BasePlatform=/*#__PURE__*/function(){var o=Math.max;function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"acquireContext",value:function(){}},{key:"releaseContext",value:function(){return!1}},{key:"addEventListener",value:function(){}},{key:"removeEventListener",value:function(){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(n,t,l,s){return t=o(0,t||n.width),l=l||n.height,{width:t,height:o(0,s?Math.floor(t/s):l)}}},{key:"isAttached",value:function(){return!0}},{key:"updateConfig",value:function(){}}])}(),BasicPlatform=exports.BasicPlatform=/*#__PURE__*/function(e){function t(){return _classCallCheck(this,t),_callSuper(this,t,arguments)}return _inherits(t,e),_createClass(t,[{key:"acquireContext",value:function(e){return e&&e.getContext&&e.getContext("2d")||null}},{key:"updateConfig",value:function(e){e.options.animation=!1}}])}(BasePlatform),EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=function(e){return null===e||""===e};function initCanvas(o,t){var e=o.style,i=o.getAttribute("height"),a=o.getAttribute("width");return o[EXPANDO_KEY]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",isNullOrEmpty(a)&&void 0!==(a=(0,_helpersSegment.J)(o,"width"))&&(o.width=a),isNullOrEmpty(i)&&(""===o.style.height?o.height=o.width/(t||2):void 0!==(a=(0,_helpersSegment.J)(o,"height"))&&(o.height=a)),o}var eventListenerOptions=!!_helpersSegment.K&&{passive:!0};function addListener(a,t,e){a.addEventListener(t,e,eventListenerOptions)}function removeListener(a,t,e){a.canvas.removeEventListener(t,e,eventListenerOptions)}function fromNativeEvent(o,t){var e=EVENT_TYPES[o.type]||o.type,i=(0,_helpersSegment.z)(o,t),n=i.x,a=i.y;return{type:e,chart:t,native:o,x:void 0===n?null:n,y:void 0===a?null:a}}function nodeListContains(a,t){var e,o=_createForOfIteratorHelper(a);try{for(o.s();!(e=o.n()).done;){var n=e.value;if(n===t||n.contains(t))return!0}}catch(e){o.e(e)}finally{o.f()}}function createAttachObserver(o,t,n){var a=o.canvas,e=new MutationObserver(function(i){var t,o=!1,l=_createForOfIteratorHelper(i);try{for(l.s();!(t=l.n()).done;){var s=t.value;o=(o=o||nodeListContains(s.addedNodes,a))&&!nodeListContains(s.removedNodes,a)}}catch(e){l.e(e)}finally{l.f()}o&&n()});return e.observe(document,{childList:!0,subtree:!0}),e}function createDetachObserver(o,t,n){var a=o.canvas,e=new MutationObserver(function(i){var t,o=!1,l=_createForOfIteratorHelper(i);try{for(l.s();!(t=l.n()).done;){var s=t.value;o=(o=o||nodeListContains(s.removedNodes,a))&&!nodeListContains(s.addedNodes,a)}}catch(e){l.e(e)}finally{l.f()}o&&n()});return e.observe(document,{childList:!0,subtree:!0}),e}var drpListeningCharts=new Map,oldDevicePixelRatio=0;function onWindowResize(){var a=window.devicePixelRatio;a!==oldDevicePixelRatio&&(oldDevicePixelRatio=a,drpListeningCharts.forEach(function(i,t){t.currentDevicePixelRatio!==a&&i()}))}function listenDevicePixelRatioChanges(a,t){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(a,t)}function unlistenDevicePixelRatioChanges(e){drpListeningCharts["delete"](e),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(o,t,l){var e=o.canvas,a=e&&(0,_helpersSegment.I)(e);if(a){var i=(0,_helpersSegment.L)(function(o,t){var e=a.clientWidth;l(o,t),e<a.clientWidth&&l()},window),n=new ResizeObserver(function(a){var a=a[0],o=a.contentRect.width,a=a.contentRect.height;0===o&&0===a||i(o,a)});return n.observe(a),listenDevicePixelRatioChanges(o,i),n}}function releaseObserver(a,t,e){e&&e.disconnect(),"resize"===t&&unlistenDevicePixelRatioChanges(a)}function createProxyAndListen(o,e,n){var t=o.canvas,a=(0,_helpersSegment.L)(function(e){null!==o.ctx&&n(fromNativeEvent(e,o))},o);return addListener(t,e,a),a}var DomPlatform=exports.DomPlatform=/*#__PURE__*/function(e){function t(){return _classCallCheck(this,t),_callSuper(this,t,arguments)}return _inherits(t,e),_createClass(t,[{key:"acquireContext",value:function(a,t){var e=a&&a.getContext&&a.getContext("2d");return e&&e.canvas===a?(initCanvas(a,t),e):null}},{key:"releaseContext",value:function(o){var n=o.canvas;if(!n[EXPANDO_KEY])return!1;var i=n[EXPANDO_KEY].initial,a=(["height","width"].forEach(function(a){var t=i[a];(0,_helpersSegment.k)(t)?n.removeAttribute(a):n.setAttribute(a,t)}),i.style||{});return Object.keys(a).forEach(function(e){n.style[e]=a[e]}),n.width=n.width,delete n[EXPANDO_KEY],!0}},{key:"addEventListener",value:function(o,t,e){this.removeEventListener(o,t);var i=o.$proxies||(o.$proxies={}),a={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[t]||createProxyAndListen;i[t]=a(o,t,e)}},{key:"removeEventListener",value:function(o,t){var e=o.$proxies||(o.$proxies={}),i=e[t];if(i){var a={attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[t]||removeListener;a(o,t,i),e[t]=void 0}}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(o,t,e,i){return(0,_helpersSegment.G)(o,t,e,i)}},{key:"isAttached",value:function(e){return e=(0,_helpersSegment.I)(e),e&&e.isConnected}}])}(BasePlatform);function _detectPlatform(e){return!(0,_helpersSegment.M)()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?BasicPlatform:DomPlatform}var Element=exports.Element=/*#__PURE__*/function(){function e(){_classCallCheck(this,e),_defineProperty(this,"x",void 0),_defineProperty(this,"y",void 0),_defineProperty(this,"active",!1),_defineProperty(this,"options",void 0),_defineProperty(this,"$animations",void 0)}return _createClass(e,[{key:"tooltipPosition",value:function(a){var i=this.getProps(["x","y"],a),a=i.x,o=i.y;return{x:a,y:o}}},{key:"hasValue",value:function(){return(0,_helpersSegment.x)(this.x)&&(0,_helpersSegment.x)(this.y)}},{key:"getProps",value:function(o,t){var e=this,n=this.$animations;if(!t||!n)return this;var i={};return o.forEach(function(a){i[a]=n[a]&&n[a].active()?n[a]._to:e[a]}),i}}])}();_defineProperty(Element,"defaults",{}),_defineProperty(Element,"defaultRoutes",void 0);function autoSkip(d,c){var a=Math.round,g=d.options.ticks,d=determineMaxTicks(d),d=Math.min(g.maxTicksLimit||d,d),u=g.major.enabled?getMajorIndices(c):[],g=u.length,n=u[0],r=u[g-1],o=[];if(d<g)return skipMajors(c,o,u,g/d),o;var l=calculateSpacing(u,c,d);if(0<g){var p,h;for(d=1<g?a((r-n)/(g-1)):null,skip(c,o,l,(0,_helpersSegment.k)(d)?0:n-d,n),p=0,h=g-1;p<h;p++)skip(c,o,l,u[p],u[p+1]);return skip(c,o,l,r,(0,_helpersSegment.k)(d)?c.length:r+d),o}return skip(c,o,l),o}function determineMaxTicks(a){var o=a.options.offset,n=a._tickSize(),o=a._length/n+(o?0:1),a=a._maxLength/n;return Math.floor(Math.min(o,a))}function calculateSpacing(o,l,e){var i=Math.max,o=getEvenSpacing(o),r=l.length/e;if(!o)return i(r,1);for(var a,d=(0,_helpersSegment.N)(o),s=0,c=d.length-1;s<c;s++)if(a=d[s],r<a)return a;return i(r,1)}function getMajorIndices(o){var t,n,l=[];for(t=0,n=o.length;t<n;t++)o[t].major&&l.push(t);return l}function skipMajors(o,t,e,i){var l,d=0,c=e[0];for(i=Math.ceil(i),l=0;l<o.length;l++)l===c&&(t.push(o[l]),d++,c=e[d*i])}function skip(c,t,e,g,a){var u,p,m,s=Math.round,y=(0,_helpersSegment.v)(g,0),n=Math.min((0,_helpersSegment.v)(a,c.length),c.length),r=0;for(e=Math.ceil(e),a&&(e=(u=a-g)/Math.floor(u/e)),m=y;0>m;)r++,m=s(y+r*e);for(p=Math.max(y,0);p<n;p++)p===m&&(t.push(c[p]),r++,m=s(y+r*e))}function getEvenSpacing(o){var t,n,l=o.length;if(2>l)return!1;for(n=o[0],t=1;t<l;++t)if(o[t]-o[t-1]!==n)return!1;return n}var reverseAlign=function(e){return"left"===e?"right":"right"===e?"left":e},offsetFromEdge=function(a,t,e){return"top"===t||"left"===t?a[t]+e:a[t]-e},getTicksLimit=function(a,t){return Math.min(t||a,a)};function sample(o,t){for(var e=[],i=o.length/t,a=o.length,l=0;l<a;l+=i)e.push(o[Math.floor(l)]);return e}function getPixelForGridLine(d,t,e){var i,c=d.ticks.length,a=Math.min(t,c-1),s=d._startPixel,n=d._endPixel,r=d.getPixelForTick(a);if(!(e&&(i=1===c?Math.max(r-s,n-r):0===t?(d.getPixelForTick(1)-r)/2:(r-d.getPixelForTick(a-1))/2,(r+=a<t?i:-i)<s-1e-6||r>n+1e-6)))return r}function garbageCollect(e,o){(0,_helpersSegment.F)(e,function(n){var t,l=n.gc,e=l.length/2;if(o<e){for(t=0;t<e;++t)delete n.data[l[t]];l.splice(0,e)}})}function getTickMarkLength(e){return e.drawTicks?e.tickLength:0}function getTitleHeight(a,t){if(!a.display)return 0;var t=(0,_helpersSegment.a0)(a.font,t),o=(0,_helpersSegment.E)(a.padding);return((0,_helpersSegment.b)(a.text)?a.text.length:1)*t.lineHeight+o.height}function createScaleContext(a,t){return(0,_helpersSegment.j)(a,{scale:t,type:"scale"})}function createTickContext(a,t,e){return(0,_helpersSegment.j)(a,{tick:e,index:t,type:"tick"})}function titleAlign(o,t,e){var i=(0,_helpersSegment.a1)(o);return i=e&&"right"!==t||!e&&"right"===t?reverseAlign(i):i}function titleArgs(y,t,e,i){var a,x,_,b,k,S=y.top,s=y.left,n=y.bottom,r=y.right,o=y.chart,w=o,P=w.chartArea,h=w.scales,d=0,o=n-S,D=r-s;return y.isHorizontal()?(x=(0,_helpersSegment.a2)(i,s,r),_=(0,_helpersSegment.i)(e)?(k=e[b=Object.keys(e)[0]],h[b].getPixelForValue(k)+o-t):"center"===e?(P.bottom+P.top)/2+o-t:offsetFromEdge(y,e,t),a=r-s):(x=(0,_helpersSegment.i)(e)?(k=e[b=Object.keys(e)[0]],h[b].getPixelForValue(k)-D+t):"center"===e?(P.left+P.right)/2-D+t:offsetFromEdge(y,e,t),_=(0,_helpersSegment.a2)(i,n,S),d="left"===e?-_helpersSegment.H:_helpersSegment.H),{titleX:x,titleY:_,maxWidth:a,rotation:d}}var Scale=exports.Scale=/*#__PURE__*/function(e){var z=Math.ceil,F=Math.sqrt,V=Math.sin,B=Math.cos,H=Math.abs,W=Math.floor,U=Math.max,N=Math.min;function j(e){var t;return _classCallCheck(this,j),t=_callSuper(this,j),t.id=e.id,t.type=e.type,t.options=void 0,t.ctx=e.ctx,t.chart=e.chart,t.top=void 0,t.bottom=void 0,t.left=void 0,t.right=void 0,t.width=void 0,t.height=void 0,t._margins={left:0,right:0,top:0,bottom:0},t.maxWidth=void 0,t.maxHeight=void 0,t.paddingTop=void 0,t.paddingBottom=void 0,t.paddingLeft=void 0,t.paddingRight=void 0,t.axis=void 0,t.labelRotation=void 0,t.min=void 0,t.max=void 0,t._range=void 0,t.ticks=[],t._gridLineItems=null,t._labelItems=null,t._labelSizes=null,t._length=0,t._maxLength=0,t._longestTextCache={},t._startPixel=void 0,t._endPixel=void 0,t._reversePixels=!1,t._userMax=void 0,t._userMin=void 0,t._suggestedMax=void 0,t._suggestedMin=void 0,t._ticksLength=0,t._borderValue=0,t._cache={},t._dataLimitsCached=!1,t.$context=void 0,t}return _inherits(j,e),_createClass(j,[{key:"init",value:function(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}},{key:"parse",value:function(e){return e}},{key:"getUserBounds",value:function(){var o=this._userMin,n=this._userMax,l=this._suggestedMin,s=this._suggestedMax,o=(0,_helpersSegment.O)(o,Number.POSITIVE_INFINITY),n=(0,_helpersSegment.O)(n,Number.NEGATIVE_INFINITY),l=(0,_helpersSegment.O)(l,Number.POSITIVE_INFINITY),s=(0,_helpersSegment.O)(s,Number.NEGATIVE_INFINITY);return{min:(0,_helpersSegment.O)(o,l),max:(0,_helpersSegment.O)(n,s),minDefined:(0,_helpersSegment.g)(o),maxDefined:(0,_helpersSegment.g)(n)}}},{key:"getMinMax",value:function(d){var i,c=this.getUserBounds(),g=c.min,u=c.max,p=c.minDefined,n=c.maxDefined;if(p&&n)return{min:g,max:u};for(var r=this.getMatchingVisibleMetas(),l=0,h=r.length;l<h;++l)i=r[l].controller.getMinMax(this,d),p||(g=N(g,i.min)),n||(u=U(u,i.max));return g=n&&g>u?u:g,u=p&&g>u?g:u,{min:(0,_helpersSegment.O)(g,(0,_helpersSegment.O)(u,g)),max:(0,_helpersSegment.O)(u,(0,_helpersSegment.O)(g,u))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}},{key:"getLabelItems",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){(0,_helpersSegment.Q)(this.options.beforeUpdate,[this])}},{key:"update",value:function(o,l,e){var d=this.options,c=d.beginAtZero,a=d.grace,s=d.ticks,n=s.sampleSize,o=(this.beforeUpdate(),this.maxWidth=o,this.maxHeight=l,this._margins=e=Object.assign({left:0,right:0,top:0,bottom:0},e),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+e.left+e.right:this.height+e.top+e.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,_helpersSegment.R)(this,a,c),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks(),n<this.ticks.length);this._convertTicksToLabels(o?sample(this.ticks,n):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}},{key:"configure",value:function(){var a,o,n=this.options.reverse;this.isHorizontal()?(a=this.left,o=this.right):(a=this.top,o=this.bottom,n=!n),this._startPixel=a,this._endPixel=o,this._reversePixels=n,this._length=o-a,this._alignToPixels=this.options.alignToPixels}},{key:"afterUpdate",value:function(){(0,_helpersSegment.Q)(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){(0,_helpersSegment.Q)(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}},{key:"afterSetDimensions",value:function(){(0,_helpersSegment.Q)(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(e){this.chart.notifyPlugins(e,this.getContext()),(0,_helpersSegment.Q)(this.options[e],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){(0,_helpersSegment.Q)(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(o){var t,n,l,r=this.options.ticks;for(t=0,n=o.length;t<n;t++)(l=o[t]).label=(0,_helpersSegment.Q)(r.callback,[l.value,t,o],this)}},{key:"afterTickToLabelConversion",value:function(){(0,_helpersSegment.Q)(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){(0,_helpersSegment.Q)(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var c,g,u,p,d=Math.asin,m=this.options,s=m.ticks,y=getTicksLimit(this.ticks.length,m.ticks.maxTicksLimit),f=s.minRotation||0,o=s.maxRotation,l=f;this._isVisible()&&s.display&&!(o<=f)&&!(1>=y)&&this.isHorizontal()?(g=(c=this._getLabelSizes()).widest.width,u=c.highest.height,p=(0,_helpersSegment.S)(this.chart.width-g,0,this.maxWidth),(m.offset?this.maxWidth/y:p/(y-1))<g+6&&(p/=y-(m.offset?.5:1),y=this.maxHeight-getTickMarkLength(m.grid)-s.padding-getTitleHeight(m.title,this.chart.options.font),s=F(g*g+u*u),l=(0,_helpersSegment.U)(N(d((0,_helpersSegment.S)((c.highest.height+6)/p,-1,1)),d((0,_helpersSegment.S)(y/s,-1,1))-d((0,_helpersSegment.S)(u/s,-1,1)))),l=U(f,N(o,l))),this.labelRotation=l):this.labelRotation=f}},{key:"afterCalculateLabelRotation",value:function(){(0,_helpersSegment.Q)(this.options.afterCalculateLabelRotation,[this])}},{key:"afterAutoSkip",value:function(){}},{key:"beforeFit",value:function(){(0,_helpersSegment.Q)(this.options.beforeFit,[this])}},{key:"fit",value:function(){var g,u,p,m,y,f,x={width:0,height:0},t=this.chart,r=this.options,_=r.ticks,o=r.title,b=r.grid,v=this._isVisible(),k=this.isHorizontal();v&&(v=getTitleHeight(o,t.options.font),k?(x.width=this.maxWidth,x.height=getTickMarkLength(b)+v):(x.height=this.maxHeight,x.width=getTickMarkLength(b)+v),_.display&&this.ticks.length&&(g=this._getLabelSizes(),o=g.first,b=g.last,v=g.widest,u=g.highest,p=2*_.padding,y=(0,_helpersSegment.t)(this.labelRotation),m=B(y),y=V(y),k?(f=_.mirror?0:y*v.width+m*u.height,x.height=N(this.maxHeight,x.height+f+p)):(f=_.mirror?0:m*v.width+y*u.height,x.width=N(this.maxWidth,x.width+f+p)),this._calculatePadding(o,b,y,m))),this._handleMargins(),k?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=x.height):(this.width=x.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}},{key:"_calculatePadding",value:function(g,i,a,s){var n=this.options,u=n.ticks,p=u.align,r=u.padding,o=n.position,m=0!==this.labelRotation,o="top"!==o&&"x"===this.axis;if(this.isHorizontal()){var h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),c=0,y=0;m?y=o?(c=s*g.width,a*i.height):(c=a*g.height,s*i.width):"start"===p?y=i.width:"end"===p?c=g.width:"inner"!==p&&(c=g.width/2,y=i.width/2),this.paddingLeft=U((c-h+r)*this.width/(this.width-h),0),this.paddingRight=U((y-d+r)*this.width/(this.width-d),0)}else{var f=i.height/2,x=g.height/2;"start"===p?(f=0,x=g.height):"end"===p&&(f=i.height,x=0),this.paddingTop=f+r,this.paddingBottom=x+r}}},{key:"_handleMargins",value:function(){this._margins&&(this._margins.left=U(this.paddingLeft,this._margins.left),this._margins.top=U(this.paddingTop,this._margins.top),this._margins.right=U(this.paddingRight,this._margins.right),this._margins.bottom=U(this.paddingBottom,this._margins.bottom))}},{key:"afterFit",value:function(){(0,_helpersSegment.Q)(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var a=this.options,i=a.axis,t=a.position;return"top"===t||"bottom"===t||"x"===i}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(a){this.beforeTickToLabelConversion(),this.generateTickLabels(a);var t,o;for(t=0,o=a.length;t<o;t++)(0,_helpersSegment.k)(a[t].label)&&(a.splice(t,1),o--,t--);this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var a=this._labelSizes;if(!a){var o=this.options.ticks.sampleSize,i=this.ticks;o<i.length&&(i=sample(i,o)),this._labelSizes=a=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return a}},{key:"_computeLabelSizes",value:function(S,t,e){var w,P,D,C,A,L,E,T,R,O,z,F=this.ctx,a=this._longestTextCache,s=[],n=[],r=W(t/getTicksLimit(t,e)),o=0,I=0;for(w=0;w<t;w+=r){if(C=S[w].label,A=this._resolveTickFontOptions(w),F.font=L=A.string,E=a[L]=a[L]||{data:{},gc:[]},T=A.lineHeight,R=O=0,!((0,_helpersSegment.k)(C)||(0,_helpersSegment.b)(C)))R=(0,_helpersSegment.V)(F,E.data,E.gc,R,C),O=T;else if((0,_helpersSegment.b)(C))for(P=0,D=C.length;P<D;++P)z=C[P],(0,_helpersSegment.k)(z)||(0,_helpersSegment.b)(z)||(R=(0,_helpersSegment.V)(F,E.data,E.gc,R,z),O+=T);s.push(R),n.push(O),o=U(R,o),I=U(O,I)}garbageCollect(a,t);var e=s.indexOf(o),M=n.indexOf(I),y=function(e){return{width:s[e]||0,height:n[e]||0}};return{first:y(0),last:y(t-1),widest:y(e),highest:y(M),widths:s,heights:n}}},{key:"getLabelForValue",value:function(e){return e}},{key:"getPixelForValue",value:function(){return NaN}},{key:"getValueForPixel",value:function(){}},{key:"getPixelForTick",value:function(a){var t=this.ticks;return 0>a||a>t.length-1?null:this.getPixelForValue(t[a].value)}},{key:"getPixelForDecimal",value:function(e){return this._reversePixels&&(e=1-e),e=this._startPixel+e*this._length,(0,_helpersSegment.W)(this._alignToPixels?(0,_helpersSegment.X)(this.chart,e,0):e)}},{key:"getDecimalForPixel",value:function(e){return e=(e-this._startPixel)/this._length,this._reversePixels?1-e:e}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var a=this.min,t=this.max;return 0>a&&0>t?t:0<a&&0<t?a:0}},{key:"getContext",value:function(a){var t=this.ticks||[];if(0<=a&&a<t.length){var e=t[a];return e.$context||(e.$context=createTickContext(this.getContext(),a,e))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}},{key:"_tickSize",value:function(){var o=this.options.ticks,n=(0,_helpersSegment.t)(this.labelRotation),l=H(B(n)),n=H(V(n)),i=this._getLabelSizes(),o=o.autoSkipPadding||0,r=i?i.widest.width+o:0,i=i?i.highest.height+o:0;return this.isHorizontal()?r*n<i*l?r/l:i/n:i*n<r*l?i/l:r/n}},{key:"_isVisible",value:function(){var e=this.options.display;return"auto"===e?0<this.getMatchingVisibleMetas().length:!!e}},{key:"_computeGridLineItems",value:function(V){function t(e){return(0,_helpersSegment.X)(te,e,ae)}var p,H,W,N,j,$,Y,X,Q,K,G,q,J,Z,ee=this.axis,te=this.chart,i=this.options,a=i.grid,s=i.position,n=i.border,r=a.offset,o=this.isHorizontal(),l=this.ticks.length+(r?1:0),h=getTickMarkLength(a),d=[],c=n.setContext(this.getContext()),ae=c.display?c.width:0,c=ae/2;"top"===s?(W=t(this.bottom),X=this.bottom-h,K=W-c,q=t(V.top)+c,Z=V.bottom):"bottom"===s?(W=t(this.top),q=V.top,Z=t(V.bottom)-c,X=W+c,K=this.top+h):"left"===s?(W=t(this.right),Y=this.right-h,Q=W-c,G=t(V.left)+c,J=V.right):"right"===s?(W=t(this.left),G=V.left,J=t(V.right)-c,Y=W+c,Q=this.left+h):"x"===ee?("center"===s?W=t((V.top+V.bottom)/2+.5):(0,_helpersSegment.i)(s)&&(H=s[p=Object.keys(s)[0]],W=t(this.chart.scales[p].getPixelForValue(H))),q=V.top,Z=V.bottom,X=W+c,K=X+h):"y"===ee&&("center"===s?W=t((V.left+V.right)/2):(0,_helpersSegment.i)(s)&&(H=s[p=Object.keys(s)[0]],W=t(this.chart.scales[p].getPixelForValue(H))),Y=W-c,Q=Y-h,G=V.left,J=V.right);var ee=(0,_helpersSegment.v)(i.ticks.maxTicksLimit,l),g=U(1,z(l/ee));for(N=0;N<l;N+=g){var C=this.getContext(N),ie=a.setContext(C),C=n.setContext(C),oe=ie.lineWidth,ne=ie.color,le=C.dash||[],C=C.dashOffset,se=ie.tickWidth,re=ie.tickColor,de=ie.tickBorderDash||[],ie=ie.tickBorderDashOffset;void 0!==(j=getPixelForGridLine(this,N,r))&&($=(0,_helpersSegment.X)(te,j,oe),o?Y=Q=G=J=$:X=K=q=Z=$,d.push({tx1:Y,ty1:X,tx2:Q,ty2:K,x1:G,y1:q,x2:J,y2:Z,width:oe,color:ne,borderDash:le,borderDashOffset:C,tickWidth:se,tickColor:re,tickBorderDash:de,tickBorderDashOffset:ie}))}return this._ticksLength=l,this._borderValue=W,d}},{key:"_computeLabelItems",value:function(R){var t,z,F,B,H,W,U,N,j,$,Y,X,Q=this.axis,e=this.options,K=e,G=K.position,a=K.ticks,s=this.isHorizontal(),r=this.ticks,o=a.align,l=a.crossAlign,h=a.padding,q=a.mirror,e=getTickMarkLength(e.grid),c=e+h,h=q?-h:c,u=-(0,_helpersSegment.t)(this.labelRotation),g=[],p="middle";"top"===G?(W=this.bottom-h,U=this._getXAxisLabelAlignment()):"bottom"===G?(W=this.top+h,U=this._getXAxisLabelAlignment()):"left"===G?(h=this._getYAxisLabelAlignment(e),U=h.textAlign,H=h.x):"right"===G?(h=this._getYAxisLabelAlignment(e),U=h.textAlign,H=h.x):"x"===Q?("center"===G?W=(R.top+R.bottom)/2+c:(0,_helpersSegment.i)(G)&&(t=G[h=Object.keys(G)[0]],W=this.chart.scales[h].getPixelForValue(t)+c),U=this._getXAxisLabelAlignment()):"y"===Q&&("center"===G?H=(R.left+R.right)/2-c:(0,_helpersSegment.i)(G)&&(t=G[h=Object.keys(G)[0]],H=this.chart.scales[h].getPixelForValue(t)),U=this._getYAxisLabelAlignment(e).textAlign),"y"===Q&&("start"===o?p="top":"end"===o&&(p="bottom"));var J=this._getLabelSizes();for(z=0,F=r.length;z<F;++z){B=r[z].label;var A=a.setContext(this.getContext(z)),Z=(N=this.getPixelForTick(z)+a.labelOffset,$=(j=this._resolveTickFontOptions(z)).lineHeight,(Y=(0,_helpersSegment.b)(B)?B.length:1)/2),ee=A.color,te=A.textStrokeColor,ae=A.textStrokeWidth,ie=U;s?(H=N,"inner"===U&&(ie=z===F-1?this.options.reverse?"left":"right":0===z?this.options.reverse?"right":"left":"center"),X="top"===G?"near"===l||0!=u?-Y*$+$/2:"center"===l?-J.highest.height/2-Z*$+$:-J.highest.height+$/2:"near"===l||0!=u?$/2:"center"===l?J.highest.height/2-Z*$:J.highest.height-Y*$,q&&(X*=-1),0==u||A.showLabelBackdrop||(H+=$/2*V(u))):(W=N,X=(1-Y)*$/2);var oe=void 0;if(A.showLabelBackdrop){var Z=(0,_helpersSegment.E)(A.backdropPadding),ne=J.heights[z],le=J.widths[z],se=X-Z.top,re=0-Z.left;"middle"===p?se-=ne/2:"bottom"===p?se-=ne:void 0,"center"===U?re-=le/2:"right"===U?re-=le:"inner"===U?z===F-1?re-=le:0<z&&(re-=le/2):void 0,oe={left:re,top:se,width:le+Z.width,height:ne+Z.height,color:A.backdropColor}}g.push({label:B,font:j,textOffset:X,options:{rotation:u,color:ee,strokeColor:te,strokeWidth:ae,textAlign:ie,textBaseline:p,translation:[H,W],backdrop:oe}})}return g}},{key:"_getXAxisLabelAlignment",value:function(){var a=this.options,o=a.position,t=a.ticks;if(-(0,_helpersSegment.t)(this.labelRotation))return"top"===o?"left":"right";var e="center";return"start"===t.align?e="left":"end"===t.align?e="right":"inner"===t.align&&(e="inner"),e}},{key:"_getYAxisLabelAlignment",value:function(l){var d,c,g=this.options,u=g.position,e=g.ticks,p=e.crossAlign,i=e.mirror,a=e.padding,l=l+a,s=this._getLabelSizes().widest.width;return"left"===u?i?(c=this.right+a,"near"===p?d="left":"center"===p?(d="center",c+=s/2):(d="right",c+=s)):(c=this.right-l,"near"===p?d="right":"center"===p?(d="center",c-=s/2):(d="left",c=this.left)):"right"===u?i?(c=this.left+a,"near"===p?d="right":"center"===p?(d="center",c-=s/2):(d="left",c-=s)):(c=this.left+l,"near"===p?d="left":"center"===p?(d="center",c+=s/2):(d="right",c=this.right)):d="right",{textAlign:d,x:c}}},{key:"_computeLabelArea",value:function(){var a,i;if(!this.options.ticks.mirror)return a=this.chart,i=this.options.position,"left"===i||"right"===i?{top:0,left:this.left,bottom:a.height,right:this.right}:"top"===i||"bottom"===i?{top:this.top,left:0,bottom:this.bottom,right:a.width}:void 0}},{key:"drawBackground",value:function(){var o=this.ctx,t=this.options.backgroundColor,e=this.left,i=this.top,a=this.width,l=this.height;t&&(o.save(),o.fillStyle=t,o.fillRect(e,i,a,l),o.restore())}},{key:"getLineWidthForValue",value:function(o){var e=this.options.grid;if(!this._isVisible()||!e.display)return 0;var t=this.ticks,i=t.findIndex(function(e){return e.value===o});return 0<=i?e.setContext(this.getContext(i)).lineWidth:0}},{key:"drawGrid",value:function(l){var t,d,c=this.options.grid,g=this.ctx,e=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(l)),a=function(a,t,e){e.width&&e.color&&(g.save(),g.lineWidth=e.width,g.strokeStyle=e.color,g.setLineDash(e.borderDash||[]),g.lineDashOffset=e.borderDashOffset,g.beginPath(),g.moveTo(a.x,a.y),g.lineTo(t.x,t.y),g.stroke(),g.restore())};if(c.display)for(t=0,d=e.length;t<d;++t){var i=e[t];c.drawOnChartArea&&a({x:i.x1,y:i.y1},{x:i.x2,y:i.y2},i),c.drawTicks&&a({x:i.tx1,y:i.ty1},{x:i.tx2,y:i.ty2},{color:i.tickColor,width:i.tickWidth,borderDash:i.tickBorderDash,borderDashOffset:i.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var c=this.chart,s=this.ctx,n=this.options,g=n.border,t=n.grid,r=g.setContext(this.getContext()),o=g.display?r.width:0;if(o){var l,u,p,m,y=t.setContext(this.getContext(0)).lineWidth,h=this._borderValue;this.isHorizontal()?(l=(0,_helpersSegment.X)(c,this.left,o)-o/2,u=(0,_helpersSegment.X)(c,this.right,y)+y/2,p=m=h):(p=(0,_helpersSegment.X)(c,this.top,o)-o/2,m=(0,_helpersSegment.X)(c,this.bottom,y)+y/2,l=u=h),s.save(),s.lineWidth=r.width,s.strokeStyle=r.color,s.beginPath(),s.moveTo(l,p),s.lineTo(u,m),s.stroke(),s.restore()}}},{key:"drawLabels",value:function(l){if(this.options.ticks.display){var d,c=this.ctx,e=this._computeLabelArea(),l=(e&&(0,_helpersSegment.Y)(c,e),this.getLabelItems(l)),i=_createForOfIteratorHelper(l);try{for(i.s();!(d=i.n()).done;){var g=d.value,u=g.options,p=g.font,h=g.label,m=g.textOffset;(0,_helpersSegment.Z)(c,h,0,m,p,u)}}catch(e){i.e(e)}finally{i.f()}e&&(0,_helpersSegment.$)(c)}}},{key:"drawTitle",value:function(){var c=this.ctx,e=this.options,g=e.position,i=e.title,a=e.reverse;if(i.display){var s=(0,_helpersSegment.a0)(i.font),n=(0,_helpersSegment.E)(i.padding),u=i.align,o=s.lineHeight/2;"bottom"===g||"center"===g||(0,_helpersSegment.i)(g)?(o+=n.bottom,(0,_helpersSegment.b)(i.text)&&(o+=s.lineHeight*(i.text.length-1))):o+=n.top;var p=titleArgs(this,o,g,u),n=p.titleX,m=p.titleY,l=p.maxWidth,h=p.rotation;(0,_helpersSegment.Z)(c,i.text,0,0,s,{color:i.color,maxWidth:l,rotation:h,textAlign:titleAlign(u,g,a),textBaseline:"middle",translation:[n,m]})}}},{key:"draw",value:function(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}},{key:"_layers",value:function(){var a=this,o=this.options,n=o.ticks&&o.ticks.z||0,e=(0,_helpersSegment.v)(o.grid&&o.grid.z,-1),o=(0,_helpersSegment.v)(o.border&&o.border.z,0);return this._isVisible()&&this.draw===j.prototype.draw?[{z:e,draw:function(e){a.drawBackground(),a.drawGrid(e),a.drawTitle()}},{z:o,draw:function(){a.drawBorder()}},{z:n,draw:function(e){a.drawLabels(e)}}]:[{z:n,draw:function(e){a.draw(e)}}]}},{key:"getMatchingVisibleMetas",value:function(o){var t,l,d=this.chart.getSortedVisibleDatasetMetas(),e=this.axis+"AxisID",i=[];for(t=0,l=d.length;t<l;++t){var a=d[t];a[e]!==this.id||o&&a.type!==o||i.push(a)}return i}},{key:"_resolveTickFontOptions",value:function(e){return e=this.options.ticks.setContext(this.getContext(e)),(0,_helpersSegment.a0)(e.font)}},{key:"_maxDigits",value:function(){var e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}])}(Element),TypedRegistry=/*#__PURE__*/function(){function a(o,t,e){_classCallCheck(this,a),this.type=o,this.scope=t,this.override=e,this.items=Object.create(null)}return _createClass(a,[{key:"isForType",value:function(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}},{key:"register",value:function(o){var t,n=Object.getPrototypeOf(o);isIChartComponent(n)&&(t=this.register(n));var l=this.items,n=o.id,a=this.scope+"."+n;if(n)return n in l||(registerDefaults(l[n]=o,a,t),this.override&&_helpersSegment.d.override(o.id,o.overrides)),a;throw new Error("class does not have id: "+o)}},{key:"get",value:function(e){return this.items[e]}},{key:"unregister",value:function(a){var o=this.items,a=a.id,e=this.scope;a in o&&delete o[a],e&&a in _helpersSegment.d[e]&&(delete _helpersSegment.d[e][a],this.override&&delete _helpersSegment.a3[a])}}])}();function registerDefaults(a,t,e){e=(0,_helpersSegment.a4)(Object.create(null),[e?_helpersSegment.d.get(e):{},_helpersSegment.d.get(t),a.defaults]),_helpersSegment.d.set(t,e),a.defaultRoutes&&routeDefaults(t,a.defaultRoutes),a.descriptors&&_helpersSegment.d.describe(t,a.descriptors)}function routeDefaults(l,r){Object.keys(r).forEach(function(o){var d=o.split("."),e=d.pop(),i=[l].concat(d).join("."),a=r[o].split("."),o=a.pop(),s=a.join(".");_helpersSegment.d.route(i,e,s,o)})}function isIChartComponent(e){return"id"in e&&"defaults"in e}var Registry=/*#__PURE__*/function(){function e(){_classCallCheck(this,e),this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return _createClass(e,[{key:"add",value:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];this._each("register",a)}},{key:"remove",value:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];this._each("unregister",a)}},{key:"addControllers",value:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];this._each("register",a,this.controllers)}},{key:"addElements",value:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];this._each("register",a,this.elements)}},{key:"addPlugins",value:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];this._each("register",a,this.plugins)}},{key:"addScales",value:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];this._each("register",a,this.scales)}},{key:"getController",value:function(e){return this._get(e,this.controllers,"controller")}},{key:"getElement",value:function(e){return this._get(e,this.elements,"element")}},{key:"getPlugin",value:function(e){return this._get(e,this.plugins,"plugin")}},{key:"getScale",value:function(e){return this._get(e,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];this._each("unregister",a,this.controllers)}},{key:"removeElements",value:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];this._each("unregister",a,this.elements)}},{key:"removePlugins",value:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];this._each("unregister",a,this.plugins)}},{key:"removeScales",value:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];this._each("unregister",a,this.scales)}},{key:"_each",value:function(o,e,i){var a=this;_toConsumableArray(e).forEach(function(n){var t=i||a._getRegistryForType(n);i||t.isForType(n)||t===a.plugins&&n.id?a._exec(o,t,n):(0,_helpersSegment.F)(n,function(n){var t=i||a._getRegistryForType(n);a._exec(o,t,n)})})}},{key:"_exec",value:function(o,t,e){var i=(0,_helpersSegment.a5)(o);(0,_helpersSegment.Q)(e["before"+i],[],e),t[o](e),(0,_helpersSegment.Q)(e["after"+i],[],e)}},{key:"_getRegistryForType",value:function(a){for(var e,o=0;o<this._typedRegistries.length;o++)if(e=this._typedRegistries[o],e.isForType(a))return e;return this.plugins}},{key:"_get",value:function(a,t,o){if(t=t.get(a),void 0===t)throw new Error("\""+a+"\" is not a registered "+o+".");return t}}])}(),registry=exports.registry=new Registry,PluginService=/*#__PURE__*/function(){function e(){_classCallCheck(this,e),this._init=[]}return _createClass(e,[{key:"notify",value:function(o,t,e,n){return"beforeInit"===t&&(this._init=this._createDescriptors(o,!0),this._notify(this._init,o,"install")),n=n?this._descriptors(o).filter(n):this._descriptors(o),e=this._notify(n,o,t,e),("afterDestroy"===t&&(this._notify(n,o,"stop"),this._notify(this._init,o,"uninstall")),e)}},{key:"_notify",value:function(l,t,e,i){i=i||{};var d,c=_createForOfIteratorHelper(l);try{for(c.s();!(d=c.n()).done;){var g=d.value,u=g.plugin,p=u[e],h=[t,i,g.options];if(!1===(0,_helpersSegment.Q)(p,h,u)&&i.cancelable)return!1}}catch(e){c.e(e)}finally{c.f()}return!0}},{key:"invalidate",value:function(){(0,_helpersSegment.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(a){if(this._cache)return this._cache;var t=this._cache=this._createDescriptors(a);return this._notifyStateChanges(a),t}},{key:"_createDescriptors",value:function(o,t){var e=o&&o.config,n=(0,_helpersSegment.v)(e.options&&e.options.plugins,{}),e=allPlugins(e);return!1!==n||t?createDescriptors(o,e,n,t):[]}},{key:"_notifyStateChanges",value:function(o){var t=this._oldCache||[],e=this._cache,i=function(e,t){return e.filter(function(a){return!t.some(function(e){return a.plugin.id===e.plugin.id})})};this._notify(i(t,e),o,"stop"),this._notify(i(e,t),o,"start")}}])}();function allPlugins(o){for(var t={},e=[],i=Object.keys(registry.plugins.items),a=0;a<i.length;a++)e.push(registry.getPlugin(i[a]));for(var l,r=o.plugins||[],s=0;s<r.length;s++)l=r[s],-1===e.indexOf(l)&&(e.push(l),t[l.id]=!0);return{plugins:e,localIds:t}}function getOpts(a,t){return t||!1!==a?!0===a?{}:a:null}function createDescriptors(d,t,c,a){var s,g=t.plugins,e=t.localIds,i=[],n=d.getContext(),r=_createForOfIteratorHelper(g);try{for(r.s();!(s=r.n()).done;){var u=s.value,p=u.id,m=getOpts(c[p],a);null!==m&&i.push({plugin:u,options:pluginOpts(d.config,{plugin:u,local:e[p]},m,n)})}}catch(e){r.e(e)}finally{r.f()}return i}function pluginOpts(o,t,l,a){var s=t.plugin,e=t.local,i=o.pluginScopeKeys(s),n=o.getOptionScopes(l,i);return e&&s.defaults&&n.push(s.defaults),o.createResolver(n,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(a,t){var e=_helpersSegment.d.datasets[a]||{};return((t.datasets||{})[a]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function getAxisFromDefaultScaleID(a,t){var e=a;return"_index_"===a?e=t:"_value_"==a&&(e="x"===t?"y":"x"),e}function getDefaultScaleIDFromAxis(a,t){return a===t?"_index_":"_value_"}function idMatchesAxis(e){if("x"===e||"y"===e||"r"===e)return e}function axisFromPosition(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function determineAxis(o){if(idMatchesAxis(o))return o;for(var t=arguments.length,n=Array(1<t?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];for(var l=0,s=n;l<s.length;l++){var r=s[l],d=r.axis||axisFromPosition(r.position)||1<o.length&&idMatchesAxis(o[0].toLowerCase());if(d)return d}throw new Error("Cannot determine type of '".concat(o,"' axis. Please provide 'axis' or 'position' option."))}function getAxisFromDataset(a,t,e){if(e[t+"AxisID"]===a)return{axis:t}}function retrieveAxisFromDatasets(a,e){return e.data&&e.data.datasets&&(e=e.data.datasets.filter(function(e){return e.xAxisID===a||e.yAxisID===a}),e.length)?getAxisFromDataset(a,"x",e[0])||getAxisFromDataset(a,"y",e[0]):{}}function mergeScaleConfig(d,i){var r=_helpersSegment.a3[d.type]||{scales:{}},c=i.scales||{},o=getIndexAxis(d.type,i),l=Object.create(null);return Object.keys(c).forEach(function(n){var t=c[n];if(!(0,_helpersSegment.i)(t))return console.error("Invalid scale configuration for scale: "+n);if(t._proxy)return console.warn("Ignoring resolver passed as options for scale: "+n);var e=determineAxis(n,t,retrieveAxisFromDatasets(n,d),_helpersSegment.d.scales[t.type]),i=getDefaultScaleIDFromAxis(e,o),a=r.scales||{};l[n]=(0,_helpersSegment.ab)(Object.create(null),[{axis:e},t,a[e],a[i]])}),d.data.datasets.forEach(function(o){var e=o.type||d.type,a=o.indexAxis||getIndexAxis(e,i),s=(_helpersSegment.a3[e]||{}).scales||{};Object.keys(s).forEach(function(n){var t=getAxisFromDefaultScaleID(n,a),e=o[t+"AxisID"]||t;l[e]=l[e]||Object.create(null),(0,_helpersSegment.ab)(l[e],[{axis:t},c[e],s[n]])})}),Object.keys(l).forEach(function(e){e=l[e],(0,_helpersSegment.ab)(e,[_helpersSegment.d.scales[e.type],_helpersSegment.d.scale])}),l}function initOptions(a){var t=a.options||(a.options={});t.plugins=(0,_helpersSegment.v)(t.plugins,{}),t.scales=mergeScaleConfig(a,t)}function initData(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}function initConfig(e){return(e=e||{}).data=initData(e.data),initOptions(e),e}var keyCache=new Map,keysCached=new Set;function cachedKeys(a,t){var e=keyCache.get(a);return e||(e=t(),keyCache.set(a,e),keysCached.add(e)),e}var addIfFound=function(a,t,o){t=(0,_helpersSegment.f)(t,o),void 0!==t&&a.add(t)},Config=/*#__PURE__*/function(){function e(a){_classCallCheck(this,e),this._config=initConfig(a),this._scopeCache=new Map,this._resolverCache=new Map}return _createClass(e,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(e){this._config.type=e}},{key:"data",get:function(){return this._config.data},set:function(e){this._config.data=initData(e)}},{key:"options",get:function(){return this._config.options},set:function(e){this._config.options=e}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var e=this._config;this.clearCache(),initOptions(e)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(e){return cachedKeys(e,function(){return[["datasets."+e,""]]})}},{key:"datasetAnimationScopeKeys",value:function(a,t){return cachedKeys(a+".transition."+t,function(){return[["datasets.".concat(a,".transitions.")+t,"transitions."+t],["datasets."+a,""]]})}},{key:"datasetElementScopeKeys",value:function(a,t){return cachedKeys(a+"-"+t,function(){return[["datasets.".concat(a,".elements.")+t,"datasets."+a,"elements."+t,""]]})}},{key:"pluginScopeKeys",value:function(a){var t=a.id;return cachedKeys(this.type+"-plugin-"+t,function(){return[["plugins."+t].concat(_toConsumableArray(a.additionalOptionScopes||[]))]})}},{key:"_cachedScopes",value:function(o,t){var e=this._scopeCache,i=e.get(o);return i&&!t||(i=new Map,e.set(o,i)),i}},{key:"getOptionScopes",value:function(l,e,t){var d=this.options,a=this.type,s=this._cachedScopes(l,t);if(t=s.get(e),t)return t;var n=new Set,r=(e.forEach(function(e){l&&(n.add(l),e.forEach(function(e){return addIfFound(n,l,e)})),e.forEach(function(e){return addIfFound(n,d,e)}),e.forEach(function(e){return addIfFound(n,_helpersSegment.a3[a]||{},e)}),e.forEach(function(e){return addIfFound(n,_helpersSegment.d,e)}),e.forEach(function(e){return addIfFound(n,_helpersSegment.a6,e)})}),Array.from(n));return 0===r.length&&r.push(Object.create(null)),keysCached.has(e)&&s.set(e,r),r}},{key:"chartOptionScopes",value:function(){var a=this.options,t=this.type;return[a,_helpersSegment.a3[t]||{},_helpersSegment.d.datasets[t]||{},{type:t},_helpersSegment.d,_helpersSegment.a6]}},{key:"resolveNamedOptions",value:function(l,d,e){var c=this,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:[""];return function(t){var i={$shared:!0},s=getResolver(c._resolverCache,l,t),t=s.resolver,g=s.subPrefixes,n=t;needContext(t,d)&&(i.$shared=!1,e=(0,_helpersSegment.a7)(e)?e():e,l=c.createResolver(l,e,g),n=(0,_helpersSegment.a8)(t,e,l));var u,p=_createForOfIteratorHelper(d);try{for(p.s();!(u=p.n()).done;){var h=u.value;i[h]=n[h]}}catch(e){p.e(e)}finally{p.f()}return i}(g)}},{key:"createResolver",value:function(o,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[""],i=3<arguments.length?arguments[3]:void 0;return o=getResolver(this._resolverCache,o,e).resolver,(0,_helpersSegment.i)(n)?(0,_helpersSegment.a8)(o,n,void 0,i):o}}])}();function getResolver(o,n,l){var i=o.get(n);i||(i=new Map,o.set(n,i)),o=l.join();var r=i.get(o);return r||(n=(0,_helpersSegment.a9)(n,l),r={resolver:n,subPrefixes:l.filter(function(e){return!e.toLowerCase().includes("hover")})},i.set(o,r)),r}var hasFunction=function(a){return(0,_helpersSegment.i)(a)&&Object.getOwnPropertyNames(a).some(function(e){return(0,_helpersSegment.a7)(a[e])})};function needContext(l,t){var e,d=(0,_helpersSegment.aa)(l),c=d.isScriptable,i=d.isIndexable,a=_createForOfIteratorHelper(t);try{for(a.s();!(e=a.n()).done;){var g=e.value,u=c(g),p=i(g),h=(p||u)&&l[g];if(u&&((0,_helpersSegment.a7)(h)||hasFunction(h))||p&&(0,_helpersSegment.b)(h))return!0}}catch(e){a.e(e)}finally{a.f()}return!1}var version="4.4.1",KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(a,t){return"top"===a||"bottom"===a||-1===KNOWN_POSITIONS.indexOf(a)&&"x"===t}function compare2Level(o,i){return function(a,t){return a[o]===t[o]?a[i]-t[i]:a[o]-t[o]}}function onAnimationsComplete(a){var t=a.chart,e=t.options.animation;t.notifyPlugins("afterRender"),(0,_helpersSegment.Q)(e&&e.onComplete,[a],t)}function onAnimationProgress(a){var t=a.chart,e=t.options.animation;(0,_helpersSegment.Q)(e&&e.onProgress,[a],t)}function getCanvas(e){return(0,_helpersSegment.M)()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e=e&&e.canvas?e.canvas:e}var instances={},getChart=function(a){var i=getCanvas(a);return Object.values(instances).filter(function(e){return e.canvas===i}).pop()};function moveNumericKeys(o,t,e){for(var i=0,l=Object.keys(o);i<l.length;i++){var r,d=l[i],c=+d;t<=c&&(r=o[d],delete o[d],(0<e||t<c)&&(o[c+e]=r))}}function determineLastEvent(o,t,e,i){return e&&"mouseout"!==o.type?i?t:o:null}function getSizeForArea(a,t,e){return(a.options.clip?a:t)[e]}function getDatasetArea(a,o){var e=a,a=e.xScale,n=e.yScale;return a&&n?{left:getSizeForArea(a,o,"left"),right:getSizeForArea(a,o,"right"),top:getSizeForArea(n,o,"top"),bottom:getSizeForArea(n,o,"bottom")}:o}var Chart=exports.Chart=/*#__PURE__*/function(){function o(l,r){var d=this;_classCallCheck(this,o);var c=this.config=new Config(r);if(r=getCanvas(l),l=getChart(r),l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");var l=c.createResolver(c.chartOptionScopes(),this.getContext()),r=(this.platform=new(c.platform||_detectPlatform(r)),this.platform.updateConfig(c),this.platform.acquireContext(r,l.aspectRatio)),i=r&&r.canvas,a=i&&i.height,s=i&&i.width;this.id=(0,_helpersSegment.ac)(),this.ctx=r,this.canvas=i,this.width=s,this.height=a,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,_helpersSegment.ad)(function(e){return d.update(e)},l.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,r&&i?(animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}return _createClass(o,[{key:"aspectRatio",get:function(){var o=this.options,n=o.aspectRatio,t=o.maintainAspectRatio,e=this.width,i=this.height,a=this._aspectRatio;return(0,_helpersSegment.k)(n)?t&&a?a:i?e/i:null:n}},{key:"data",get:function(){return this.config.data},set:function(e){this.config.data=e}},{key:"options",get:function(){return this._options},set:function(e){this.config.options=e}},{key:"registry",get:function(){return registry}},{key:"_initialize",value:function(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,_helpersSegment.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}},{key:"clear",value:function(){return(0,_helpersSegment.af)(this.canvas,this.ctx),this}},{key:"stop",value:function(){return animator.stop(this),this}},{key:"resize",value:function(a,t){animator.running(this)?this._resizeBeforeDraw={width:a,height:t}:this._resize(a,t)}},{key:"_resize",value:function(o,n){var l=this.options,i=this.canvas,r=l.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(i,o,n,r),o=l.devicePixelRatio||this.platform.getDevicePixelRatio(),n=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,(0,_helpersSegment.ae)(this,o,!0)&&(this.notifyPlugins("resize",{size:i}),(0,_helpersSegment.Q)(l.onResize,[this,i],this),this.attached&&this._doResize(n)&&this.render())}},{key:"ensureScalesHaveIDs",value:function(){var e=this.options.scales||{};(0,_helpersSegment.F)(e,function(a,t){a.id=t})}},{key:"buildOrUpdateScales",value:function(){var e=this,d=this.options,o=d.scales,c=this.scales,l=Object.keys(c).reduce(function(a,t){return a[t]=!1,a},{}),a=[];o&&(a=a.concat(Object.keys(o).map(function(a){var n=o[a],a=determineAxis(a,n),e="r"===a,a="x"===a;return{options:n,dposition:e?"chartArea":a?"bottom":"left",dtype:e?"radialLinear":a?"category":"linear"}}))),(0,_helpersSegment.F)(a,function(o){var t=o.options,g=t.id,i=determineAxis(g,t),a=(0,_helpersSegment.v)(t.type,o.dtype);void 0!==t.position&&positionIsHorizontal(t.position,i)===positionIsHorizontal(o.dposition)||(t.position=o.dposition),l[g]=!0;var s=null;if(g in c&&c[g].type===a)s=c[g];else{var u=registry.getScale(a);s=new u({id:g,type:a,ctx:e.ctx,chart:e}),c[s.id]=s}s.init(t,d)}),(0,_helpersSegment.F)(l,function(a,t){a||delete c[t]}),(0,_helpersSegment.F)(c,function(a){layouts.configure(e,a,a.options),layouts.addBox(e,a)})}},{key:"_updateMetasets",value:function(){var a=this._metasets,t=this.data.datasets.length,e=a.length;if(a.sort(function(a,t){return a.index-t.index}),t<e){for(var i=t;i<e;++i)this._destroyDatasetMeta(i);a.splice(t,e-t)}this._sortedMetasets=a.slice(0).sort(compare2Level("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var a=this,o=this._metasets,n=this.data.datasets;o.length>n.length&&delete this._stacks,o.forEach(function(i,e){0===n.filter(function(e){return e===i._dataset}).length&&a._destroyDatasetMeta(e)})}},{key:"buildOrUpdateControllers",value:function(){var o,l,d=[],e=this.data.datasets;for(this._removeUnreferencedMetasets(),o=0,l=e.length;o<l;o++){var i=e[o],c=this.getDatasetMeta(o),g=i.type||this.config.type;if(c.type&&c.type!==g&&(this._destroyDatasetMeta(o),c=this.getDatasetMeta(o)),c.type=g,c.indexAxis=i.indexAxis||getIndexAxis(g,this.options),c.order=i.order||0,c.index=o,c.label=""+i.label,c.visible=this.isDatasetVisible(o),c.controller)c.controller.updateIndex(o),c.controller.linkScales();else{var u=registry.getController(g),p=_helpersSegment.d.datasets[g],i=p.datasetElementType,g=p.dataElementType;Object.assign(u,{dataElementType:registry.getElement(g),datasetElementType:i&&registry.getElement(i)}),c.controller=new u(this,o),d.push(c.controller)}}return this._updateMetasets(),d}},{key:"_resetElements",value:function(){var a=this;(0,_helpersSegment.F)(this.data.datasets,function(i,t){a.getDatasetMeta(t).controller.reset()},this)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(l){var d=this.config;d.update();var e=this._options=d.createResolver(d.chartOptionScopes(),this.getContext()),c=this._animationsDisabled=!e.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:l,cancelable:!0})){var s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");for(var r=0,g=0,u=this.data.datasets.length;g<u;g++){var p=this.getDatasetMeta(g).controller,h=!c&&-1===s.indexOf(p);p.buildOrUpdateElements(h),r=Math.max(+p.getMaxOverflow(),r)}r=this._minPadding=e.layout.autoPadding?r:0,this._updateLayout(r),c||(0,_helpersSegment.F)(s,function(e){e.reset()}),this._updateDatasets(l),this.notifyPlugins("afterUpdate",{mode:l}),this._layers.sort(compare2Level("z","_idx"));var e=this._active,l=this._lastEvent;l?this._eventHandler(l,!0):e.length&&this._updateHoverStyles(e,e,!0),this.render()}}},{key:"_updateScales",value:function(){var e=this;(0,_helpersSegment.F)(this.scales,function(a){layouts.removeBox(e,a)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}},{key:"_checkEventBindings",value:function(){var a=this.options,t=new Set(Object.keys(this._listeners)),e=new Set(a.events);(0,_helpersSegment.ag)(t,e)&&!!this._responsiveListeners===a.responsive||(this.unbindEvents(),this.bindEvents())}},{key:"_updateHiddenIndices",value:function(){var o,n,l,r,d=this._hiddenIndices,a=_createForOfIteratorHelper(this._getUniformDataChanges()||[]);try{for(a.s();!(r=a.n()).done;){var c=r.value;o=c.method,n=c.start,l=c.count;var g="_removeElements"===o?-l:l;moveNumericKeys(d,n,g)}}catch(e){a.e(e)}finally{a.f()}}},{key:"_getUniformDataChanges",value:function(){var o=this._dataChanges;if(o&&o.length){this._dataChanges=[];for(var t=this.data.datasets.length,e=function(a){return new Set(o.filter(function(e){return e[0]===a}).map(function(a,t){return t+","+a.splice(1).join(",")}))},i=e(0),a=1;a<t;a++)if(!(0,_helpersSegment.ag)(i,e(a)))return;return Array.from(i).map(function(e){return e.split(",")}).map(function(e){return{method:e[1],start:+e[2],count:+e[3]}})}}},{key:"_updateLayout",value:function(a){var i=this;if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){layouts.update(this,this.width,this.height,a),a=this.chartArea;var o=0>=a.width||0>=a.height;this._layers=[],(0,_helpersSegment.F)(this.boxes,function(e){var t;o&&"chartArea"===e.position||(e.configure&&e.configure(),(t=i._layers).push.apply(t,_toConsumableArray(e._layers())))},this),this._layers.forEach(function(a,t){a._idx=t}),this.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(a){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:a,cancelable:!0})){for(var i=0,o=this.data.datasets.length;i<o;++i)this.getDatasetMeta(i).controller.configure();for(var e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,(0,_helpersSegment.a7)(a)?a({datasetIndex:e}):a);this.notifyPlugins("afterDatasetsUpdate",{mode:a})}}},{key:"_updateDataset",value:function(o,t){var e=this.getDatasetMeta(o),i={meta:e,index:o,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(e.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}},{key:"render",value:function(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}},{key:"draw",value:function(){var o,n,l,s;if(this._resizeBeforeDraw&&(o=this._resizeBeforeDraw,l=o.width,s=o.height,this._resize(l,s),this._resizeBeforeDraw=null),this.clear(),!(0>=this.width||0>=this.height)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){var r=this._layers;for(n=0;n<r.length&&0>=r[n].z;++n)r[n].draw(this.chartArea);for(this._drawDatasets();n<r.length;++n)r[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(o){var t,l,r=this._sortedMetasets,e=[];for(t=0,l=r.length;t<l;++t){var i=r[t];o&&!i.visible||e.push(i)}return e}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var a=this.getSortedVisibleDatasetMetas(),e=a.length-1;0<=e;--e)this._drawDataset(a[e]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(o){var t=this.ctx,e=o._clip,i=!e.disabled,a=getDatasetArea(o,this.chartArea),l={meta:o,index:o.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",l)&&(i&&(0,_helpersSegment.Y)(t,{left:!1===e.left?0:a.left-e.left,right:!1===e.right?this.width:a.right+e.right,top:!1===e.top?0:a.top-e.top,bottom:!1===e.bottom?this.height:a.bottom+e.bottom}),o.controller.draw(),i&&(0,_helpersSegment.$)(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}},{key:"isPointInArea",value:function(e){return(0,_helpersSegment.C)(e,this.chartArea,this._minPadding)}},{key:"getElementsAtEventForMode",value:function(o,t,e,i){var a=Interaction.modes[t];return"function"==typeof a?a(this,o,e,i):[]}},{key:"getDatasetMeta",value:function(o){var n=this.data.datasets[o],e=this._metasets,t=e.filter(function(e){return e&&e._dataset===n}).pop();return t||(t={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:o,_dataset:n,_parsed:[],_sorted:!1},e.push(t)),t}},{key:"getContext",value:function(){return this.$context||(this.$context=(0,_helpersSegment.j)(null,{chart:this,type:"chart"}))}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(a){var i=this.data.datasets[a];return!!i&&(a=this.getDatasetMeta(a),"boolean"==typeof a.hidden?!a.hidden:!i.hidden)}},{key:"setDatasetVisibility",value:function(a,t){var e=this.getDatasetMeta(a);e.hidden=!t}},{key:"toggleDataVisibility",value:function(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}},{key:"getDataVisibility",value:function(e){return!this._hiddenIndices[e]}},{key:"_updateVisibility",value:function(o,e,t){var i=t?"show":"hide",a=this.getDatasetMeta(o),l=a.controller._resolveAnimations(void 0,i);(0,_helpersSegment.h)(e)?(a.data[e].hidden=!t,this.update()):(this.setDatasetVisibility(o,t),l.update(a,{visible:t}),this.update(function(e){return e.datasetIndex===o?i:void 0}))}},{key:"hide",value:function(a,t){this._updateVisibility(a,t,!1)}},{key:"show",value:function(a,t){this._updateVisibility(a,t,!0)}},{key:"_destroyDatasetMeta",value:function(a){var t=this._metasets[a];t&&t.controller&&t.controller._destroy(),delete this._metasets[a]}},{key:"_stop",value:function(){var a,i;for(this.stop(),animator.remove(this),a=0,i=this.data.datasets.length;a<i;++a)this._destroyDatasetMeta(a)}},{key:"destroy",value:function(){this.notifyPlugins("beforeDestroy");var a=this.canvas,t=this.ctx;this._stop(),this.config.clearCache(),a&&(this.unbindEvents(),(0,_helpersSegment.af)(a,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}},{key:"toBase64Image",value:function(){var e;return(e=this.canvas).toDataURL.apply(e,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var o=this,n=this._listeners,i=this.platform,a=function(e,t){i.addEventListener(o,e,t),n[e]=t},e=function(a,t,e){a.offsetX=t,a.offsetY=e,o._eventHandler(a)};(0,_helpersSegment.F)(this.options.events,function(i){return a(i,e)})}},{key:"bindResponsiveEvents",value:function(){var o=this;this._responsiveListeners||(this._responsiveListeners={});var l,r=this._responsiveListeners,i=this.platform,a=function(t,a){i.addEventListener(o,t,a),r[t]=a},t=function(e,t){r[e]&&(i.removeEventListener(o,e,t),delete r[e])},e=function(a,t){o.canvas&&o.resize(a,t)},s=function(){t("attach",s),o.attached=!0,o.resize(),a("resize",e),a("detach",l)};l=function(){o.attached=!1,t("resize",e),o._stop(),o._resize(0,0),a("attach",s)},(i.isAttached(this.canvas)?s:l)()}},{key:"unbindEvents",value:function(){var a=this;(0,_helpersSegment.F)(this._listeners,function(i,t){a.platform.removeEventListener(a,t,i)}),this._listeners={},(0,_helpersSegment.F)(this._responsiveListeners,function(i,t){a.platform.removeEventListener(a,t,i)}),this._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(d,t,e){var i,c,g,u,p=e?"set":"remove";for("dataset"===t&&(i=this.getDatasetMeta(d[0].datasetIndex)).controller["_"+p+"DatasetHoverStyle"](),g=0,u=d.length;g<u;++g){var a=(c=d[g])&&this.getDatasetMeta(c.datasetIndex).controller;a&&a[p+"HoverStyle"](c.element,c.datasetIndex,c.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(a){var o=this,n=this._active||[],a=a.map(function(a){var n=a.datasetIndex,t=a.index,e=o.getDatasetMeta(n);if(e)return{datasetIndex:n,element:e.data[t],index:t};throw new Error("No dataset found at index "+n)});(0,_helpersSegment.ah)(a,n)||(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,n))}},{key:"notifyPlugins",value:function(a,t,e){return this._plugins.notify(this,a,t,e)}},{key:"isPluginEnabled",value:function(a){return 1===this._plugins._cache.filter(function(e){return e.plugin.id===a}).length}},{key:"_updateHoverStyles",value:function(o,t,e){var l=this.options.hover,a=function(e,t){return e.filter(function(a){return!t.some(function(e){return a.datasetIndex===e.datasetIndex&&a.index===e.index})})},s=a(t,o),e=e?o:a(o,t);s.length&&this.updateHoverStyle(s,l.mode,!1),e.length&&l.mode&&this.updateHoverStyle(e,l.mode,!0)}},{key:"_eventHandler",value:function(o,e){var n=this,l={event:o,replay:e,cancelable:!0,inChartArea:this.isPointInArea(o)},i=function(e){return(e.options.events||n.options.events).includes(o.native.type)};if(!1!==this.notifyPlugins("beforeEvent",l,i))return e=this._handleEvent(o,e,l.inChartArea),l.cancelable=!1,this.notifyPlugins("afterEvent",l,i),(e||l.changed)&&this.render(),this}},{key:"_handleEvent",value:function(l,t,e){var d=this._active,c=void 0===d?[]:d,a=this.options,s=this._getActiveElements(l,c,e,t),n=(0,_helpersSegment.ai)(l),r=determineLastEvent(l,this._lastEvent,e,n),e=(e&&(this._lastEvent=null,(0,_helpersSegment.Q)(a.onHover,[l,s,this],this),n&&(0,_helpersSegment.Q)(a.onClick,[l,s,this],this)),!(0,_helpersSegment.ah)(s,c));return(e||t)&&(this._active=s,this._updateHoverStyles(s,c,t)),this._lastEvent=r,e}},{key:"_getActiveElements",value:function(o,t,e,n){return"mouseout"===o.type?[]:e?(e=this.options.hover,this.getElementsAtEventForMode(o,e.mode,e,n)):t}}],[{key:"register",value:function(){registry.add.apply(registry,arguments),invalidatePlugins()}},{key:"unregister",value:function(){registry.remove.apply(registry,arguments),invalidatePlugins()}}])}();_defineProperty(Chart,"defaults",_helpersSegment.d),_defineProperty(Chart,"instances",instances),_defineProperty(Chart,"overrides",_helpersSegment.a3),_defineProperty(Chart,"registry",registry),_defineProperty(Chart,"version","4.4.1"),_defineProperty(Chart,"getChart",getChart);function invalidatePlugins(){return(0,_helpersSegment.F)(Chart.instances,function(e){return e._plugins.invalidate()})}function clipArc(d,t,c){var i=t,t=i.startAngle,g=i.pixelMargin,a=i.x,s=i.y,n=i.outerRadius,r=i.innerRadius,o=g/n;d.beginPath(),d.arc(a,s,n,t-o,c+o),g<r?d.arc(a,s,r,c+(o=g/r),t-o,!0):d.arc(a,s,g,c+_helpersSegment.H,t-_helpersSegment.H),d.closePath(),d.clip()}function toRadiusCorners(e){return(0,_helpersSegment.ak)(e,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(o,l,r,i){var a=Math.min;o=toRadiusCorners(o.options.borderRadius);var d=(r-l)/2,l=a(d,i*l/2),s=function(o){var t=(r-a(d,o))*i/2;return(0,_helpersSegment.S)(o,0,a(d,t))};return{outerStart:s(o.outerStart),outerEnd:s(o.outerEnd),innerStart:(0,_helpersSegment.S)(o.innerStart,0,l),innerEnd:(0,_helpersSegment.S)(o.innerEnd,0,l)}}function rThetaToXY(o,t,e,i){return{x:e+o*Math.cos(t),y:i+o*Math.sin(t)}}function pathArc(y,t,k,S,w,P){var D=Math.PI,C=Math.sin,A=Math.cos,L=Math.max,E=t,T=E.x,r=E.y,o=E.startAngle,R=E.pixelMargin,O=E.innerRadius,z=L(t.outerRadius+S+k-R,0),R=0<O?O+S+k+R:0,c=0,F=w-o,O=(S&&(O=((0<O?O-S:0)+(0<z?z-S:0))/2,c=(F-(0==O?F:F*O/(O+S)))/2),L(.001,F*z-k/_helpersSegment.P)/z),S=(F-O)/2,k=o+S+c,F=w-S-c,I=parseBorderRadius$1(t,R,z,F-k),O=I.outerStart,o=I.outerEnd,w=I.innerStart,S=I.innerEnd,t=z-O,M=z-o,V=k+O/t,f=F-o/M,m=R+w,v=R+S,B=k+w/m,b=F-S/v;y.beginPath(),P?(y.arc(T,r,z,V,P=(V+f)/2),y.arc(T,r,z,P,f),0<o&&(P=rThetaToXY(M,f,T,r),y.arc(P.x,P.y,o,f,F+_helpersSegment.H)),M=rThetaToXY(v,F,T,r),y.lineTo(M.x,M.y),0<S&&(P=rThetaToXY(v,b,T,r),y.arc(P.x,P.y,S,F+_helpersSegment.H,b+D)),y.arc(T,r,R,F-S/R,o=(F-S/R+(k+w/R))/2,!0),y.arc(T,r,R,o,k+w/R,!0),0<w&&(M=rThetaToXY(m,B,T,r),y.arc(M.x,M.y,w,B+D,k-_helpersSegment.H)),v=rThetaToXY(t,k,T,r),y.lineTo(v.x,v.y),0<O&&(P=rThetaToXY(t,V,T,r),y.arc(P.x,P.y,O,k-_helpersSegment.H,V))):(y.moveTo(T,r),b=A(V)*z+T,F=C(V)*z+r,y.lineTo(b,F),S=A(f)*z+T,o=C(f)*z+r,y.lineTo(S,o)),y.closePath()}function drawArc(d,e,t,i,a){var s=e.fullCircles,n=e.startAngle,r=e.circumference,o=e.endAngle;if(s){pathArc(d,e,t,i,o,a);for(var c=0;c<s;++c)d.fill();isNaN(r)||(o=n+(r%_helpersSegment.T||_helpersSegment.T))}return pathArc(d,e,t,i,o,a),d.fill(),o}function drawBorder(p,e,i,a,s){var n=e.fullCircles,r=e.startAngle,o=e.circumference,l=e.options,m=l,y=m.borderWidth,d=m.borderJoinStyle,c=m.borderDash,u=m.borderDashOffset,l="inner"===l.borderAlign;if(y){p.setLineDash(c||[]),p.lineDashOffset=u,l?(p.lineWidth=2*y,p.lineJoin=d||"round"):(p.lineWidth=y,p.lineJoin=d||"bevel");var g=e.endAngle;if(n){pathArc(p,e,i,a,g,s);for(var f=0;f<n;++f)p.stroke();isNaN(o)||(g=r+(o%_helpersSegment.T||_helpersSegment.T))}l&&clipArc(p,e,g),n||(pathArc(p,e,i,a,g,s),p.stroke())}}var ArcElement=exports.ArcElement=/*#__PURE__*/function(e){var l=Math.sin,d=Math.cos,c=Math.floor,g=Math.min;function u(e){var t;return _classCallCheck(this,u),t=_callSuper(this,u),_defineProperty(_assertThisInitialized(t),"circumference",void 0),_defineProperty(_assertThisInitialized(t),"endAngle",void 0),_defineProperty(_assertThisInitialized(t),"fullCircles",void 0),_defineProperty(_assertThisInitialized(t),"innerRadius",void 0),_defineProperty(_assertThisInitialized(t),"outerRadius",void 0),_defineProperty(_assertThisInitialized(t),"pixelMargin",void 0),_defineProperty(_assertThisInitialized(t),"startAngle",void 0),t.options=void 0,t.circumference=void 0,t.startAngle=void 0,t.endAngle=void 0,t.innerRadius=void 0,t.outerRadius=void 0,t.pixelMargin=0,t.fullCircles=0,e&&Object.assign(_assertThisInitialized(t),e),t}return _inherits(u,e),_createClass(u,[{key:"inRange",value:function(l,d,c){var g=this.getProps(["x","y"],c),u=(0,_helpersSegment.D)(g,{x:l,y:d}),g=u.angle,l=u.distance,p=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),d=p.startAngle,c=p.endAngle,h=p.innerRadius,s=p.outerRadius,n=p.circumference,m=(this.options.spacing+this.options.borderWidth)/2,n=(0,_helpersSegment.v)(n,c-d),n=_helpersSegment.T<=n||(0,_helpersSegment.p)(g,d,c),g=(0,_helpersSegment.aj)(l,h+m,s+m);return n&&g}},{key:"getCenterPoint",value:function(c){var g=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],c),c=g.x,u=g.y,e=g.startAngle,p=g.endAngle,h=g.innerRadius,s=g.outerRadius,n=this.options,m=n.offset,r=n.spacing,e=(e+p)/2,p=(h+s+r+m)/2;return{x:c+d(e)*p,y:u+l(e)*p}}},{key:"tooltipPosition",value:function(e){return this.getCenterPoint(e)}},{key:"draw",value:function(o){var t,u=this.options,i=this.circumference,a=(u.offset||0)/4,s=(u.spacing||0)/2,n=u.circular;this.pixelMargin="inner"===u.borderAlign?.33:0,this.fullCircles=_helpersSegment.T<i?c(i/_helpersSegment.T):0,0===i||0>this.innerRadius||0>this.outerRadius||(o.save(),t=(this.startAngle+this.endAngle)/2,o.translate(d(t)*a,l(t)*a),t=a*(1-l(g(_helpersSegment.P,i||0))),o.fillStyle=u.backgroundColor,o.strokeStyle=u.borderColor,drawArc(o,this,t,s,n),drawBorder(o,this,t,s,n),o.restore())}}])}(Element);_defineProperty(ArcElement,"id","arc"),_defineProperty(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),_defineProperty(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"}),_defineProperty(ArcElement,"descriptors",{_scriptable:!0,_indexable:function(e){return"borderDash"!==e}});function setStyle(a,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:t;a.lineCap=(0,_helpersSegment.v)(e.borderCapStyle,t.borderCapStyle),a.setLineDash((0,_helpersSegment.v)(e.borderDash,t.borderDash)),a.lineDashOffset=(0,_helpersSegment.v)(e.borderDashOffset,t.borderDashOffset),a.lineJoin=(0,_helpersSegment.v)(e.borderJoinStyle,t.borderJoinStyle),a.lineWidth=(0,_helpersSegment.v)(e.borderWidth,t.borderWidth),a.strokeStyle=(0,_helpersSegment.v)(e.borderColor,t.borderColor)}function lineTo(a,t,e){a.lineTo(e.x,e.y)}function getLineMethod(e){return e.stepped?_helpersSegment.ar:e.tension||"monotone"===e.cubicInterpolationMode?_helpersSegment.as:lineTo}function pathVars(a,l){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return function(e,d){var e=e.length,c=d,g=c.start,d=void 0===g?0:g,u=c.end,p=void 0===u?e-1:u,a=l.start,s=l.end,n=Math.max(d,a),r=Math.min(p,s);return{count:e,start:n,loop:l.loop,ilen:r<n&&!(d<a&&p<a||s<d&&s<p)?e+r-n:r-n}}(a,e)}function pathSegment(m,t,y,i){var a,f,x,_=t,b=_.points,s=_.options,n=pathVars(b,y,i),v=n.count,r=n.start,t=n.loop,o=n.ilen,l=getLineMethod(s),h=i||{},k=h.move,S=!(void 0!==k)||k,w=h.reverse;for(a=0;a<=o;++a)(f=b[(r+(w?o-a:a))%v]).skip||(S?(m.moveTo(f.x,f.y),S=!1):l(m,x,f,w,s.stepped),x=f);return t&&(f=b[(r+(w?o:0))%v],l(m,x,f,w,s.stepped)),!!t}function fastPathSegment(l,t,e,i){var a,S,w,P,D,C,A,L,E,T=t.points,s=pathVars(T,e,i),R=s.count,n=s.start,r=s.ilen,o=i||{},O=o.move,z=o.reverse,h=0,F=0,I=function(e){return(n+(z?r-e:e))%R},y=function(){P!==D&&(l.lineTo(h,D),l.lineTo(h,P),l.lineTo(h,C))};for((!(void 0!==O)||O)&&(S=T[I(0)],l.moveTo(S.x,S.y)),a=0;a<=r;++a)(S=T[I(a)]).skip||(A=S.x,L=S.y,(E=0|A)===w?(L<P?P=L:L>D&&(D=L),h=(F*h+A)/++F):(y(),l.lineTo(A,L),w=E,F=0,P=D=L),C=L);y()}function _getSegmentMethod(a){var t=a.options,e=t.borderDash&&t.borderDash.length;return a._decimated||a._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||e?pathSegment:fastPathSegment}function _getInterpolationMethod(e){return e.stepped?_helpersSegment.ao:e.tension||"monotone"===e.cubicInterpolationMode?_helpersSegment.ap:_helpersSegment.aq}function strokePathWithCache(o,t,e,i){var a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),setStyle(o,t.options),o.stroke(a)}function strokePathDirect(l,t,e,i){var a,d=t.segments,s=t.options,n=_getSegmentMethod(t),r=_createForOfIteratorHelper(d);try{for(r.s();!(a=r.n()).done;){var c=a.value;setStyle(l,s,c.style),l.beginPath(),n(l,t,c,{start:e,end:e+i-1})&&l.closePath(),l.stroke()}}catch(e){r.e(e)}finally{r.f()}}var usePath2D="function"==typeof Path2D;function _draw(o,t,e,i){(usePath2D&&!t.options.segment?strokePathWithCache:strokePathDirect)(o,t,e,i)}var LineElement=exports.LineElement=/*#__PURE__*/function(e){var t=Math.abs;function a(e){var t;return _classCallCheck(this,a),t=_callSuper(this,a),t.animated=!0,t.options=void 0,t._chart=void 0,t._loop=void 0,t._fullLoop=void 0,t._path=void 0,t._points=void 0,t._segments=void 0,t._decimated=!1,t._pointsUpdated=!1,t._datasetIndex=void 0,e&&Object.assign(_assertThisInitialized(t),e),t}return _inherits(a,e),_createClass(a,[{key:"updateControlPoints",value:function(o,t){var e,n=this.options;!n.tension&&"monotone"!==n.cubicInterpolationMode||n.stepped||this._pointsUpdated||(e=n.spanGaps?this._loop:this._fullLoop,(0,_helpersSegment.al)(this._points,n,o,e,t),this._pointsUpdated=!0)}},{key:"points",get:function(){return this._points},set:function(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=(0,_helpersSegment.am)(this,this.options.segment))}},{key:"first",value:function(){var a=this.segments,t=this.points;return a.length&&t[a[0].start]}},{key:"last",value:function(){var a=this.segments,t=this.points,e=a.length;return e&&t[a[e-1].end]}},{key:"interpolate",value:function(p,i){var a=this.options,s=p[i],n=this.points,r=(0,_helpersSegment.an)(this,{property:i,start:s,end:s});if(r.length){var o,m,y=[],c=_getInterpolationMethod(a);for(o=0,m=r.length;o<m;++o){var u=r[o],f=u.start,x=u.end,f=n[f],x=n[x];if(f===x)y.push(f);else{var _=t((s-f[i])/(x[i]-f[i])),b=c(f,x,_,a.stepped);b[i]=p[i],y.push(b)}}return 1===y.length?y[0]:y}}},{key:"pathSegment",value:function(o,t,e){var i=_getSegmentMethod(this);return i(o,this,t,e)}},{key:"path",value:function(o,t,l){var d=this.segments,a=_getSegmentMethod(this),s=this._loop;t=t||0,l=l||this.points.length-t;var c,g=_createForOfIteratorHelper(d);try{for(g.s();!(c=g.n()).done;){var u=c.value;s&=a(o,this,u,{start:t,end:t+l-1})}}catch(e){g.e(e)}finally{g.f()}return!!s}},{key:"draw",value:function(o,t,e,i){var a=this.options||{};(this.points||[]).length&&a.borderWidth&&(o.save(),_draw(o,this,e,i),o.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}])}(Element);_defineProperty(LineElement,"id","line"),_defineProperty(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),_defineProperty(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),_defineProperty(LineElement,"descriptors",{_scriptable:!0,_indexable:function(e){return"borderDash"!==e&&"fill"!==e}});function inRange$1(o,n,e,i){var a=o.options,l=o.getProps([e],i),o=l[e];return Math.abs(n-o)<a.radius+a.hitRadius}var PointElement=exports.PointElement=/*#__PURE__*/function(e){var o=Math.pow,n=Math.max;function l(e){var t;return _classCallCheck(this,l),t=_callSuper(this,l),_defineProperty(_assertThisInitialized(t),"parsed",void 0),_defineProperty(_assertThisInitialized(t),"skip",void 0),_defineProperty(_assertThisInitialized(t),"stop",void 0),_assertThisInitialized(t),t.options=void 0,t.parsed=void 0,t.skip=void 0,t.stop=void 0,e&&Object.assign(_assertThisInitialized(t),e),t}return _inherits(l,e),_createClass(l,[{key:"inRange",value:function(n,t,e){var l=this.options,a=this.getProps(["x","y"],e),e=a.x,r=a.y;return o(n-e,2)+o(t-r,2)<o(l.hitRadius+l.radius,2)}},{key:"inXRange",value:function(a,t){return inRange$1(this,a,"x",t)}},{key:"inYRange",value:function(a,t){return inRange$1(this,a,"y",t)}},{key:"getCenterPoint",value:function(a){var i=this.getProps(["x","y"],a),a=i.x,o=i.y;return{x:a,y:o}}},{key:"size",value:function(a){var i=(a=a||this.options||{}).radius||0;return 2*((i=n(i,i&&a.hoverRadius||0))+(i&&a.borderWidth||0))}},{key:"draw",value:function(a,t){var e=this.options;this.skip||.1>e.radius||!(0,_helpersSegment.C)(this,t,this.size(e)/2)||(a.strokeStyle=e.borderColor,a.lineWidth=e.borderWidth,a.fillStyle=e.backgroundColor,(0,_helpersSegment.at)(a,e,this.x,this.y))}},{key:"getRange",value:function(){var e=this.options||{};return e.radius+e.hitRadius}}])}(Element);_defineProperty(PointElement,"id","point"),_defineProperty(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),_defineProperty(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function getBarBounds(c,t){var p,m,y,f,x,g=Math.max,u=Math.min,_=c.getProps(["x","y","base","width","height"],t),t=_.x,b=_.y,i=_.base,a=_.width,s=_.height;return f=c.horizontal?(x=s/2,p=u(t,i),m=g(t,i),y=b-x,b+x):(x=a/2,p=t-x,m=t+x,y=u(b,i),g(b,i)),{left:p,top:y,right:m,bottom:f}}function skipOrLimit(o,t,e,i){return o?0:(0,_helpersSegment.S)(t,e,i)}function parseBorderWidth(o,n,e){var i=o.options.borderWidth,o=o.borderSkipped,i=(0,_helpersSegment.av)(i);return{t:skipOrLimit(o.top,i.top,0,e),r:skipOrLimit(o.right,i.right,0,n),b:skipOrLimit(o.bottom,i.bottom,0,e),l:skipOrLimit(o.left,i.left,0,n)}}function parseBorderRadius(o,l,r){var d=o.getProps(["enableBorderRadius"]).enableBorderRadius,a=o.options.borderRadius,s=(0,_helpersSegment.aw)(a),l=Math.min(l,r),r=o.borderSkipped,o=d||(0,_helpersSegment.i)(a);return{topLeft:skipOrLimit(!o||r.top||r.left,s.topLeft,0,l),topRight:skipOrLimit(!o||r.top||r.right,s.topRight,0,l),bottomLeft:skipOrLimit(!o||r.bottom||r.left,s.bottomLeft,0,l),bottomRight:skipOrLimit(!o||r.bottom||r.right,s.bottomRight,0,l)}}function boundingRects(o){var n=Math.max,l=getBarBounds(o),e=l.right-l.left,i=l.bottom-l.top,a=parseBorderWidth(o,e/2,i/2),o=parseBorderRadius(o,e/2,i/2);return{outer:{x:l.left,y:l.top,w:e,h:i,radius:o},inner:{x:l.left+a.l,y:l.top+a.t,w:e-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:n(0,o.topLeft-n(a.t,a.l)),topRight:n(0,o.topRight-n(a.t,a.r)),bottomLeft:n(0,o.bottomLeft-n(a.b,a.l)),bottomRight:n(0,o.bottomRight-n(a.b,a.r))}}}}function _inRange(o,l,e,i){var a=null===l,s=null===e,o=o&&!(a&&s)&&getBarBounds(o,i);return o&&(a||(0,_helpersSegment.aj)(l,o.left,o.right))&&(s||(0,_helpersSegment.aj)(e,o.top,o.bottom))}function hasRadius(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function addNormalRectPath(a,t){a.rect(t.x,t.y,t.w,t.h)}function inflateRect(o,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return function(e){var l=o.x===e.x?0:-t,a=o.y===e.y?0:-t,s=(o.x+o.w===e.x+e.w?0:t)-l,e=(o.y+o.h===e.y+e.h?0:t)-a;return{x:o.x+l,y:o.y+a,w:o.w+s,h:o.h+e,radius:o.radius}}(e)}var BarElement=exports.BarElement=/*#__PURE__*/function(e){function a(e){var t;return _classCallCheck(this,a),t=_callSuper(this,a),t.options=void 0,t.horizontal=void 0,t.base=void 0,t.width=void 0,t.height=void 0,t.inflateAmount=void 0,e&&Object.assign(_assertThisInitialized(t),e),t}return _inherits(a,e),_createClass(a,[{key:"draw",value:function(o){var t=this.inflateAmount,e=this.options,l=e.borderColor,i=e.backgroundColor,a=boundingRects(this),d=a.inner,s=a.outer,n=hasRadius(s.radius)?_helpersSegment.au:addNormalRectPath;o.save(),s.w===d.w&&s.h===d.h||(o.beginPath(),n(o,inflateRect(s,t,d)),o.clip(),n(o,inflateRect(d,-t,s)),o.fillStyle=l,o.fill("evenodd")),o.beginPath(),n(o,inflateRect(d,t)),o.fillStyle=i,o.fill(),o.restore()}},{key:"inRange",value:function(a,t,e){return _inRange(this,a,t,e)}},{key:"inXRange",value:function(a,t){return _inRange(this,a,null,t)}},{key:"inYRange",value:function(a,t){return _inRange(this,null,a,t)}},{key:"getCenterPoint",value:function(o){var n=this.getProps(["x","y","base","horizontal"],o),o=n.x,l=n.y,e=n.base,i=n.horizontal;return{x:i?(o+e)/2:o,y:i?l:(l+e)/2}}},{key:"getRange",value:function(e){return"x"===e?this.width/2:this.height/2}}])}(Element);_defineProperty(BarElement,"id","bar"),_defineProperty(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),_defineProperty(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var elements=exports.elements=Object.freeze({__proto__:null,ArcElement:ArcElement,BarElement:BarElement,LineElement:LineElement,PointElement:PointElement}),BORDER_COLORS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BACKGROUND_COLORS=BORDER_COLORS.map(function(e){return e.replace("rgb(","rgba(").replace(")",", 0.5)")});function getBorderColor(e){return BORDER_COLORS[e%BORDER_COLORS.length]}function getBackgroundColor(e){return BACKGROUND_COLORS[e%BACKGROUND_COLORS.length]}function colorizeDefaultDataset(a,t){return a.borderColor=getBorderColor(t),a.backgroundColor=getBackgroundColor(t),++t}function colorizeDoughnutDataset(a,t){return a.backgroundColor=a.data.map(function(){return getBorderColor(t++)}),t}function colorizePolarAreaDataset(a,t){return a.backgroundColor=a.data.map(function(){return getBackgroundColor(t++)}),t}function getColorizer(o){var i=0;return function(a,t){t=o.getDatasetMeta(t).controller,t instanceof DoughnutController?i=colorizeDoughnutDataset(a,i):t instanceof PolarAreaController?i=colorizePolarAreaDataset(a,i):t&&(i=colorizeDefaultDataset(a,i))}}function containsColorsDefinitions(a){for(var t in a)if(a[t].borderColor||a[t].backgroundColor)return!0;return!1}function containsColorsDefinition(e){return e&&(e.borderColor||e.backgroundColor)}var plugin_colors=exports.Colors={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout:function(o,t,e){if(e.enabled){var l=o.config,r=l.data.datasets,s=l.options,n=s.elements;!e.forceOverride&&(containsColorsDefinitions(r)||containsColorsDefinition(s)||n&&containsColorsDefinitions(n))||(e=getColorizer(o),r.forEach(e))}}};function lttbDecimation(y,a,s,n,t){var k=Math.floor,S=Math.min,w=t.samples||n;if(s<=w)return y.slice(a,a+s);var i=[],r=(s-2)/(w-2),o=0;t=a+s-1;var P,D,C,A,L,E=a;for(i[o++]=y[E],P=0;P<w-2;P++){var T=0,R=0,O=void 0,z=k((P+1)*r)+1+a,F=S(k((P+2)*r)+1,s)+a,I=F-z;for(O=z;O<F;O++)T+=y[O].x,R+=y[O].y;T/=I,R/=I;var z=k(P*r)+1+a,M=S(k((P+1)*r)+1,s)+a,V=y[E],B=V.x,H=V.y;for(C=-1,O=z;O<M;O++)(A=.5*Math.abs((B-T)*(y[O].y-H)-(B-y[O].x)*(R-H)))>C&&(C=A,D=y[O],L=O);i[o++]=D,E=L}return i[o++]=y[t],i}function minMaxDecimation(S,t,e,i){var a,w,P,D,C,A,L,E,T,R,O=0,z=0,F=[],m=S[t].x,v=S[t+e-1].x-m;for(a=t;a<t+e;++a){P=((w=S[a]).x-m)/v*i,D=w.y;var x,I,M,V=0|P;V===C?(D<T?(T=D,A=a):D>R&&(R=D,L=a),O=(z*O+w.x)/++z):(x=a-1,(0,_helpersSegment.k)(A)||(0,_helpersSegment.k)(L)||(I=Math.min(A,L),M=Math.max(A,L),I!==E&&I!==x&&F.push(_objectSpread(_objectSpread({},S[I]),{},{x:O})),M!==E&&M!==x&&F.push(_objectSpread(_objectSpread({},S[M]),{},{x:O}))),0<a&&x!==E&&F.push(S[x]),F.push(w),C=V,z=0,T=R=D,A=L=E=a)}return F}function cleanDecimatedDataset(a){var t;a._decimated&&(t=a._data,delete a._decimated,delete a._data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,writable:!0,value:t}))}function cleanDecimatedData(e){e.data.datasets.forEach(function(e){cleanDecimatedDataset(e)})}function getStartAndCountOfVisiblePointsSimplified(d,c){var e,g=c.length,i=0,u=d.iScale,n=u.getUserBounds(),d=n.min,p=n.max,r=n.minDefined,o=n.maxDefined;return r&&(i=(0,_helpersSegment.S)((0,_helpersSegment.B)(c,u.axis,d).lo,0,g-1)),e=o?(0,_helpersSegment.S)((0,_helpersSegment.B)(c,u.axis,p).hi+1,i,g)-i:g-i,{start:i,count:e}}var plugin_decimation=exports.Decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(d,e,a){if(a.enabled){var o=d.width;d.data.datasets.forEach(function(l,e){var c=l._data,i=l.indexAxis,e=d.getDatasetMeta(e),g=c||l.data;if("y"!==(0,_helpersSegment.a)([i,d.options.indexAxis])&&e.controller.supportsDecimation&&(i=d.scales[e.xAxisID],("linear"===i.type||"time"===i.type)&&!d.options.parsing)){var s=getStartAndCountOfVisiblePointsSimplified(e,g),u=s.start,n=s.count;if(n<=(a.threshold||4*o))cleanDecimatedDataset(l);else{(0,_helpersSegment.k)(c)&&(l._data=g,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}}));var r;switch(a.algorithm){case"lttb":r=lttbDecimation(g,u,n,o,a);break;case"min-max":r=minMaxDecimation(g,u,n,o);break;default:throw new Error("Unsupported decimation algorithm '".concat(a.algorithm,"'"))}l._decimated=r}}})}else cleanDecimatedData(d)},destroy:function(e){cleanDecimatedData(e)}};function _segments(p,t,e){var i,m=p.segments,a=p.points,s=t.points,n=[],r=_createForOfIteratorHelper(m);try{for(r.s();!(i=r.n()).done;){var y=i.value,f=y.start,x=y.end,x=_findSegmentEnd(f,x,a),_=_getBounds(e,a[f],a[x],y.loop);if(t.segments){var b,v=_createForOfIteratorHelper((0,_helpersSegment.an)(t,_));try{for(v.s();!(b=v.n()).done;){var k,S=b.value,w=_getBounds(e,s[S.start],s[S.end],S.loop),P=_createForOfIteratorHelper((0,_helpersSegment.ax)(y,a,w));try{for(P.s();!(k=P.n()).done;){var D=k.value;n.push({source:D,target:S,start:_defineProperty({},e,_getEdge(_,w,"start",Math.max)),end:_defineProperty({},e,_getEdge(_,w,"end",Math.min))})}}catch(e){P.e(e)}finally{P.f()}}}catch(e){v.e(e)}finally{v.f()}}else n.push({source:y,target:_,start:a[f],end:a[x]})}}catch(e){r.e(e)}finally{r.f()}return n}function _getBounds(o,i,a,n){if(!n){var t=i[o],l=a[o];return"angle"===o&&(t=(0,_helpersSegment.ay)(t),l=(0,_helpersSegment.ay)(l)),{property:o,start:t,end:l}}}function _pointsFromSegments(o,t){var e=o||{},l=e.x,r=void 0===l?null:l,i=e.y,d=void 0===i?null:i,a=t.points,s=[];return t.segments.forEach(function(i){var o=i.start,n=i.end;n=_findSegmentEnd(o,n,a),o=a[o],n=a[n],null===d?null!==r&&(s.push({x:r,y:o.y}),s.push({x:r,y:n.y})):(s.push({x:o.x,y:d}),s.push({x:n.x,y:d}))}),s}function _findSegmentEnd(o,t,n){for(;o<t;t--){var i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function _getEdge(o,t,e,i){return o&&t?i(o[e],t[e]):o?o[e]:t?t[e]:0}function _createBoundaryLine(o,t){var e=[],n=!1;return(e=(0,_helpersSegment.b)(o)?(n=!0,o):_pointsFromSegments(o,t)).length?new LineElement({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function _shouldApplyFill(e){return e&&!1!==e.fill}function _resolveTarget(o,t,e){var i,l=o[t].fill,r=[t];if(!e)return l;for(;!1!==l&&-1===r.indexOf(l);){if(!(0,_helpersSegment.g)(l))return l;if(!(i=o[l]))return!1;if(i.visible)return l;r.push(l),l=i.fill}return!1}function _decodeFill(o,n,e){var i=Math.floor;if(o=parseFillOption(o),(0,_helpersSegment.i)(o))return!isNaN(o.value)&&o;var l=parseFloat(o);return(0,_helpersSegment.g)(l)&&i(l)===l?decodeTargetIndex(o[0],n,l,e):0<=["origin","start","end","stack","shape"].indexOf(o)&&o}function decodeTargetIndex(o,t,e,n){return!((e="-"!==o&&"+"!==o?e:t+e)===t||0>e||n<=e)&&e}function _getTargetPixel(a,t){var e=null;return"start"===a?e=t.bottom:"end"===a?e=t.top:(0,_helpersSegment.i)(a)?e=t.getPixelForValue(a.value):t.getBasePixel&&(e=t.getBasePixel()),e}function _getTargetValue(o,t,e){var i;return i="start"===o?e:"end"===o?t.options.reverse?t.min:t.max:(0,_helpersSegment.i)(o)?o.value:t.getBaseValue()}function parseFillOption(a){var a=a.options,o=a.fill,e=(0,_helpersSegment.v)(o&&o.target,o);return!1!==(e=void 0===e?!!a.backgroundColor:e)&&null!==e&&(!0===e?"origin":e)}function _buildStackLine(l){var d=l,l=d.scale,c=d.index,e=d.line,i=[],a=e.segments,s=e.points,n=getLinesBelow(l,c);n.push(_createBoundaryLine({x:null,y:l.bottom},e));for(var r,g=0;g<a.length;g++){r=a[g];for(var u=r.start;u<=r.end;u++)addPointsBelow(i,s[u],n)}return new LineElement({points:i,options:{}})}function getLinesBelow(o,t){for(var e,n=[],i=o.getMatchingVisibleMetas("line"),a=0;a<i.length&&(e=i[a],e.index!==t);a++)e.hidden||n.unshift(e.dataset);return n}function addPointsBelow(l,e,i){for(var a=[],s=0;s<i.length;s++){var d=findPoint(i[s],e,"x"),c=d.first,g=d.last,u=d.point;if(!(!u||c&&g))if(c)a.unshift(u);else if(l.push(u),!g)break}l.push.apply(l,a)}function findPoint(d,t,c){if(t=d.interpolate(t,c),!t)return{};for(var i=t[c],a=d.segments,s=d.points,n=!1,g=!1,u=0;u<a.length;u++){var p=a[u],m=s[p.start][c],p=s[p.end][c];if((0,_helpersSegment.aj)(i,m,p)){n=i===m,g=i===p;break}}return{first:n,last:g,point:t}}var simpleArc=/*#__PURE__*/function(){function e(a){_classCallCheck(this,e),this.x=a.x,this.y=a.y,this.radius=a.radius}return _createClass(e,[{key:"pathSegment",value:function(o,t,l){var i=this.x,a=this.y,s=this.radius;return o.arc(i,a,s,(t=t||{start:0,end:_helpersSegment.T}).end,t.start,!0),!l.bounds}},{key:"interpolate",value:function(o){var n=this.x,e=this.y,i=this.radius,o=o.angle;return{x:n+Math.cos(o)*i,y:e+Math.sin(o)*i,angle:o}}}])}();function _getTarget(o){var t=o.chart,n=o.fill,i=o.line;return(0,_helpersSegment.g)(n)?getLineByIndex(t,n):"stack"===n?_buildStackLine(o):!("shape"!==n)||(t=computeBoundary(o),t instanceof simpleArc?t:_createBoundaryLine(t,i))}function getLineByIndex(a,t){var e=a.getDatasetMeta(t);return e&&a.isDatasetVisible(t)?e.dataset:null}function computeBoundary(e){return((e.scale||{}).getPointPositionForValue?computeCircularBoundary:computeLinearBoundary)(e)}function computeLinearBoundary(o){var n,l=o,s=l.scale,r=void 0===s?{}:s,e=l.fill,o=_getTargetPixel(e,r);return(0,_helpersSegment.g)(o)?{x:(n=r.isHorizontal())?o:null,y:n?null:o}:null}function computeCircularBoundary(o){var l=o,d=l.scale,e=l.fill,o=d.options,i=d.getLabels().length,a=o.reverse?d.max:d.min,s=_getTargetValue(e,d,a),n=[];if(o.grid.circular)return o=d.getPointPositionForValue(0,a),new simpleArc({x:o.x,y:o.y,radius:d.getDistanceFromCenterForValue(s)});for(var r=0;r<i;++r)n.push(d.getPointPositionForValue(r,s));return n}function _drawfill(l,t,d){var i=_getTarget(t),a=t,t=a.line,c=a.scale,s=a.axis,n=t.options,g=n.fill,n=n.backgroundColor,u=g||{},p=u.above,g=void 0===p?n:p,h=u.below,n=void 0===h?n:h;i&&t.points.length&&((0,_helpersSegment.Y)(l,d),doFill(l,{line:t,target:i,above:g,below:n,area:d,scale:c,axis:s}),(0,_helpersSegment.$)(l))}function doFill(l,t){var d=t,c=d.line,i=d.target,a=d.above,s=d.below,n=d.area,r=d.scale,t=c._loop?"angle":t.axis;l.save(),"x"===t&&s!==a&&(clipVertical(l,i,n.top),fill(l,{line:c,target:i,color:a,scale:r,property:t}),l.restore(),l.save(),clipVertical(l,i,n.bottom)),fill(l,{line:c,target:i,color:s,scale:r,property:t}),l.restore()}function clipVertical(c,t,e){var i=t.segments,a=t.points,s=!0,g=!1;c.beginPath();var u,p=_createForOfIteratorHelper(i);try{for(p.s();!(u=p.n()).done;){var m=u.value,y=m.start,f=m.end,x=a[y],y=a[_findSegmentEnd(y,f,a)];s?(c.moveTo(x.x,x.y),s=!1):(c.lineTo(x.x,e),c.lineTo(x.x,x.y)),(g=!!t.pathSegment(c,m,{move:g}))?c.closePath():c.lineTo(y.x,e)}}catch(e){p.e(e)}finally{p.f()}c.lineTo(t.first().x,e),c.closePath(),c.clip()}function fill(g,e){var t,p,m,y,f,x=e.line,i=e.target,a=e.property,s=e.color,n=e.scale,r=_createForOfIteratorHelper(_segments(x,i,a));try{for(r.s();!(f=r.n()).done;){var _=f.value;t=_.source,p=_.target,m=_.start,y=_.end;var b=t,v=b.style;v=void 0===v?{}:v;var k=v.backgroundColor,S=void 0===k?s:k,w=!0!==i,S=(g.save(),g.fillStyle=S,clipBounds(g,n,w&&_getBounds(a,m,y)),g.beginPath(),!!x.pathSegment(g,t)),P=void 0;w&&(S?g.closePath():interpolatedLineTo(g,i,y,a),w=!!i.pathSegment(g,p,{move:S,reverse:!0}),(P=S&&w)||interpolatedLineTo(g,i,m,a)),g.closePath(),g.fill(P?"evenodd":"nonzero"),g.restore()}}catch(e){r.e(e)}finally{r.f()}}function clipBounds(o,t,l){var r=t.chart.chartArea,t=r.top,d=r.bottom,a=l||{},l=a.property,c=a.start,s=a.end;"x"===l&&(o.beginPath(),o.rect(c,t,s-c,d-t),o.clip())}function interpolatedLineTo(o,t,n,i){t=t.interpolate(n,i),t&&o.lineTo(t.x,t.y)}var index=exports.Filler={id:"filler",afterDatasetsUpdate:function(d,t,e){var i,c,g,u,p=(d.data.datasets||[]).length,a=[];for(c=0;c<p;++c)g=(i=d.getDatasetMeta(c)).dataset,u=null,g&&g.options&&g instanceof LineElement&&(u={visible:d.isDatasetVisible(c),index:c,fill:_decodeFill(g,c,p),chart:d,axis:i.controller.options.indexAxis,scale:i.vScale,line:g}),i.$filler=u,a.push(u);for(c=0;c<p;++c)(u=a[c])&&!1!==u.fill&&(u.fill=_resolveTarget(a,c,e.propagate))},beforeDraw:function(o,e,t){for(var i,l="beforeDraw"===t.drawTime,a=o.getSortedVisibleDatasetMetas(),s=o.chartArea,n=a.length-1;0<=n;--n)i=a[n].$filler,i&&(i.line.updateControlPoints(s,i.axis),l&&i.fill&&_drawfill(o.ctx,i,s))},beforeDatasetsDraw:function(o,e,t){if("beforeDatasetsDraw"===t.drawTime)for(var i,n=o.getSortedVisibleDatasetMetas(),a=n.length-1;0<=a;--a)i=n[a].$filler,_shouldApplyFill(i)&&_drawfill(o.ctx,i,o.chartArea)},beforeDatasetDraw:function(a,t,o){t=t.meta.$filler,_shouldApplyFill(t)&&"beforeDatasetDraw"===o.drawTime&&_drawfill(a.ctx,t,a.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},getBoxSize=function(o,t){var e=Math.min,n=o.boxHeight,l=void 0===n?t:n,s=o.boxWidth,r=void 0===s?t:s;return o.usePointStyle&&(l=e(l,t),r=o.pointStyleWidth||e(r,t)),{boxWidth:r,boxHeight:l,itemHeight:Math.max(t,l)}},itemsEqual=function(a,t){return null!==a&&null!==t&&a.datasetIndex===t.datasetIndex&&a.index===t.index},Legend=/*#__PURE__*/function(e){var L=Math.max,E=Math.min;function T(e){var t;return _classCallCheck(this,T),t=_callSuper(this,T),t._added=!1,t.legendHitBoxes=[],t._hoveredItem=null,t.doughnutMode=!1,t.chart=e.chart,t.options=e.options,t.ctx=e.ctx,t.legendItems=void 0,t.columnSizes=void 0,t.lineWidths=void 0,t.maxHeight=void 0,t.maxWidth=void 0,t.top=void 0,t.bottom=void 0,t.left=void 0,t.right=void 0,t.height=void 0,t.width=void 0,t._margins=void 0,t.position=void 0,t.weight=void 0,t.fullSize=void 0,t}return _inherits(T,e),_createClass(T,[{key:"update",value:function(a,t,e){this.maxWidth=a,this.maxHeight=t,this._margins=e,this.setDimensions(),this.buildLabels(),this.fit()}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}},{key:"buildLabels",value:function(){var a=this,o=this.options.labels||{},e=(0,_helpersSegment.Q)(o.generateLabels,[this.chart],this)||[];o.filter&&(e=e.filter(function(e){return o.filter(e,a.chart.data)})),o.sort&&(e=e.sort(function(i,t){return o.sort(i,t,a.chart.data)})),this.options.reverse&&e.reverse(),this.legendItems=e}},{key:"fit",value:function(){var d=this.options,i=this.ctx;if(d.display){var a,c,g=d.labels,u=(0,_helpersSegment.a0)(g.font),n=u.size,r=this._computeTitleHeight(),o=getBoxSize(g,n),g=o.boxWidth,p=o.itemHeight;i.font=u.string,this.isHorizontal()?(a=this.maxWidth,c=this._fitRows(r,n,g,p)+10):(c=this.maxHeight,a=this._fitCols(r,u,g,p)+10),this.width=E(a,d.maxWidth||this.maxWidth),this.height=E(c,d.maxHeight||this.maxHeight)}else this.width=this.height=0}},{key:"_fitRows",value:function(e,p,i,a){var s=this.ctx,n=this.maxWidth,r=this.options.labels.padding,o=this.legendHitBoxes=[],l=this.lineWidths=[0],h=a+r,d=e,m=(s.textAlign="left",s.textBaseline="middle",-1),y=-h;return this.legendItems.forEach(function(c,g){c=i+p/2+s.measureText(c.text).width,(0===g||l[l.length-1]+c+2*r>n)&&(d+=h,l[l.length-(0<g?0:1)]=0,y+=h,m++),o[g]={left:0,top:y,row:m,width:c,height:a},l[l.length-1]+=c+r}),d}},{key:"_fitCols",value:function(i,d,a,s){var n=this.ctx,t=this.maxHeight,r=this.options.labels.padding,o=this.legendHitBoxes=[],l=this.columnSizes=[],h=r,m=0,y=0,x=0,_=0;return this.legendItems.forEach(function(c,g){var e=calculateItemSize(a,d,n,c,s),c=e.itemWidth,u=e.itemHeight;0<g&&y+u+2*r>g-c&&(h+=m+r,l.push({width:m,height:y}),x+=m+r,_++,m=y=0),o[g]={left:x,top:y,col:_,width:c,height:u},m=L(m,c),y+=u+r}),h+=m,l.push({width:m,height:y}),h}},{key:"adjustHitBoxes",value:function(){if(this.options.display){var d=this._computeTitleHeight(),i=this.legendHitBoxes,a=this.options,c=a.align,s=a.labels.padding,n=a.rtl,t=(0,_helpersSegment.az)(n,this.left,this.width);if(this.isHorizontal()){var r,g=0,u=(0,_helpersSegment.a2)(c,this.left+s,this.right-this.lineWidths[g]),p=_createForOfIteratorHelper(i);try{for(p.s();!(r=p.n()).done;){var h=r.value;g!==h.row&&(g=h.row,u=(0,_helpersSegment.a2)(c,this.left+s,this.right-this.lineWidths[g])),h.top+=this.top+d+s,h.left=t.leftForLtr(t.x(u),h.width),u+=h.width+s}}catch(e){p.e(e)}finally{p.f()}}else{var m,y=0,f=(0,_helpersSegment.a2)(c,this.top+d+s,this.bottom-this.columnSizes[y].height),x=_createForOfIteratorHelper(i);try{for(x.s();!(m=x.n()).done;){var _=m.value;_.col!==y&&(y=_.col,f=(0,_helpersSegment.a2)(c,this.top+d+s,this.bottom-this.columnSizes[y].height)),_.top=f,_.left+=this.left+s,_.left=t.leftForLtr(t.x(_.left),_.width),f+=_.height+s}}catch(e){x.e(e)}finally{x.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){var e;this.options.display&&(e=this.ctx,(0,_helpersSegment.Y)(e,this),this._draw(),(0,_helpersSegment.$)(e))}},{key:"_draw",value:function(){var E,T=this,R=this.options,u=this.columnSizes,g=this.lineWidths,p=this.ctx,f=R.align,m=R.labels,v=_helpersSegment.d.color,x=(0,_helpersSegment.az)(R.rtl,this.left,this.width),b=(0,_helpersSegment.a0)(m.font),_=m.padding,y=b.size,k=y/2;this.drawTitle(),p.textAlign=x.textAlign("left"),p.textBaseline="middle",p.lineWidth=.5,p.font=b.string;var e=getBoxSize(m,y),S=e.boxWidth,z=e.boxHeight,P=e.itemHeight,A=this.isHorizontal(),w=this._computeTitleHeight(),C=(E=A?{x:(0,_helpersSegment.a2)(f,this.left+_,this.right-g[0]),y:this.top+_+w,line:0}:{x:this.left+_,y:(0,_helpersSegment.a2)(f,this.top+w+_,this.bottom-u[0].height),line:0},(0,_helpersSegment.aA)(this.ctx,R.textDirection),P+_);this.legendItems.forEach(function(D,t){var O=Math.SQRT2;p.strokeStyle=D.fontColor,p.fillStyle=D.fontColor;var F=p.measureText(D.text).width,I=x.textAlign(D.textAlign||(D.textAlign=m.textAlign)),F=S+k+F,a=E.x,M=E.y;x.setWidth(T.width),A?0<t&&a+F+_>T.right&&(M=E.y+=C,E.line++,a=E.x=(0,_helpersSegment.a2)(f,T.left+_,T.right-g[E.line])):0<t&&M+C>T.bottom&&(a=E.x=a+u[E.line].width+_,E.line++,M=E.y=(0,_helpersSegment.a2)(f,T.top+w+_,T.bottom-u[E.line].height));var V,B,H,W,U,N,t=x.x(a);t=t,W=M,U=D,isNaN(S)||0>=S||isNaN(z)||0>z||(p.save(),V=(0,_helpersSegment.v)(U.lineWidth,1),p.fillStyle=(0,_helpersSegment.v)(U.fillStyle,v),p.lineCap=(0,_helpersSegment.v)(U.lineCap,"butt"),p.lineDashOffset=(0,_helpersSegment.v)(U.lineDashOffset,0),p.lineJoin=(0,_helpersSegment.v)(U.lineJoin,"miter"),p.lineWidth=V,p.strokeStyle=(0,_helpersSegment.v)(U.strokeStyle,v),p.setLineDash((0,_helpersSegment.v)(U.lineDash,[])),m.usePointStyle?(B={radius:z*O/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:V},H=x.xPlus(t,S/2),N=W+k,(0,_helpersSegment.aD)(p,B,H,N,m.pointStyleWidth&&S)):(B=W+L((y-z)/2,0),H=x.leftForLtr(t,S),N=(0,_helpersSegment.aw)(U.borderRadius),p.beginPath(),Object.values(N).some(function(e){return 0!==e})?(0,_helpersSegment.au)(p,{x:H,y:B,w:S,h:z,radius:N}):p.rect(H,B,S,z),p.fill(),0!==V&&p.stroke()),p.restore()),a=(0,_helpersSegment.aB)(I,a+S+k,A?a+F:T.right,R.rtl),W=x.x(a),t=M,U=D,(0,_helpersSegment.Z)(p,U.text,W,t+P/2,b,{strikethrough:U.hidden,textAlign:x.textAlign(U.textAlign)}),A?E.x+=F+_:"string"==typeof D.text?E.y+=C:(N=b.lineHeight,E.y+=calculateLegendItemHeight(D,N)+_)}),(0,_helpersSegment.aC)(this.ctx,R.textDirection)}},{key:"drawTitle",value:function(){var c=this.options,a=c.title,s=(0,_helpersSegment.a0)(a.font),n=(0,_helpersSegment.E)(a.padding);if(a.display){var g,u=(0,_helpersSegment.az)(c.rtl,this.left,this.width),p=this.ctx,d=a.position,o=s.size/2,n=n.top+o,h=this.left,m=this.width;this.isHorizontal()?(m=L.apply(Math,_toConsumableArray(this.lineWidths)),g=this.top+n,h=(0,_helpersSegment.a2)(c.align,h,this.right-m)):(o=this.columnSizes.reduce(function(a,t){return L(a,t.height)},0),g=n+(0,_helpersSegment.a2)(c.align,this.top,this.bottom-o-c.labels.padding-this._computeTitleHeight())),n=(0,_helpersSegment.a2)(d,h,h+m),p.textAlign=u.textAlign((0,_helpersSegment.a1)(d)),p.textBaseline="middle",p.strokeStyle=a.color,p.fillStyle=a.color,p.font=s.string,(0,_helpersSegment.Z)(p,a.text,n,g,s)}}},{key:"_computeTitleHeight",value:function(){var a=this.options.title,t=(0,_helpersSegment.a0)(a.font),e=(0,_helpersSegment.E)(a.padding);return a.display?t.lineHeight+e.height:0}},{key:"_getLegendItemAt",value:function(o,t){var e,n,l;if((0,_helpersSegment.aj)(o,this.left,this.right)&&(0,_helpersSegment.aj)(t,this.top,this.bottom))for(l=this.legendHitBoxes,e=0;e<l.length;++e)if(n=l[e],(0,_helpersSegment.aj)(o,n.left,n.left+n.width)&&(0,_helpersSegment.aj)(t,n.top,n.top+n.height))return this.legendItems[e];return null}},{key:"handleEvent",value:function(o){var t,n,l,r=this.options;isListened(o.type,r)&&(t=this._getLegendItemAt(o.x,o.y),"mousemove"===o.type||"mouseout"===o.type?(n=this._hoveredItem,l=itemsEqual(n,t),n&&!l&&(0,_helpersSegment.Q)(r.onLeave,[o,n,this],this),(this._hoveredItem=t)&&!l&&(0,_helpersSegment.Q)(r.onHover,[o,t,this],this)):t&&(0,_helpersSegment.Q)(r.onClick,[o,t,this],this))}}])}(Element);function calculateItemSize(o,t,e,i,a){return{itemWidth:calculateItemWidth(i,o,t,e),itemHeight:calculateItemHeight(a,i,t.lineHeight)}}function calculateItemWidth(o,t,e,i){var a=o.text;return a&&"string"!=typeof a&&(a=a.reduce(function(a,t){return a.length>t.length?a:t})),t+e.size/2+i.measureText(a).width}function calculateItemHeight(o,t,e){var i=o;return i="string"==typeof t.text?i:calculateLegendItemHeight(t,e)}function calculateLegendItemHeight(a,t){return t*(a.text?a.text.length:0)}function isListened(a,t){return("mousemove"===a||"mouseout"===a)&&(t.onHover||t.onLeave)||t.onClick&&("click"===a||"mouseup"===a)}var plugin_legend=exports.Legend={id:"legend",_element:Legend,start:function(o,t,e){var i=o.legend=new Legend({ctx:o.ctx,options:e,chart:o});layouts.configure(o,i,e),layouts.addBox(o,i)},stop:function(e){layouts.removeBox(e,e.legend),delete e.legend},beforeUpdate:function(o,t,e){var i=o.legend;layouts.configure(o,i,e),i.options=e},afterUpdate:function(a){var t=a.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent:function(a,t){t.replay||a.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(o,t,e){var i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(e){return e.chart.options.color},boxWidth:40,padding:10,generateLabels:function(e){var d=e.data.datasets,t=e.legend.options.labels,a=t.usePointStyle,s=t.pointStyle,n=t.textAlign,r=t.color,o=t.useBorderRadius,l=t.borderRadius;return e._getSortedDatasetMetas().map(function(c){var t=c.controller.getStyle(a?0:void 0),e=(0,_helpersSegment.E)(t.borderWidth);return{text:d[c.index].label,fillStyle:t.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:(e.width+e.height)/4,strokeStyle:t.borderColor,pointStyle:s||t.pointStyle,rotation:t.rotation,textAlign:n||t.textAlign,borderRadius:o&&(l||t.borderRadius),datasetIndex:c.index}},this)}},title:{color:function(e){return e.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(e){return!e.startsWith("on")},labels:{_scriptable:function(e){return!["generateLabels","filter","sort"].includes(e)}}}},Title=/*#__PURE__*/function(e){function a(e){var t;return _classCallCheck(this,a),t=_callSuper(this,a),t.chart=e.chart,t.options=e.options,t.ctx=e.ctx,t._padding=void 0,t.top=void 0,t.bottom=void 0,t.left=void 0,t.right=void 0,t.width=void 0,t.height=void 0,t.position=void 0,t.weight=void 0,t.fullSize=void 0,t}return _inherits(a,e),_createClass(a,[{key:"update",value:function(a,o){var n=this.options;this.left=0,this.top=0,n.display?(this.width=this.right=a,this.height=this.bottom=o,a=(0,_helpersSegment.b)(n.text)?n.text.length:1,this._padding=(0,_helpersSegment.E)(n.padding),o=a*(0,_helpersSegment.a0)(n.font).lineHeight+this._padding.height,this.isHorizontal()?this.height=o:this.width=o):this.width=this.height=this.right=this.bottom=0}},{key:"isHorizontal",value:function(){var e=this.options.position;return"top"===e||"bottom"===e}},{key:"_drawArgs",value:function(c){var t,g,u,p=this.top,e=this.left,i=this.bottom,a=this.right,s=this.options,n=s.align,r=0;return t=this.isHorizontal()?(g=(0,_helpersSegment.a2)(n,e,a),u=p+c,a-e):(r="left"===s.position?(g=e+c,u=(0,_helpersSegment.a2)(n,i,p),-.5*_helpersSegment.P):(g=a-c,u=(0,_helpersSegment.a2)(n,p,i),.5*_helpersSegment.P),i-p),{titleX:g,titleY:u,maxWidth:t,rotation:r}}},{key:"draw",value:function(){var o,l,d,c,g,u,p=this.ctx,n=this.options;n.display&&(d=(l=(0,_helpersSegment.a0)(n.font)).lineHeight/2+this._padding.top,o=this._drawArgs(d),d=o.titleX,c=o.titleY,g=o.maxWidth,u=o.rotation,(0,_helpersSegment.Z)(p,n.text,0,0,l,{color:n.color,maxWidth:g,rotation:u,textAlign:(0,_helpersSegment.a1)(n.align),textBaseline:"middle",translation:[d,c]}))}}])}(Element);function createTitle(a,t){var e=new Title({ctx:a.ctx,options:t,chart:a});layouts.configure(a,e,t),layouts.addBox(a,e),a.titleBlock=e}var plugin_title=exports.Title={id:"title",_element:Title,start:function(a,t,e){createTitle(a,e)},stop:function(a){var t=a.titleBlock;layouts.removeBox(a,t),delete a.titleBlock},beforeUpdate:function(o,t,e){var i=o.titleBlock;layouts.configure(o,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},map=new WeakMap,plugin_subtitle=exports.SubTitle={id:"subtitle",start:function(o,t,e){var i=new Title({ctx:o.ctx,options:e,chart:o});layouts.configure(o,i,e),layouts.addBox(o,i),map.set(o,i)},stop:function(e){layouts.removeBox(e,map.get(e)),map["delete"](e)},beforeUpdate:function(o,t,e){var i=map.get(o);layouts.configure(o,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},positioners={average:function(l){if(!l.length)return!1;var t,d,c=0,g=0,u=0;for(t=0,d=l.length;t<d;++t){var p,h=l[t].element;h&&h.hasValue()&&(p=h.tooltipPosition(),c+=p.x,g+=p.y,++u)}return{x:c/u,y:g/u}},nearest:function(c,t){if(!c.length)return!1;var e,g,u,p=t.x,m=t.y,y=Number.POSITIVE_INFINITY;for(e=0,g=c.length;e<g;++e){var f,x=c[e].element;x&&x.hasValue()&&(f=x.getCenterPoint(),(f=(0,_helpersSegment.aE)(t,f))<y&&(y=f,u=x))}var _;return u&&(_=u.tooltipPosition(),p=_.x,m=_.y),{x:p,y:m}}};function pushOrConcat(a,t){return t&&((0,_helpersSegment.b)(t)?Array.prototype.push.apply(a,t):a.push(t)),a}function splitNewlines(e){return("string"==typeof e||e instanceof String)&&-1<e.indexOf("\n")?e.split("\n"):e}function createTooltipItem(o,t){var l=t,t=l.element,d=l.datasetIndex,i=l.index,a=o.getDatasetMeta(d).controller,s=a.getLabelAndValue(i),c=s.label,n=s.value;return{chart:o,label:c,parsed:a.getParsed(i),raw:o.data.datasets[d].data[i],formattedValue:n,dataset:a.getDataset(),dataIndex:i,datasetIndex:d,element:t}}function getTooltipSize(y,t){var e=Math.max;function _(a){S=e(S,b.measureText(a).width+P)}var b=y.chart.ctx,i=y.body,a=y.footer,s=y.title,n=t.boxWidth,r=t.boxHeight,o=(0,_helpersSegment.a0)(t.bodyFont),l=(0,_helpersSegment.a0)(t.titleFont),h=(0,_helpersSegment.a0)(t.footerFont),d=s.length,k=a.length,u=i.length,g=(0,_helpersSegment.E)(t.padding),p=g.height,S=0,w=i.reduce(function(a,t){return a+t.before.length+t.lines.length+t.after.length},0);w+=y.beforeBody.length+y.afterBody.length,d&&(p+=d*l.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),w&&(d=t.displayColors?e(r,o.lineHeight):o.lineHeight,p+=u*d+(w-u)*o.lineHeight+(w-1)*t.bodySpacing),k&&(p+=t.footerMarginTop+k*h.lineHeight+(k-1)*t.footerSpacing);var P=0;return b.save(),b.font=l.string,(0,_helpersSegment.F)(y.title,_),b.font=o.string,(0,_helpersSegment.F)(y.beforeBody.concat(y.afterBody),_),P=t.displayColors?n+2+t.boxPadding:0,(0,_helpersSegment.F)(i,function(e){(0,_helpersSegment.F)(e.before,_),(0,_helpersSegment.F)(e.lines,_),(0,_helpersSegment.F)(e.after,_)}),P=0,b.font=h.string,(0,_helpersSegment.F)(y.footer,_),b.restore(),{width:S+=g.width,height:p}}function determineYAlign(a,t){var o=t,t=o.y,n=o.height;return t<n/2?"top":t>a.height-n/2?"bottom":"center"}function doesNotFitWithAlign(o,t,e,n){var l=n,n=l.x,r=l.width,e=e.caretSize+e.caretPadding;return"left"===o&&n+r+e>t.width||"right"===o&&0>n-r-e||void 0}function determineXAlign(d,t,e,i){var a=e.x,s=e.width,n=d.width,r=d.chartArea,c=r.left,o=r.right,l="center";return"center"===i?l=a<=(c+o)/2?"left":"right":a<=s/2?l="left":n-s/2<=a&&(l="right"),l=doesNotFitWithAlign(l,d,t,e)?"center":l}function determineAlignment(o,t,e){var i=e.yAlign||t.yAlign||determineYAlign(o,e);return{xAlign:e.xAlign||t.xAlign||determineXAlign(o,t,e,i),yAlign:i}}function alignX(o,t){var e=o.x,n=o.width;return"right"===t?e-=n:"center"==t&&(e-=n/2),e}function alignY(o,t,e){var i=o.y,n=o.height;return"top"===t?i+=e:i-="bottom"===t?n+e:n/2,i}function getBackgroundPoint(g,u,e,p){var a=Math.max,m=g,g=m.caretSize,y=m.caretPadding,f=m.cornerRadius,x=e,e=x.xAlign,_=x.yAlign,y=g+y,r=(0,_helpersSegment.aw)(f),f=r.topLeft,b=r.topRight,o=r.bottomLeft,l=r.bottomRight,h=alignX(u,e),v=alignY(u,_,y);return"center"===_?"left"===e?h+=y:"right"===e&&(h-=y):"left"===e?h-=a(f,o)+g:"right"===e&&(h+=a(b,l)+g),{x:(0,_helpersSegment.S)(h,0,p.width-u.width),y:(0,_helpersSegment.S)(v,0,p.height-u.height)}}function getAlignedX(a,t,e){return e=(0,_helpersSegment.E)(e.padding),"center"===t?a.x+a.width/2:"right"===t?a.x+a.width-e.right:a.x+e.left}function getBeforeAfterBodyLines(e){return pushOrConcat([],splitNewlines(e))}function createTooltipContext(a,t,e){return(0,_helpersSegment.j)(a,{tooltip:t,tooltipItems:e,type:"tooltip"})}function overrideCallbacks(a,t){return t=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks,t?a.override(t):a}var defaultCallbacks={beforeTitle:_helpersSegment.aF,title:function(a){if(0<a.length){var a=a[0],o=a.chart.data.labels,e=o?o.length:0;if(this&&this.options&&"dataset"===this.options.mode)return a.dataset.label||"";if(a.label)return a.label;if(0<e&&a.dataIndex<e)return o[a.dataIndex]}return""},afterTitle:_helpersSegment.aF,beforeBody:_helpersSegment.aF,beforeLabel:_helpersSegment.aF,label:function(a){if(this&&this.options&&"dataset"===this.options.mode)return a.label+": "+a.formattedValue||a.formattedValue;var i=a.dataset.label||"";return i&&(i+=": "),a=a.formattedValue,((0,_helpersSegment.k)(a)||(i+=a),i)},labelColor:function(a){var i=a.chart.getDatasetMeta(a.datasetIndex);return a=i.controller.getStyle(a.dataIndex),{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(a){var i=a.chart.getDatasetMeta(a.datasetIndex);return a=i.controller.getStyle(a.dataIndex),{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:_helpersSegment.aF,afterBody:_helpersSegment.aF,beforeFooter:_helpersSegment.aF,footer:_helpersSegment.aF,afterFooter:_helpersSegment.aF};function invokeCallbackWithFallback(o,n,e,i){return o=o[n].call(e,i),void 0===o?defaultCallbacks[n].call(e,i):o}var Tooltip=/*#__PURE__*/function(e){var o=Math.abs,y=Math.max,f=Math.min;function x(e){var t;return _classCallCheck(this,x),t=_callSuper(this,x),t.opacity=0,t._active=[],t._eventPosition=void 0,t._size=void 0,t._cachedAnimations=void 0,t._tooltipItems=[],t.$animations=void 0,t.$context=void 0,t.chart=e.chart,t.options=e.options,t.dataPoints=void 0,t.title=void 0,t.beforeBody=void 0,t.body=void 0,t.afterBody=void 0,t.footer=void 0,t.xAlign=void 0,t.yAlign=void 0,t.x=void 0,t.y=void 0,t.height=void 0,t.width=void 0,t.caretX=void 0,t.caretY=void 0,t.labelColors=void 0,t.labelPointStyles=void 0,t.labelTextColors=void 0,t}return _inherits(x,e),_createClass(x,[{key:"initialize",value:function(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var a=this._cachedAnimations;if(a)return a;var a=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&a.options.animation&&i.animations,i=new Animations(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}},{key:"getContext",value:function(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}},{key:"getTitle",value:function(o,n){var n=n.callbacks,l=invokeCallbackWithFallback(n,"beforeTitle",this,o),i=invokeCallbackWithFallback(n,"title",this,o),n=invokeCallbackWithFallback(n,"afterTitle",this,o),o=pushOrConcat([],splitNewlines(l));return o=pushOrConcat(o,splitNewlines(i)),pushOrConcat(o,splitNewlines(n))}},{key:"getBeforeBody",value:function(a,t){return getBeforeAfterBodyLines(invokeCallbackWithFallback(t.callbacks,"beforeBody",this,a))}},{key:"getBody",value:function(i,t){var o=this,n=t.callbacks,a=[];return(0,_helpersSegment.F)(i,function(l){var t={before:[],lines:[],after:[]},e=overrideCallbacks(n,l);pushOrConcat(t.before,splitNewlines(invokeCallbackWithFallback(e,"beforeLabel",o,l))),pushOrConcat(t.lines,invokeCallbackWithFallback(e,"label",o,l)),pushOrConcat(t.after,splitNewlines(invokeCallbackWithFallback(e,"afterLabel",o,l))),a.push(t)}),a}},{key:"getAfterBody",value:function(a,t){return getBeforeAfterBodyLines(invokeCallbackWithFallback(t.callbacks,"afterBody",this,a))}},{key:"getFooter",value:function(o,n){var n=n.callbacks,l=invokeCallbackWithFallback(n,"beforeFooter",this,o),i=invokeCallbackWithFallback(n,"footer",this,o),n=invokeCallbackWithFallback(n,"afterFooter",this,o),o=pushOrConcat([],splitNewlines(l));return o=pushOrConcat(o,splitNewlines(i)),pushOrConcat(o,splitNewlines(n))}},{key:"_createItems",value:function(d){var a,c,g=this,u=this._active,p=this.chart.data,s=[],i=[],n=[],t=[];for(a=0,c=u.length;a<c;++a)t.push(createTooltipItem(this.chart,u[a]));return d.filter&&(t=t.filter(function(a,t,e){return d.filter(a,t,e,p)})),d.itemSort&&(t=t.sort(function(a,t){return d.itemSort(a,t,p)})),(0,_helpersSegment.F)(t,function(a){var t=overrideCallbacks(d.callbacks,a);s.push(invokeCallbackWithFallback(t,"labelColor",g,a)),i.push(invokeCallbackWithFallback(t,"labelPointStyle",g,a)),n.push(invokeCallbackWithFallback(t,"labelTextColor",g,a))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=n,this.dataPoints=t}},{key:"update",value:function(d,t){var e,c,g,u,p=this.options.setContext(this.getContext()),i=this._active,h=[];i.length?(i=positioners[p.position].call(this,i,this._eventPosition),h=this._createItems(p),this.title=this.getTitle(h,p),this.beforeBody=this.getBeforeBody(h,p),this.body=this.getBody(h,p),this.afterBody=this.getAfterBody(h,p),this.footer=this.getFooter(h,p),e=this._size=getTooltipSize(this,p),g=Object.assign({},i,e),c=determineAlignment(this.chart,p,g),g=getBackgroundPoint(p,g,c,this.chart),this.xAlign=c.xAlign,this.yAlign=c.yAlign,u={opacity:1,x:g.x,y:g.y,width:e.width,height:e.height,caretX:i.x,caretY:i.y}):0!==this.opacity&&(u={opacity:0}),this._tooltipItems=h,this.$context=void 0,u&&this._resolveAnimations().update(this,u),d&&p.external&&p.external.call(this,{chart:this.chart,tooltip:this,replay:t})}},{key:"drawCaret",value:function(o,n,e,i){o=this.getCaretPosition(o,e,i),n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}},{key:"getCaretPosition",value:function(x,_,b){var v,k,S,w,P,D,C=this.xAlign,a=this.yAlign,s=b,b=s.caretSize,A=s.cornerRadius,L=(0,_helpersSegment.aw)(A),A=L.topLeft,E=L.topRight,r=L.bottomLeft,o=L.bottomRight,l=x,x=l.x,T=l.y,h=_,_=h.width,R=h.height;return"center"===a?(P=T+R/2,D="left"===C?(v=x,k=v-b,w=P+b,P-b):(v=x+_,k=v+b,w=P-b,P+b),S=v):(k="left"===C?x+y(A,r)+b:"right"===C?x+_-y(E,o)-b:this.caretX,S="top"===a?(w=T,P=w-b,v=k-b,k+b):(w=T+R,P=w+b,v=k+b,k-b),D=w),{x1:v,x2:k,x3:S,y1:w,y2:P,y3:D}}},{key:"drawTitle",value:function(d,t,e){var i,c,g,u=this.title,a=u.length;if(a){var s=(0,_helpersSegment.az)(e.rtl,this.x,this.width);for(d.x=getAlignedX(this,e.titleAlign,e),t.textAlign=s.textAlign(e.titleAlign),t.textBaseline="middle",i=(0,_helpersSegment.a0)(e.titleFont),c=e.titleSpacing,t.fillStyle=e.titleColor,t.font=i.string,g=0;g<a;++g)t.fillText(u[g],s.x(d.x),d.y+i.lineHeight/2),d.y+=i.lineHeight+c,g+1===a&&(d.y+=e.titleMarginBottom-c)}}},{key:"_drawColorBox",value:function(g,t,u,i,a){var s,p=this.labelColors[u],r=this.labelPointStyles[u],m=a.boxHeight,l=a.boxWidth,h=(0,_helpersSegment.a0)(a.bodyFont),x=getAlignedX(this,"left",a),x=i.x(x),h=m<h.lineHeight?(h.lineHeight-m)/2:0,t=t.y+h;a.usePointStyle?(h={radius:f(l,m)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},r=i.leftForLtr(x,l)+l/2,s=t+m/2,g.strokeStyle=a.multiKeyBackground,g.fillStyle=a.multiKeyBackground,(0,_helpersSegment.at)(g,h,r,s),g.strokeStyle=p.borderColor,g.fillStyle=p.backgroundColor,(0,_helpersSegment.at)(g,h,r,s)):(g.lineWidth=(0,_helpersSegment.i)(p.borderWidth)?y.apply(Math,_toConsumableArray(Object.values(p.borderWidth))):p.borderWidth||1,g.strokeStyle=p.borderColor,g.setLineDash(p.borderDash||[]),g.lineDashOffset=p.borderDashOffset||0,h=i.leftForLtr(x,l),r=i.leftForLtr(i.xPlus(x,1),l-2),s=(0,_helpersSegment.aw)(p.borderRadius),Object.values(s).some(function(e){return 0!==e})?(g.beginPath(),g.fillStyle=a.multiKeyBackground,(0,_helpersSegment.au)(g,{x:h,y:t,w:l,h:m,radius:s}),g.fill(),g.stroke(),g.fillStyle=p.backgroundColor,g.beginPath(),(0,_helpersSegment.au)(g,{x:r,y:t+1,w:l-2,h:m-2,radius:s}),g.fill()):(g.fillStyle=a.multiKeyBackground,g.fillRect(h,t,l,m),g.strokeRect(h,t,l,m),g.fillStyle=p.backgroundColor,g.fillRect(r,t+1,l-2,m-2))),g.fillStyle=this.labelTextColors[u]}},{key:"drawBody",value:function(S,e,i){function t(i){e.fillText(i,R.x(S.x+T),S.y+d/2),S.y+=d+a}var p,w,P,D,C,A,L,E=this.body,a=i.bodySpacing,s=i.bodyAlign,n=i.displayColors,r=i.boxHeight,o=i.boxWidth,l=i.boxPadding,h=(0,_helpersSegment.a0)(i.bodyFont),d=h.lineHeight,T=0,R=(0,_helpersSegment.az)(i.rtl,this.x,this.width),g=R.textAlign(s);for(e.textAlign=s,e.textBaseline="middle",e.font=h.string,S.x=getAlignedX(this,g,i),e.fillStyle=i.bodyColor,(0,_helpersSegment.F)(this.beforeBody,t),T=n&&"right"!==g?"center"===s?o/2+l:o+2+l:0,D=0,A=E.length;D<A;++D){for(p=E[D],w=this.labelTextColors[D],e.fillStyle=w,(0,_helpersSegment.F)(p.before,t),P=p.lines,n&&P.length&&(this._drawColorBox(e,S,D,R,i),d=y(h.lineHeight,r)),C=0,L=P.length;C<L;++C)t(P[C]),d=h.lineHeight;(0,_helpersSegment.F)(p.after,t)}T=0,d=h.lineHeight,(0,_helpersSegment.F)(this.afterBody,t),S.y-=a}},{key:"drawFooter",value:function(l,t,e){var i,d,c=this.footer,a=c.length;if(a){var s=(0,_helpersSegment.az)(e.rtl,this.x,this.width);for(l.x=getAlignedX(this,e.footerAlign,e),l.y+=e.footerMarginTop,t.textAlign=s.textAlign(e.footerAlign),t.textBaseline="middle",i=(0,_helpersSegment.a0)(e.footerFont),t.fillStyle=e.footerColor,t.font=i.string,d=0;d<a;++d)t.fillText(c[d],s.x(l.x),l.y+i.lineHeight/2),l.y+=i.lineHeight+e.footerSpacing}}},{key:"drawBackground",value:function(p,t,e,i){var a=this.xAlign,s=this.yAlign,n=p.x,r=p.y,o=e.width,l=e.height,h=(0,_helpersSegment.aw)(i.cornerRadius),m=h.topLeft,d=h.topRight,c=h.bottomLeft,u=h.bottomRight;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(n+m,r),"top"===s&&this.drawCaret(p,t,e,i),t.lineTo(n+o-d,r),t.quadraticCurveTo(n+o,r,n+o,r+d),"center"===s&&"right"===a&&this.drawCaret(p,t,e,i),t.lineTo(n+o,r+l-u),t.quadraticCurveTo(n+o,r+l,n+o-u,r+l),"bottom"===s&&this.drawCaret(p,t,e,i),t.lineTo(n+c,r+l),t.quadraticCurveTo(n,r+l,n,r+l-c),"center"===s&&"left"===a&&this.drawCaret(p,t,e,i),t.lineTo(n,r+m),t.quadraticCurveTo(n,r,n+m,r),t.closePath(),t.fill(),0<i.borderWidth&&t.stroke()}},{key:"_updateAnimationTarget",value:function(o){var l,d,c,g=this.chart,s=this.$animations,u=s&&s.x,s=s&&s.y;(u||s)&&(l=positioners[o.position].call(this,this._active,this._eventPosition))&&(d=this._size=getTooltipSize(this,o),c=getBackgroundPoint(o,c=Object.assign({},l,this._size),o=determineAlignment(g,o,c),g),u._to===c.x&&s._to===c.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,c)))}},{key:"_willRender",value:function(){return!!this.opacity}},{key:"draw",value:function(l){var t=this.options.setContext(this.getContext()),e=this.opacity;if(e){this._updateAnimationTarget(t);var d={width:this.width,height:this.height},a={x:this.x,y:this.y};e=.001>o(e)?0:e;var r=(0,_helpersSegment.E)(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(l.save(),l.globalAlpha=e,this.drawBackground(a,l,d,t),(0,_helpersSegment.aA)(l,t.textDirection),a.y+=r.top,this.drawTitle(a,l,t),this.drawBody(a,l,t),this.drawFooter(a,l,t),(0,_helpersSegment.aC)(l,t.textDirection),l.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(o,n){var l=this,s=this._active,o=o.map(function(a){var o=a.datasetIndex,t=a.index,e=l.chart.getDatasetMeta(o);if(e)return{datasetIndex:o,element:e.data[t],index:t};throw new Error("Cannot find a dataset at index "+o)}),s=!(0,_helpersSegment.ah)(s,o),e=this._positionChanged(o,n);(s||e)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}},{key:"handleEvent",value:function(o,t){var e=this,a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return function(l){if(t&&e._ignoreReplayEvents)return!1;e._ignoreReplayEvents=!1;var r=e.options,a=e._active||[],l=e._getActiveElements(o,a,t,l),d=e._positionChanged(l,o),a=t||!(0,_helpersSegment.ah)(l,a)||d;return a&&(e._active=l,(r.enabled||r.external)&&(e._eventPosition={x:o.x,y:o.y},e.update(!0,t))),a}(a)}},{key:"_getActiveElements",value:function(o,t,e,i){var a=this,l=this.options;if("mouseout"===o.type)return[];if(!i)return t.filter(function(e){return a.chart.data.datasets[e.datasetIndex]&&void 0!==a.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)});var s=this.chart.getElementsAtEventForMode(o,l.mode,l,e);return l.reverse&&s.reverse(),s}},{key:"_positionChanged",value:function(o,t){var e=this.caretX,i=this.caretY,a=this.options,a=positioners[a.position].call(this,o,t);return!1!==a&&(e!==a.x||i!==a.y)}}])}(Element);_defineProperty(Tooltip,"positioners",positioners);var plugin_tooltip=exports.Tooltip={id:"tooltip",_element:Tooltip,positioners:positioners,afterInit:function(a,t,e){e&&(a.tooltip=new Tooltip({chart:a,options:e}))},beforeUpdate:function(a,t,e){a.tooltip&&a.tooltip.initialize(e)},reset:function(a,t,e){a.tooltip&&a.tooltip.initialize(e)},afterDraw:function(a){var t,o=a.tooltip;o&&o._willRender()&&!(t={tooltip:o})!==a.notifyPlugins("beforeTooltipDraw",_objectSpread(_objectSpread({},t),{},{cancelable:!0}))&&(o.draw(a.ctx),a.notifyPlugins("afterTooltipDraw",t))},afterEvent:function(a,t){var e;a.tooltip&&(e=t.replay,a.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0))},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(a,t){return t.bodyFont.size},boxWidth:function(a,t){return t.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(e){return"filter"!==e&&"itemSort"!==e&&"external"!==e},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=exports.plugins=Object.freeze({__proto__:null,Colors:plugin_colors,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip}),addIfString=function(o,t,e,n){return"string"==typeof t?(e=o.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e};function findOrAddLabel(o,t,e,i){var a=o.indexOf(t);return-1===a?addIfString(o,t,e,i):a===o.lastIndexOf(t)?a:e}var validIndex=function(a,t){return null===a?null:(0,_helpersSegment.S)(Math.round(a),0,t)};function _getLabelForValue(a){var t=this.getLabels();return 0<=a&&a<t.length?t[a]:a}var CategoryScale=exports.CategoryScale=/*#__PURE__*/function(e){var a=Math.round,o=Math.max;function n(e){var t;return _classCallCheck(this,n),t=_callSuper(this,n,[e]),t._startValue=void 0,t._valueRange=0,t._addedLabels=[],t}return _inherits(n,e),_createClass(n,[{key:"init",value:function(o){var t=this._addedLabels;if(t.length){var e,l=this.getLabels(),s=_createForOfIteratorHelper(t);try{for(s.s();!(e=s.n()).done;){var r=e.value,d=r.index,c=r.label;l[d]===c&&l.splice(d,1)}}catch(e){s.e(e)}finally{s.f()}this._addedLabels=[]}_superPropGet(n,"init",this,3)([o])}},{key:"parse",value:function(a,t){if((0,_helpersSegment.k)(a))return null;var o=this.getLabels();return t=isFinite(t)&&o[t]===a?t:findOrAddLabel(o,a,(0,_helpersSegment.v)(t,a),this._addedLabels),validIndex(t,o.length-1)}},{key:"determineDataLimits",value:function(){var o=this.getUserBounds(),n=o.minDefined,t=o.maxDefined,e=this.getMinMax(!0),l=e.min,s=e.max;"ticks"===this.options.bounds&&(n||(l=0),t||(s=this.getLabels().length-1)),this.min=l,this.max=s}},{key:"buildTicks",value:function(){var n=this.min,e=this.max,i=this.options.offset,t=[],a=this.getLabels();a=0===n&&e===a.length-1?a:a.slice(n,e+1),this._valueRange=o(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(var l=n;l<=e;l++)t.push({value:l});return t}},{key:"getLabelForValue",value:function(e){return _getLabelForValue.call(this,e)}},{key:"configure",value:function(){_superPropGet(n,"configure",this,3)([]),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(e){return null===(e="number"==typeof e?e:this.parse(e))?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(a){var t=this.ticks;return 0>a||a>t.length-1?null:this.getPixelForValue(t[a].value)}},{key:"getValueForPixel",value:function(e){return a(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}])}(Scale);_defineProperty(CategoryScale,"id","category"),_defineProperty(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(w,t){var E,T,R,O,P=Math.ceil,C=Math.round,A=Math.pow,L=Math.floor,z=[],i=w.bounds,a=w.step,s=w.min,n=w.max,r=w.precision,o=w.count,l=w.maxTicks,h=w.maxDigits,F=w.includeBounds,c=a||1,u=l-1,I=t,t=I.min,M=I.max,p=!(0,_helpersSegment.k)(s),f=!(0,_helpersSegment.k)(n),m=!(0,_helpersSegment.k)(o),h=(M-t)/(h+1),v=(0,_helpersSegment.aH)((M-t)/u/c)*c;if(1e-14>v&&!p&&!f)return[{value:t},{value:M}];(O=P(M/v)-L(t/v))>u&&(v=(0,_helpersSegment.aH)(O*v/u/c)*c),(0,_helpersSegment.k)(r)||(E=A(10,r),v=P(v*E)/E),R="ticks"===i?(T=L(t/v)*v,P(M/v)*v):(T=t,M),p&&f&&a&&(0,_helpersSegment.aI)((n-s)/a,v/1e3)?(O=C(Math.min((n-s)/v,l)),v=(n-s)/O,T=s,R=n):m?(T=p?s:T,R=f?n:R,O=o-1,v=(R-T)/O):(O=(R-T)/v,O=(0,_helpersSegment.aJ)(O,C(O),v/1e3)?C(O):P(O)),u=Math.max((0,_helpersSegment.aK)(v),(0,_helpersSegment.aK)(T)),E=A(10,(0,_helpersSegment.k)(r)?u:r),T=C(T*E)/E,R=C(R*E)/E;var V=0;for(p&&(F&&T!==s?(z.push({value:s}),T<s&&V++,(0,_helpersSegment.aJ)(C((T+V*v)*E)/E,s,relativeLabelSize(s,h,w))&&V++):T<s&&V++);V<O;++V){var B=C((T+V*v)*E)/E;if(f&&n<B)break;z.push({value:B})}return f&&F&&R!==n?z.length&&(0,_helpersSegment.aJ)(z[z.length-1].value,n,relativeLabelSize(n,h,w))?z[z.length-1].value=n:z.push({value:n}):f&&R!==n||z.push({value:R}),z}function relativeLabelSize(o,t,e){var n=Math.sin,l=Math.cos,s=Math.min,r=e.horizontal,d=e.minRotation;return d=(0,_helpersSegment.t)(d),r=(r?n(d):l(d))||.001,s(t/r,.75*t*(""+o).length)}var LinearScaleBase=/*#__PURE__*/function(e){var a=Math.ceil,d=Math.abs,c=Number.POSITIVE_INFINITY,g=Math.floor,u=Math.max,p=Math.min;function h(e){var t;return _classCallCheck(this,h),t=_callSuper(this,h,[e]),t.start=void 0,t.end=void 0,t._startValue=void 0,t._endValue=void 0,t._valueRange=0,t}return _inherits(h,e),_createClass(h,[{key:"parse",value:function(e){return(0,_helpersSegment.k)(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}},{key:"handleTickRangeOptions",value:function(){var c,g,u=this.options.beginAtZero,t=this.getUserBounds(),p=t.minDefined,e=t.maxDefined,i=this.min,h=this.max,m=function(e){return i=p?i:e},o=function(a){return h=e?h:a};u&&(g=(0,_helpersSegment.s)(i),c=(0,_helpersSegment.s)(h),0>g&&0>c?o(0):0<g&&0<c&&m(0)),i===h&&(g=0===h?1:d(.05*h),o(h+g),u||m(i-g)),this.min=i,this.max=h}},{key:"getTickLimit",value:function(){var o,n=this.options.ticks,l=n.maxTicksLimit,s=n.stepSize;return s?1e3<(o=a(this.max/s)-g(this.min/s)+1)&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(s," would result generating up to ").concat(o," ticks. Limiting to 1000.")),o=1e3):(o=this.computeTickLimit(),l=l||11),o=l?p(l,o):o}},{key:"computeTickLimit",value:function(){return c}},{key:"buildTicks",value:function(){var o=this.options,t=o.ticks,e=this.getTickLimit(),i=generateTicks$1({maxTicks:u(2,e),bounds:o.bounds,min:o.min,max:o.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===o.bounds&&(0,_helpersSegment.aG)(i,this,"value"),o.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}},{key:"configure",value:function(){var a=this.ticks,o=this.min,n=this.max;_superPropGet(h,"configure",this,3)([]),this.options.offset&&a.length&&(a=(n-o)/u(a.length-1,1)/2,o-=a,n+=a),this._startValue=o,this._endValue=n,this._valueRange=n-o}},{key:"getLabelForValue",value:function(e){return(0,_helpersSegment.o)(e,this.chart.options.locale,this.options.ticks.format)}}])}(Scale),LinearScale=exports.LinearScale=/*#__PURE__*/function(e){var a=Math.ceil,o=Math.sin,n=Math.cos,l=Math.min;function s(){return _classCallCheck(this,s),_callSuper(this,s,arguments)}return _inherits(s,e),_createClass(s,[{key:"determineDataLimits",value:function(){var a=this.getMinMax(!0),i=a.min,t=a.max;this.min=(0,_helpersSegment.g)(i)?i:0,this.max=(0,_helpersSegment.g)(t)?t:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var s=this.isHorizontal(),r=s?this.width:this.height,e=(0,_helpersSegment.t)(this.options.ticks.minRotation),s=(s?o(e):n(e))||.001,e=this._resolveTickFontOptions(0);return a(r/l(40,e.lineHeight/s))}},{key:"getPixelForValue",value:function(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}])}(LinearScaleBase);_defineProperty(LinearScale,"id","linear"),_defineProperty(LinearScale,"defaults",{ticks:{callback:_helpersSegment.aL.formatters.numeric}});var log10Floor=function(e){return Math.floor((0,_helpersSegment.aM)(e))},changeExponent=function(a,t){return Math.pow(10,log10Floor(a)+t)};function isMajor(e){return 1==e/Math.pow(10,log10Floor(e))}function steps(a,o,e){var n=Math.ceil,l=Math.pow,s=Math.floor;return e=l(10,e),a=s(a/e),n(o/e)-a}function startExp(i,t){for(var e=log10Floor(t-i);10<steps(i,t,e);)e++;for(;10>steps(i,t,e);)e--;return Math.min(e,log10Floor(i))}function generateTicks(g,t){var u=Math.round,p=Math.pow,m=Math.abs,y=Math.floor,f=t.min,x=t.max;f=(0,_helpersSegment.O)(g.min,f);for(var i=[],a=log10Floor(f),_=startExp(f,x),b=0>_?p(10,m(_)):1,v=p(10,_),o=a>_?p(10,a):0,a=u((f-o)*b)/b,l=10*(y((f-o)/v/10)*v),h=y((a-l)/p(10,_)),k=(0,_helpersSegment.O)(g.min,u((o+l+h*p(10,_))*b)/b);k<x;)i.push({value:k,major:isMajor(k),significand:h}),10<=h?h=15>h?15:20:h++,20<=h&&(_++,h=2,b=0<=_?1:b),k=u((o+l+h*p(10,_))*b)/b;return f=(0,_helpersSegment.O)(g.max,k),i.push({value:f,major:isMajor(f),significand:h}),i}var LogarithmicScale=exports.LogarithmicScale=/*#__PURE__*/function(e){var a=Math.pow,i=Math.max;function o(e){var t;return _classCallCheck(this,o),t=_callSuper(this,o,[e]),t.start=void 0,t.end=void 0,t._startValue=void 0,t._valueRange=0,t}return _inherits(o,e),_createClass(o,[{key:"parse",value:function(a,i){return a=LinearScaleBase.prototype.parse.apply(this,[a,i]),0===a?void(this._zero=!0):(0,_helpersSegment.g)(a)&&0<a?a:null}},{key:"determineDataLimits",value:function(){var a=this.getMinMax(!0),o=a.min,t=a.max;this.min=(0,_helpersSegment.g)(o)?i(0,o):null,this.max=(0,_helpersSegment.g)(t)?i(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,_helpersSegment.g)(this._userMin)&&(this.min=o===changeExponent(this.min,0)?changeExponent(this.min,-1):changeExponent(this.min,0)),this.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var o=this.getUserBounds(),l=o.minDefined,e=o.maxDefined,i=this.min,r=this.max,d=function(e){return i=l?i:e},t=function(a){return r=e?r:a};i===r&&(0>=i?(d(1),t(10)):(d(changeExponent(i,-1)),t(changeExponent(r,1)))),0>=i&&d(changeExponent(r,-1)),0>=r&&t(changeExponent(i,1)),this.min=i,this.max=r}},{key:"buildTicks",value:function(){var a=this.options,t=generateTicks({min:this._userMin,max:this._userMax},this);return"ticks"===a.bounds&&(0,_helpersSegment.aG)(t,this,"value"),a.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}},{key:"getLabelForValue",value:function(e){return void 0===e?"0":(0,_helpersSegment.o)(e,this.chart.options.locale,this.options.ticks.format)}},{key:"configure",value:function(){var e=this.min;_superPropGet(o,"configure",this,3)([]),this._startValue=(0,_helpersSegment.aM)(e),this._valueRange=(0,_helpersSegment.aM)(this.max)-(0,_helpersSegment.aM)(e)}},{key:"getPixelForValue",value:function(e){return null===(e=void 0!==e&&0!==e?e:this.min)||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:((0,_helpersSegment.aM)(e)-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){return e=this.getDecimalForPixel(e),a(10,this._startValue+e*this._valueRange)}}])}(Scale);_defineProperty(LogarithmicScale,"id","logarithmic"),_defineProperty(LogarithmicScale,"defaults",{ticks:{callback:_helpersSegment.aL.formatters.logarithmic,major:{enabled:!0}}});function getTickBackdropHeight(a){var i=a.ticks;return i.display&&a.display?(a=(0,_helpersSegment.E)(i.backdropPadding),(0,_helpersSegment.v)(i.font&&i.font.size,_helpersSegment.d.font.size)+a.height):0}function measureLabelSize(a,t,e){return e=(0,_helpersSegment.b)(e)?e:[e],{w:(0,_helpersSegment.aN)(a,t.string,e),h:e.length*t.lineHeight}}function determineLimits(o,t,e,i,a){return o===i||o===a?{start:t-e/2,end:t+e/2}:o<i||a<o?{start:t-e,end:t}:{start:t,end:t+e}}function fitWithPointLabels(g){for(var e={l:g.left+g._padding.left,r:g.right-g._padding.right,t:g.top+g._padding.top,b:g.bottom-g._padding.bottom},i=Object.assign({},e),a=[],s=[],n=g._pointLabels.length,r=g.options.pointLabels,o=r.centerPointLabels?_helpersSegment.P/n:0,l=0;l<n;l++){var p=r.setContext(g.getPointLabelContext(l)),m=(s[l]=p.padding,g.getPointPosition(l,g.drawingArea+s[l],o)),p=(0,_helpersSegment.a0)(p.font),p=measureLabelSize(g.ctx,p,g._pointLabels[l]),y=(a[l]=p,(0,_helpersSegment.ay)(g.getIndexAngle(l)+o)),f=Math.round((0,_helpersSegment.U)(y));updateLimits(i,e,y,determineLimits(f,m.x,p.w,0,180),determineLimits(f,m.y,p.h,90,270))}g.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),g._pointLabelItems=buildPointLabelItems(g,a,s)}function updateLimits(l,t,e,d,a){var s=Math.abs,c=Math.max,g=Math.min,u=s(Math.sin(e)),e=s(Math.cos(e)),n=0,p=0;d.start<t.l?(n=(t.l-d.start)/u,l.l=g(l.l,t.l-n)):d.end>t.r&&(n=(d.end-t.r)/u,l.r=c(l.r,t.r+n)),a.start<t.t?(p=(t.t-a.start)/e,l.t=g(l.t,t.t-p)):a.end>t.b&&(p=(a.end-t.b)/e,l.b=c(l.b,t.b+p))}function createPointLabelItem(o,l,d){var c=o.drawingArea,g=d,d=g.extra,u=g.additionalAngle,s=g.padding,p=g.size,o=o.getPointPosition(l,c+d+s,u),l=Math.round((0,_helpersSegment.U)((0,_helpersSegment.ay)(o.angle+_helpersSegment.H))),c=yForAngle(o.y,p.h,l),d=getTextAlignForAngle(l),s=leftForTextAlign(o.x,p.w,d);return{visible:!0,x:o.x,y:c,textAlign:d,left:s,top:c,right:s+p.w,bottom:c+p.h}}function isNotOverlapped(o,n){if(!n)return!0;var e=o,o=e.left,l=e.top,i=e.right,a=e.bottom;return!((0,_helpersSegment.C)({x:o,y:l},n)||(0,_helpersSegment.C)({x:o,y:a},n)||(0,_helpersSegment.C)({x:i,y:l},n)||(0,_helpersSegment.C)({x:i,y:a},n))}function buildPointLabelItems(c,e,i){for(var a,g=[],s=c._pointLabels.length,n=c.options,t=n.pointLabels,u=t.centerPointLabels,r=t.display,o={extra:getTickBackdropHeight(n)/2,additionalAngle:u?_helpersSegment.P/s:0},l=0;l<s;l++){o.padding=i[l],o.size=e[l];var p=createPointLabelItem(c,l,o);g.push(p),"auto"===r&&(p.visible=isNotOverlapped(p,a),p.visible&&(a=p))}return g}function getTextAlignForAngle(e){return 0===e||180===e?"center":180>e?"left":"right"}function leftForTextAlign(a,o,e){return"right"===e?a-=o:"center"==e&&(a-=o/2),a}function yForAngle(a,o,e){return 90===e||270===e?a-=o/2:(270<e||90>e)&&(a-=o),a}function drawPointLabelBox(d,t,c){var g,u,p=c,c=p.left,h=p.top,n=p.right,m=p.bottom,o=t.backdropColor;(0,_helpersSegment.k)(o)||(g=(0,_helpersSegment.aw)(t.borderRadius),t=(0,_helpersSegment.E)(t.backdropPadding),d.fillStyle=o,o=c-t.left,u=h-t.top,n=n-c+t.width,c=m-h+t.height,Object.values(g).some(function(e){return 0!==e})?(d.beginPath(),(0,_helpersSegment.au)(d,{x:o,y:u,w:n,h:c,radius:g}),d.fill()):d.fillRect(o,u,n,c))}function drawPointLabels(d,e){for(var i=d.ctx,a=d.options.pointLabels,s=e-1;0<=s;s--){var c,g,u,p,m,y=d._pointLabelItems[s];y.visible&&(drawPointLabelBox(i,g=a.setContext(d.getPointLabelContext(s)),y),u=(0,_helpersSegment.a0)(g.font),c=y,y=c.x,p=c.y,m=c.textAlign,(0,_helpersSegment.Z)(i,d._pointLabels[s],y,p+u.lineHeight/2,u,{color:g.color,textAlign:m,textBaseline:"middle"}))}}function pathRadiusLine(o,e,i,t){var a=o.ctx;if(i)a.arc(o.xCenter,o.yCenter,e,0,_helpersSegment.T);else{var l=o.getPointPosition(0,e);a.moveTo(l.x,l.y);for(var s=1;s<t;s++)l=o.getPointPosition(s,e),a.lineTo(l.x,l.y)}}function drawRadiusLine(l,t,d,i,a){var s=l.ctx,n=t.circular,r=t,t=r.color,c=r.lineWidth;(n||i)&&t&&c&&!(0>d)&&(s.save(),s.strokeStyle=t,s.lineWidth=c,s.setLineDash(a.dash),s.lineDashOffset=a.dashOffset,s.beginPath(),pathRadiusLine(l,d,n,i),s.closePath(),s.stroke(),s.restore())}function createPointLabelContext(a,t,e){return(0,_helpersSegment.j)(a,{label:e,index:t,type:"pointLabel"})}var RadialLinearScale=exports.RadialLinearScale=/*#__PURE__*/function(e){var t=Math.ceil,a=Math.sin,o=Math.cos,n=Math.floor,l=Math.max,s=Math.min;function r(e){var t;return _classCallCheck(this,r),t=_callSuper(this,r,[e]),t.xCenter=void 0,t.yCenter=void 0,t.drawingArea=void 0,t._pointLabels=[],t._pointLabelItems=[],t}return _inherits(r,e),_createClass(r,[{key:"setDimensions",value:function(){var a=this._padding=(0,_helpersSegment.E)(getTickBackdropHeight(this.options)/2),t=this.width=this.maxWidth-a.width,e=this.height=this.maxHeight-a.height;this.xCenter=n(this.left+t/2+a.left),this.yCenter=n(this.top+e/2+a.top),this.drawingArea=n(s(t,e)/2)}},{key:"determineDataLimits",value:function(){var a=this.getMinMax(!1),i=a.min,t=a.max;this.min=(0,_helpersSegment.g)(i)&&!isNaN(i)?i:0,this.max=(0,_helpersSegment.g)(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return t(this.drawingArea/getTickBackdropHeight(this.options))}},{key:"generateTickLabels",value:function(e){var a=this;LinearScaleBase.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(function(i,o){return i=(0,_helpersSegment.Q)(a.options.pointLabels.callback,[i,o],a),i||0===i?i:""}).filter(function(i,t){return a.chart.getDataVisibility(t)})}},{key:"fit",value:function(){var e=this.options;e.display&&e.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}},{key:"setCenterPoint",value:function(o,t,e,i){this.xCenter+=n((o-t)/2),this.yCenter+=n((e-i)/2),this.drawingArea-=s(this.drawingArea/2,l(o,t,e,i))}},{key:"getIndexAngle",value:function(a){var t=_helpersSegment.T/(this._pointLabels.length||1),e=this.options.startAngle||0;return(0,_helpersSegment.ay)(a*t+(0,_helpersSegment.t)(e))}},{key:"getDistanceFromCenterForValue",value:function(a){if((0,_helpersSegment.k)(a))return NaN;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-a)*t:(a-this.min)*t}},{key:"getValueForDistanceFromCenter",value:function(e){return(0,_helpersSegment.k)(e)?NaN:(e/=this.drawingArea/(this.max-this.min),this.options.reverse?this.max-e:this.min+e)}},{key:"getPointLabelContext",value:function(a){var t=this._pointLabels||[];if(0<=a&&a<t.length)return t=t[a],createPointLabelContext(this.getContext(),a,t)}},{key:"getPointPosition",value:function(n,l){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return n=this.getIndexAngle(n)-_helpersSegment.H+e,{x:o(n)*l+this.xCenter,y:a(n)*l+this.yCenter,angle:n}}},{key:"getPointPositionForValue",value:function(a,t){return this.getPointPosition(a,this.getDistanceFromCenterForValue(t))}},{key:"getBasePosition",value:function(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(o){var n=this._pointLabelItems[o],o=n.left,l=n.top,e=n.right,i=n.bottom;return{left:o,top:l,right:e,bottom:i}}},{key:"drawBackground",value:function(){var a=this.options,o=a.backgroundColor,t=a.grid.circular;if(o){var e=this.ctx;e.save(),e.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),e.closePath(),e.fillStyle=o,e.fill(),e.restore()}}},{key:"drawGrid",value:function(){var g,u,p,m=this,y=this.ctx,t=this.options,e=t.angleLines,i=t.grid,a=t.border,s=this._pointLabels.length;if(t.pointLabels.display&&drawPointLabels(this,s),i.display&&this.ticks.forEach(function(o,n){0!==n&&(u=m.getDistanceFromCenterForValue(o.value),o=m.getContext(n),n=i.setContext(o),o=a.setContext(o),drawRadiusLine(m,n,u,s,o))}),e.display){for(y.save(),g=s-1;0<=g;g--){var n=e.setContext(this.getPointLabelContext(g)),f=n,x=f.color,_=f.lineWidth;_&&x&&(y.lineWidth=_,y.strokeStyle=x,y.setLineDash(n.borderDash),y.lineDashOffset=n.borderDashOffset,u=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),p=this.getPointPosition(g,u),y.beginPath(),y.moveTo(this.xCenter,this.yCenter),y.lineTo(p.x,p.y),y.stroke())}y.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var d=this,c=this.ctx,r=this.options,o=r.ticks;if(o.display){var l,g,e=this.getIndexAngle(0);c.save(),c.translate(this.xCenter,this.yCenter),c.rotate(e),c.textAlign="center",c.textBaseline="middle",this.ticks.forEach(function(n,t){var s,u;(0!==t||r.reverse)&&(s=o.setContext(d.getContext(t)),u=(0,_helpersSegment.a0)(s.font),l=d.getDistanceFromCenterForValue(d.ticks[t].value),s.showLabelBackdrop&&(c.font=u.string,g=c.measureText(n.label).width,c.fillStyle=s.backdropColor,t=(0,_helpersSegment.E)(s.backdropPadding),c.fillRect(-g/2-t.left,-l-u.size/2-t.top,g+t.width,u.size+t.height)),(0,_helpersSegment.Z)(c,n.label,0,-l,u,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth}))}),c.restore()}}},{key:"drawTitle",value:function(){}}])}(LinearScaleBase);_defineProperty(RadialLinearScale,"id","radialLinear"),_defineProperty(RadialLinearScale,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_helpersSegment.aL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(e){return e},padding:5,centerPointLabels:!1}}),_defineProperty(RadialLinearScale,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),_defineProperty(RadialLinearScale,"descriptors",{angleLines:{_fallback:"grid"}});var INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(a,t){return a-t}function _parse(o,t){if((0,_helpersSegment.k)(t))return null;var e=o._adapter,i=o._parseOpts,l=i.parser,a=i.round,s=i.isoWeekday,n=t;return"function"==typeof l&&(n=l(n)),null===(n=(0,_helpersSegment.g)(n)?n:"string"==typeof l?e.parse(n,l):e.parse(n))?null:+(n=a?"week"===a&&((0,_helpersSegment.x)(s)||!0===s)?e.startOf(n,"isoWeek",s):e.startOf(n,a):n)}function determineUnitForAutoTicks(l,e,i,a){for(var s=UNITS.length,n=UNITS.indexOf(l);n<s-1;++n){var d=INTERVALS[UNITS[n]],c=d.steps||Number.MAX_SAFE_INTEGER;if(d.common&&Math.ceil((i-e)/(c*d.size))<=a)return UNITS[n]}return UNITS[s-1]}function determineUnitForFormatting(o,e,i,a,l){for(var n,s=UNITS.length-1;s>=UNITS.indexOf(i);s--)if(n=UNITS[s],INTERVALS[n].common&&o._adapter.diff(l,a,n)>=e-1)return n;return UNITS[i?UNITS.indexOf(i):0]}function determineMajorUnit(a){for(var i=UNITS.indexOf(a)+1,o=UNITS.length;i<o;++i)if(INTERVALS[UNITS[i]].common)return UNITS[i]}function addTick(o,t,e){var i,n,l;e?e.length&&(i=(0,_helpersSegment.aP)(e,t),n=i.lo,l=i.hi,o[e[n]>=t?e[n]:e[l]]=!0):o[t]=!0}function setMajorTicks(l,d,e,i){var a,c,g=l._adapter,l=+g.startOf(d[0].value,i),s=d[d.length-1].value;for(a=l;a<=s;a=+g.add(a,1,i))0<=(c=e[a])&&(d[c].major=!0);return d}function ticksFromTimestamps(l,t,e){var i,d,c=[],a={},s=t.length;for(i=0;i<s;++i)d=t[i],a[d]=i,c.push({value:d,major:!1});return 0!==s&&e?setMajorTicks(l,c,a,e):c}var TimeScale=exports.TimeScale=/*#__PURE__*/function(e){var o=Math.sin,n=Math.cos,l=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,r=Math.floor,d=Math.max,c=Math.min;function g(e){var t;return _classCallCheck(this,g),t=_callSuper(this,g,[e]),t._cache={data:[],labels:[],all:[]},t._unit="day",t._majorUnit=void 0,t._offsets={},t._normalized=!1,t._parseOpts=void 0,t}return _inherits(g,e),_createClass(g,[{key:"init",value:function(o){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=o.time||(o.time={}),i=this._adapter=new adapters._date(o.adapters.date);i.init(t),(0,_helpersSegment.ab)(e.displayFormats,i.formats()),this._parseOpts={parser:e.parser,round:e.round,isoWeekday:e.isoWeekday},_superPropGet(g,"init",this,3)([o]),this._normalized=t.normalized}},{key:"parse",value:function(e){return void 0===e?null:_parse(this,e)}},{key:"beforeLayout",value:function(){_superPropGet(g,"beforeLayout",this,3)([]),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){function l(e){p||isNaN(e.min)||(g=c(g,e.min)),n||isNaN(e.max)||(u=d(u,e.max))}var o=this.options,t=this._adapter,e=o.time.unit||"day",i=this.getUserBounds(),g=i.min,u=i.max,p=i.minDefined,n=i.maxDefined;p&&n||(l(this._getLabelBounds()),"ticks"===o.bounds&&"labels"===o.ticks.source||l(this.getMinMax(!1))),g=(0,_helpersSegment.g)(g)&&!isNaN(g)?g:+t.startOf(Date.now(),e),u=(0,_helpersSegment.g)(u)&&!isNaN(u)?u:+t.endOf(Date.now(),e)+1,this.min=c(g,u-1),this.max=d(g+1,u)}},{key:"_getLabelBounds",value:function(){var a=this.getLabelTimestamps(),t=l,o=s;return a.length&&(t=a[0],o=a[a.length-1]),{min:t,max:o}}},{key:"buildTicks",value:function(){var o=this.options,t=o.time,e=o.ticks,i="labels"===e.source?this.getLabelTimestamps():this._generate(),a=("ticks"===o.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]),this.min),l=this.max,n=(0,_helpersSegment.aO)(i,a,l);return this._unit=t.unit||(e.autoSkip?determineUnitForAutoTicks(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):determineUnitForFormatting(this,n.length,t.minUnit,this.min,this.max)),this._majorUnit=e.major.enabled&&"year"!==this._unit?determineMajorUnit(this._unit):void 0,this.initOffsets(i),o.reverse&&n.reverse(),ticksFromTimestamps(this,n,this._majorUnit)}},{key:"afterAutoSkip",value:function(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(function(e){return+e.value}))}},{key:"initOffsets",value:function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=0,n=0;this.options.offset&&o.length&&(l=this.getDecimalForValue(o[0]),t=1===o.length?1-l:(this.getDecimalForValue(o[1])-l)/2,l=this.getDecimalForValue(o[o.length-1]),n=1===o.length?l:(l-this.getDecimalForValue(o[o.length-2]))/2);var l=3>o.length?.5:.25;t=(0,_helpersSegment.S)(t,0,l),n=(0,_helpersSegment.S)(n,0,l),this._offsets={start:t,end:n,factor:1/(t+1+n)}}},{key:"_generate",value:function(){var g,p,m=this._adapter,t=this.min,e=this.max,i=this.options,a=i.time,y=a.unit||determineUnitForAutoTicks(a.minUnit,t,e,this._getLabelCapacity(t)),n=(0,_helpersSegment.v)(i.ticks.stepSize,1),a="week"===y&&a.isoWeekday,r=(0,_helpersSegment.x)(a)||!0===a,o={},l=t;if(r&&(l=+m.startOf(l,"isoWeek",a)),l=+m.startOf(l,r?"day":y),m.diff(e,t,y)>1e5*n)throw new Error(t+" and "+e+" are too far apart with stepSize of "+n+" "+y);var f="data"===i.ticks.source&&this.getDataTimestamps();for(g=l,p=0;g<e;g=+m.add(g,n,y),p++)addTick(o,g,f);return g!==e&&"ticks"!==i.bounds&&1!==p||addTick(o,g,f),Object.keys(o).sort(sorter).map(function(e){return+e})}},{key:"getLabelForValue",value:function(a){var t=this._adapter,e=this.options.time;return e.tooltipFormat?t.format(a,e.tooltipFormat):t.format(a,e.displayFormats.datetime)}},{key:"format",value:function(o,t){var n=this.options.time.displayFormats,i=this._unit,t=t||n[i];return this._adapter.format(o,t)}},{key:"_tickFormatFunction",value:function(o,t,l,d){var a=this.options,c=a.ticks.callback;if(c)return(0,_helpersSegment.Q)(c,[o,t,l],this);var c=a.time.displayFormats,a=this._unit,g=this._majorUnit,a=a&&c[a],c=g&&c[g],l=l[t],t=g&&c&&l&&l.major;return this._adapter.format(o,d||(t?c:a))}},{key:"generateTickLabels",value:function(o){var t,n,l;for(t=0,n=o.length;t<n;++t)(l=o[t]).label=this._tickFormatFunction(l.value,t,o)}},{key:"getDecimalForValue",value:function(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(a){var i=this._offsets,a=this.getDecimalForValue(a);return this.getPixelForDecimal((i.start+a)*i.factor)}},{key:"getValueForPixel",value:function(a){var i=this._offsets,a=this.getDecimalForPixel(a)/i.factor-i.end;return this.min+a*(this.max-this.min)}},{key:"_getLabelSize",value:function(l){var s=this.options.ticks,l=this.ctx.measureText(l).width,s=(0,_helpersSegment.t)(this.isHorizontal()?s.maxRotation:s.minRotation),r=n(s),s=o(s),i=this._resolveTickFontOptions(0).size;return{w:l*r+i*s,h:l*s+i*r}}},{key:"_getLabelCapacity",value:function(a){var o=this.options.time,n=o.displayFormats,o=n[o.unit]||n.millisecond,n=this._tickFormatFunction(a,0,ticksFromTimestamps(this,[a],this._majorUnit),o),a=this._getLabelSize(n),o=r(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return 0<o?o:1}},{key:"getDataTimestamps",value:function(){var o,n,l=this._cache.data||[];if(l.length)return l;var s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(o=0,n=s.length;o<n;++o)l=l.concat(s[o].controller.getAllParsedValues(this));return this._cache.data=this.normalize(l)}},{key:"getLabelTimestamps",value:function(){var o,n,l=this._cache.labels||[];if(l.length)return l;var t=this.getLabels();for(o=0,n=t.length;o<n;++o)l.push(_parse(this,t[o]));return this._cache.labels=this._normalized?l:this.normalize(l)}},{key:"normalize",value:function(e){return(0,_helpersSegment._)(e.sort(sorter))}}])}(Scale);_defineProperty(TimeScale,"id","time"),_defineProperty(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(d,t,e){var c,g,u,p,h,m,y,f,x,_,b=0,v=d.length-1;return e?(t>=d[b].pos&&t<=d[v].pos&&(c=(0,_helpersSegment.B)(d,"pos",t),b=c.lo,v=c.hi,c),g=d[b],y=g.pos,x=g.time,u=d[v],f=u.pos,_=u.time):(t>=d[b].time&&t<=d[v].time&&(p=(0,_helpersSegment.B)(d,"time",t),b=p.lo,v=p.hi,p),h=d[b],y=h.time,x=h.pos,m=d[v],f=m.time,_=m.pos),e=f-y,e?x+(_-x)*(t-y)/e:x}var TimeSeriesScale=exports.TimeSeriesScale=/*#__PURE__*/function(e){var t=Math.round;function a(e){var t;return _classCallCheck(this,a),t=_callSuper(this,a,[e]),t._table=[],t._minPos=void 0,t._tableRange=void 0,t}return _inherits(a,e),_createClass(a,[{key:"initOffsets",value:function(){var i=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(i);this._minPos=interpolate(t,this.min),this._tableRange=interpolate(t,this.max)-this._minPos,_superPropGet(a,"initOffsets",this,3)([i])}},{key:"buildLookupTable",value:function(d){var c,g,u,p,m,y=this.min,e=this.max,i=[],a=[];for(c=0,g=d.length;c<g;++c)(p=d[c])>=y&&p<=e&&i.push(p);if(2>i.length)return[{time:y,pos:0},{time:e,pos:1}];for(c=0,g=i.length;c<g;++c)m=i[c+1],u=i[c-1],p=i[c],t((m+u)/2)!==p&&a.push({time:p,pos:c/(g-1)});return a}},{key:"_generate",value:function(){var o=this.min,t=this.max,e=_superPropGet(a,"getDataTimestamps",this,3)([]);return e.includes(o)&&e.length||e.splice(0,0,o),e.includes(t)&&1!==e.length||e.push(t),e.sort(function(a,t){return a-t})}},{key:"_getTimestampsForTable",value:function(){var a=this._cache.all||[];if(a.length)return a;var o=this.getDataTimestamps(),e=this.getLabelTimestamps();return a=o.length&&e.length?this.normalize(o.concat(e)):o.length?o:e,a=this._cache.all=a}},{key:"getDecimalForValue",value:function(e){return(interpolate(this._table,e)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(a){var i=this._offsets,a=this.getDecimalForPixel(a)/i.factor-i.end;return interpolate(this._table,a*this._tableRange+this._minPos,!0)}}])}(TimeScale);_defineProperty(TimeSeriesScale,"id","timeseries"),_defineProperty(TimeSeriesScale,"defaults",TimeScale.defaults);var scales=exports.scales=Object.freeze({__proto__:null,CategoryScale:CategoryScale,LinearScale:LinearScale,LogarithmicScale:LogarithmicScale,RadialLinearScale:RadialLinearScale,TimeScale:TimeScale,TimeSeriesScale:TimeSeriesScale}),registerables=exports.registerables=[controllers,elements,plugins,scales];