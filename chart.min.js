function ownKeys(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach(function(t){_defineProperty(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function _superPropGet(t,e,i,n){var a=_get2(_getPrototypeOf(1&n?t.prototype:t),e,i);return 2&n?function(t){return a.apply(i,t)}:a}function _get2(){return(_get2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=_superPropBase(t,e);if(n)return(n=Object.getOwnPropertyDescriptor(n,e)).get?n.get.call(arguments.length<3?t:i):n.value}).apply(null,arguments)}function _superPropBase(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,h=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(t){h=!0,a=t}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(h)throw a}}return s}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _callSuper(t,e,i){return e=_getPrototypeOf(e),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(e,i||[],_getPrototypeOf(t).constructor):e.apply(t,i))}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function(){return!!t})()}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _defineProperty(t,e,i){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0===i)return("string"===e?String:Number)(t);i=i.call(t,e||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}function _createForOfIteratorHelper(t,e){var i,n,a,r,o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return a=!(n=!0),{s:function(){o=o.call(t)},n:function(){var t=o.next();return n=t.done,t},e:function(t){a=!0,i=t},f:function(){try{n||null==o.return||o.return()}finally{if(a)throw i}}};if(Array.isArray(t)||(o=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length)return o&&(t=o),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var i;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(i="Object"===(i={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):("undefined"!=typeof globalThis?globalThis:self).Chart=t()}(function(){var b,O=Object.freeze({__proto__:null,get Colors(){return pr},get Decimation(){return yr},get Filler(){return Tr},get Legend(){return Er},get SubTitle(){return Vr},get Title(){return Fr},get Tooltip(){return Kr}});function t(){}A=0;var A,E=function(){return A++};function D(t){return null==t}function B(t){return!(!Array.isArray||!Array.isArray(t))||"[object"===(t=Object.prototype.toString.call(t)).slice(0,7)&&"Array]"===t.slice(-6)}function H(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function g(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function d(t,e){return g(t)?t:e}function z(t,e){return void 0===t?e:t}function R(t,e){return"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e}function F(t,e){return"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t}function l(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function M(t,e,i,n){var a,r,o;if(B(t))if(r=t.length,n)for(a=r-1;0<=a;a--)e.call(i,t[a],a);else for(a=0;a<r;a++)e.call(i,t[a],a);else if(H(t))for(r=(o=Object.keys(t)).length,a=0;a<r;a++)e.call(i,t[o[a]],o[a])}function V(t,e){var i,n,a,r;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(a=t[i],r=e[i],a.datasetIndex!==r.datasetIndex||a.index!==r.index)return!1;return!0}function N(t){if(B(t))return t.map(N);if(H(t)){for(var e=Object.create(null),i=Object.keys(t),n=i.length,a=0;a<n;++a)e[i[a]]=N(t[i[a]]);return e}return t}function Y(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function U(t,e,i,n){var a;Y(t)&&(a=e[t],i=i[t],H(a)&&H(i)?$(a,i,n):e[t]=N(i))}function $(t,e,i){var n=B(e)?e:[e],a=n.length;if(H(t))for(var r,o=(i=i||{}).merger||U,s=0;s<a;++s)if(H(r=n[s]))for(var l=Object.keys(r),h=0,u=l.length;h<u;++h)o(l[h],t,r,i);return t}function X(t,e){return $(t,e,{merger:G})}function G(t,e,i){var n;Y(t)&&(n=e[t],i=i[t],H(n)&&H(i)?X(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=N(i)))}var K={"":function(t){return t},x:function(t){return t.x},y:function(t){return t.y}};function q(t){var e,i=[],n="",a=_createForOfIteratorHelper(t.split("."));try{for(a.s();!(e=a.n()).done;)n=(n+=e.value).endsWith("\\")?n.slice(0,-1)+".":(i.push(n),"")}catch(t){a.e(t)}finally{a.f()}return i}function p(t,e){var a;return(K[e]||(K[e]=(a=q(e),function(t){var e,i=_createForOfIteratorHelper(a);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(""===n)break;t=t&&t[n]}}catch(t){i.e(t)}finally{i.f()}return t})))(t)}function Z(t){return t.charAt(0).toUpperCase()+t.slice(1)}function J(t){return void 0!==t}function Q(t,e){if(t.size!==e.size)return!1;var i,n=_createForOfIteratorHelper(t);try{for(n.s();!(i=n.n()).done;){var a=i.value;if(!e.has(a))return!1}}catch(t){n.e(t)}finally{n.f()}return!0}var tt=function(t){return"function"==typeof t};function et(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}var x=Math.PI,k=2*x,it=k+x,nt=Number.POSITIVE_INFINITY,at=x/180,w=x/2,rt=x/4,ot=2*x/3,st=Math.log10,_=Math.sign;function lt(t,e,i){return Math.abs(t-e)<i}function ht(t){var e=Math.round(t),e=(t=lt(t,e,t/1e3)?e:t,Math.pow(10,Math.floor(st(t)))),t=t/e;return(t<=1?1:t<=2?2:t<=5?5:10)*e}function ut(t){for(var e=[],i=Math.sqrt(t),n=1;n<i;n++)t%n==0&&(e.push(n),e.push(t/n));return i===(0|i)&&e.push(i),e.sort(function(t,e){return t-e}).pop(),e}function ct(t){return!isNaN(parseFloat(t))&&isFinite(t)}function dt(t,e){var i=Math.round(t);return i-e<=t&&t<=i+e}function ft(t,e,i){for(var n,a=0,r=t.length;a<r;a++)n=t[a][i],isNaN(n)||(e.min=Math.min(e.min,n),e.max=Math.max(e.max,n))}function j(t){return t*(x/180)}function pt(t){return t*(180/x)}function gt(t){if(g(t)){for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}}function vt(t,e){var i=e.x-t.x,e=e.y-t.y,t=Math.sqrt(i*i+e*e),e=Math.atan2(e,i);return e<-.5*x&&(e+=k),{angle:e,distance:t}}function yt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function mt(t,e){return(t-e+it)%k-x}function P(t){return(t%k+k)%k}function bt(t,e,i,n){var t=P(t),e=P(e),i=P(i),a=P(e-t),r=P(i-t),o=P(t-e),s=P(t-i);return t===e||t===i||n&&e===i||r<a&&o<s}function v(t,e,i){return Math.max(e,Math.min(i,t))}function _t(t){return v(t,-32768,32767)}function c(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function xt(e,i,t){t=t||function(t){return e[t]<i};for(var n,a=e.length-1,r=0;1<a-r;)t(n=r+a>>1)?r=n:a=n;return{lo:r,hi:a}}var y=function(i,n,a,t){return xt(i,a,t?function(t){var e=i[t][n];return e<a||e===a&&i[t+1][n]===a}:function(t){return i[t][n]<a})},kt=function(e,i,n){return xt(e,n,function(t){return e[t][i]>=n})};function wt(t,e,i){for(var n=0,a=t.length;n<a&&t[n]<e;)n++;for(;n<a&&t[a-1]>i;)a--;return 0<n||a<t.length?t.slice(n,a):t}var Mt=["push","pop","shift","splice","unshift"];function Pt(o,t){o._chartjs?o._chartjs.listeners.push(t):(Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Mt.forEach(function(t){var a="_onData"+Z(t),r=o[t];Object.defineProperty(o,t,{configurable:!0,enumerable:!1,value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=r.apply(this,e);return o._chartjs.listeners.forEach(function(t){"function"==typeof t[a]&&t[a].apply(t,e)}),n}})}))}function St(e,t){var i=e._chartjs;i&&(-1!==(t=(i=i.listeners).indexOf(t))&&i.splice(t,1),0<i.length||(Mt.forEach(function(t){delete e[t]}),delete e._chartjs))}function Ct(t){var e=new Set(t);return e.size===t.length?t:Array.from(e)}var Ot="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function Dt(n,a){var r,o=!1;return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r=e,o||(o=!0,Ot.call(window,function(){o=!1,n.apply(a,r)}))}}function At(n,a){var r;return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return a?(clearTimeout(r),r=setTimeout(n,a,e)):n.apply(this,e),a}}function Tt(t){return"start"===t?"left":"end"===t?"right":"center"}function T(t,e,i){return"start"===t?e:"end"===t?i:(e+i)/2}function It(t,e,i,n){return t===(n?"left":"right")?i:"center"===t?(e+i)/2:e}function Lt(t,e,i){var n,a,r,o,s,l,h=e.length,u=0,c=h;return t._sorted&&(n=t._parsed,a=(t=t.iScale).axis,o=(r=t.getUserBounds()).min,s=r.max,l=r.maxDefined,r.minDefined&&(u=v(Math.min(y(n,a,o).lo,i?h:y(e,a,t.getPixelForValue(o)).lo),0,h-1)),c=l?v(Math.max(y(n,t.axis,s,!0).hi+1,i?0:y(e,a,t.getPixelForValue(s),!0).hi+1),u,h)-u:h-u),{start:u,count:c}}function Et(t){var e=t.xScale,i=t.yScale,n=t._scaleRanges,a={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};return n?(e=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max,Object.assign(n,a),e):(t._scaleRanges=a,!0)}var s=new(function(){return _createClass(function t(){_classCallCheck(this,t),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0},[{key:"_notify",value:function(e,i,n,t){var t=i.listeners[t],a=i.duration;t.forEach(function(t){return t({chart:e,initial:i.initial,numSteps:a,currentStep:Math.min(n-i.start,a)})})}},{key:"_refresh",value:function(){var t=this;this._request||(this._running=!0,this._request=Ot.call(window,function(){t._update(),t._request=null,t._running&&t._refresh()}))}},{key:"_update",value:function(){var o=this,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Date.now(),l=0;this._charts.forEach(function(t,e){if(t.running&&t.items.length){for(var i,n=t.items,a=n.length-1,r=!1;0<=a;--a)(i=n[a])._active?(i._total>t.duration&&(t.duration=i._total),i.tick(s),r=!0):(n[a]=n[n.length-1],n.pop());r&&(e.draw(),o._notify(e,t,s,"progress")),n.length||(t.running=!1,o._notify(e,t,s,"complete"),t.initial=!1),l+=n.length}}),this._lastDate=s,0===l&&(this._running=!1)}},{key:"_getAnims",value:function(t){var e=this._charts,i=e.get(t);return i||e.set(t,i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}}),i}},{key:"listen",value:function(t,e,i){this._getAnims(t).listeners[e].push(i)}},{key:"add",value:function(t,e){e&&e.length&&(t=this._getAnims(t).items).push.apply(t,_toConsumableArray(e))}},{key:"has",value:function(t){return 0<this._getAnims(t).items.length}},{key:"start",value:function(t){t=this._charts.get(t);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(function(t,e){return Math.max(t,e._duration)},0),this._refresh())}},{key:"running",value:function(t){return!!this._running&&!!((t=this._charts.get(t))&&t.running&&t.items.length)}},{key:"stop",value:function(t){var e=this._charts.get(t);if(e&&e.items.length){for(var i=e.items,n=i.length-1;0<=n;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}}},{key:"remove",value:function(t){return this._charts.delete(t)}}])}());function Rt(t){return t+.5|0}var Ft=function(t,e,i){return Math.max(Math.min(t,i),e)};function zt(t){return Ft(Rt(2.55*t),0,255)}function Vt(t){return Ft(Rt(255*t),0,255)}function Bt(t){return Ft(Rt(t/2.55)/100,0,1)}function Ht(t){return Ft(Rt(100*t),0,100)}function jt(t){return Yt[15&t]}function Wt(t){return Yt[(240&t)>>4]+Yt[15&t]}function Nt(t){return(240&t)>>4==(15&t)}var r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yt=_toConsumableArray("0123456789ABCDEF");var Ut=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $t(e,t,i){function n(t){return t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12,i-a*Math.max(Math.min(t-3,9-t,1),-1)}var a=t*Math.min(i,1-i);return[n(0),n(8),n(4)]}function Xt(e,i,n){function t(t){return t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(t+e/60)%6,n-n*i*Math.max(Math.min(t,4-t,1),0)}return[t(5),t(3),t(1)]}function Gt(t,e,i){var n,a=$t(t,1,.5);for(1<e+i&&(e*=n=1/(e+i),i*=n),n=0;n<3;n++)a[n]*=1-e-i,a[n]+=e;return a}function Kt(t){var e,i,n=t.r/255,a=t.g/255,t=t.b/255,r=Math.max(n,a,t),o=Math.min(n,a,t),s=(r+o)/2;return r!==o&&(i=r-o,e=.5<s?i/(2-r-o):i/(r+o),i=60*(i=n===r?(a-t)/i+(a<t?6:0):a===r?(t-n)/i+2:(n-a)/i+4)+.5),[0|i,e||0,s]}function qt(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(Vt)}function Zt(t,e,i){return qt($t,t,e,i)}function Jt(t){return(t%360+360)%360}var Qt,te={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ee={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ie(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function ne(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}var ae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function re(t,e,i){var n;t&&((n=Kt(t))[e]=Math.max(0,Math.min(n[e]+n[e]*i,0===e?360:1)),n=Zt(n),t.r=n[0],t.g=n[1],t.b=n[2])}function oe(t,e){return t&&Object.assign(e||{},t)}function se(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?3<=t.length&&(e={r:t[0],g:t[1],b:t[2],a:255},3<t.length)&&(e.a=Vt(t[3])):(e=oe(t,{r:0,g:0,b:0,a:1})).a=Vt(e.a),e}function le(t){if("r"===t.charAt(0)){var e=ae.exec(t),i=255;if(e)return e[7]!==a&&(r=+e[7],i=e[8]?zt(r):Ft(255*r,0,255)),a=+e[1],r=+e[3],n=+e[5],{r:a=255&(e[2]?zt(a):Ft(a,0,255)),g:255&(e[4]?zt(r):Ft(r,0,255)),b:255&(e[6]?zt(n):Ft(n,0,255)),a:i}}else{var n,a=t,a=Ut.exec(a),r=255;if(a)return void 0!==a[5]&&(r=(a[6]?zt:Vt)(+a[5])),e=Jt(+a[2]),n=+a[3]/100,i=+a[4]/100,{r:(a="hwb"===a[1]?qt(Gt,e,n,i):"hsv"===a[1]?qt(Xt,e,n,i):Zt(e,n,i))[0],g:a[1],b:a[2],a:r}}}var he=function(){function a(t){if(_classCallCheck(this,a),t instanceof a)return t;var e,i,n=_typeof(t);"object"===n?e=se(t):"string"===n&&(n=t.length,"#"===t[0]&&(4===n||5===n?i={r:255&17*r[t[1]],g:255&17*r[t[2]],b:255&17*r[t[3]],a:5===n?17*r[t[4]]:255}:7!==n&&9!==n||(i={r:r[t[1]]<<4|r[t[2]],g:r[t[3]]<<4|r[t[4]],b:r[t[5]]<<4|r[t[6]],a:9===n?r[t[7]]<<4|r[t[8]]:255})),e=i||(n=t,Qt||((Qt=function(){for(var t,e,i,n,a={},r=Object.keys(ee),o=Object.keys(te),s=0;s<r.length;s++){for(i=n=r[s],t=0;t<o.length;t++)e=o[t],n=n.replace(e,te[e]);e=parseInt(ee[i],16),a[n]=[e>>16&255,e>>8&255,255&e]}return a}()).transparent=[0,0,0,0]),(n=Qt[n.toLowerCase()])&&{r:n[0],g:n[1],b:n[2],a:4===n.length?n[3]:255})||le(t)),this._rgb=e,this._valid=!!e}return _createClass(a,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var t=oe(this._rgb);return t&&(t.a=Bt(t.a)),t},set:function(t){this._rgb=se(t)}},{key:"rgbString",value:function(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(Bt(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):void 0;var t}},{key:"hexString",value:function(){return this._valid&&(t=this._rgb,e=Nt(t.r)&&Nt(t.g)&&Nt(t.b)&&Nt(t.a)?jt:Wt,t)?"#"+e(t.r)+e(t.g)+e(t.b)+((t=t.a)<255?e(t):""):void 0;var t,e}},{key:"hslString",value:function(){if(this._valid){var t,e,i,n=this._rgb;if(n)return t=(i=Kt(n))[0],e=Ht(i[1]),i=Ht(i[2]),n.a<255?"hsla(".concat(t,", ").concat(e,"%, ").concat(i,"%, ").concat(Bt(n.a),")"):"hsl(".concat(t,", ").concat(e,"%, ").concat(i,"%)")}}},{key:"mix",value:function(t,e){var i,n,a,r;return t&&(i=this.rgb,t=t.rgb,n=i.a-t.a,i.r=255&(a=(1+((a=2*(e=e===r?.5:e)-1)*n==-1?a:(a+n)/(1+a*n)))/2)*i.r+(r=1-a)*t.r+.5,i.g=255&a*i.g+r*t.g+.5,i.b=255&a*i.b+r*t.b+.5,i.a=e*i.a+(1-e)*t.a,this.rgb=i),this}},{key:"interpolate",value:function(t,e){return t&&(this._rgb=(i=this._rgb,t=t._rgb,e=e,n=ne(Bt(i.r)),a=ne(Bt(i.g)),r=ne(Bt(i.b)),{r:Vt(ie(n+e*(ne(Bt(t.r))-n))),g:Vt(ie(a+e*(ne(Bt(t.g))-a))),b:Vt(ie(r+e*(ne(Bt(t.b))-r))),a:i.a+e*(t.a-i.a)})),this;var i,n,a,r}},{key:"clone",value:function(){return new a(this.rgb)}},{key:"alpha",value:function(t){return this._rgb.a=Vt(t),this}},{key:"clearer",value:function(t){return this._rgb.a*=1-t,this}},{key:"greyscale",value:function(){var t=this._rgb,e=Rt(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}},{key:"opaquer",value:function(t){return this._rgb.a*=1+t,this}},{key:"negate",value:function(){var t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}},{key:"lighten",value:function(t){return re(this._rgb,2,t),this}},{key:"darken",value:function(t){return re(this._rgb,2,-t),this}},{key:"saturate",value:function(t){return re(this._rgb,1,t),this}},{key:"desaturate",value:function(t){return re(this._rgb,1,-t),this}},{key:"rotate",value:function(t){return e=this._rgb,t=t,(i=Kt(e))[0]=Jt(i[0]+t),i=Zt(i),e.r=i[0],e.g=i[1],e.b=i[2],this;var e,i}}])}();function ue(t){return!(!t||"object"!=_typeof(t)||"[object CanvasPattern]"!==(t=t.toString())&&"[object CanvasGradient]"!==t)}function ce(t){return ue(t)?t:new he(t)}function de(t){return ue(t)?t:new he(t).saturate(.5).darken(.1).hexString()}var fe=["x","y","borderWidth","radius","tension"],pe=["color","borderColor","backgroundColor"],ge=new Map;function ve(t,e,i){return i=i||{},n=(e=e)+JSON.stringify(i),(a=ge.get(n))||(a=new Intl.NumberFormat(e,i),ge.set(n,a)),a.format(t);var n,a}var ye={values:function(t){return B(t)?t:""+t},numeric:function(t,e,i){var n,a,r,o;return 0===t?"0":(n=this.chart.options.locale,o=t,1<i.length&&(((r=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value)))<1e-4||1e15<r)&&(a="scientific"),r=t,i=3<i.length?i[2].value-i[1].value:i[1].value-i[0].value,o=i=1<=Math.abs(i)&&r!==Math.floor(r)?r-Math.floor(r):i),r=st(Math.abs(o)),o={notation:a,minimumFractionDigits:i=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),maximumFractionDigits:i},Object.assign(o,this.options.ticks.format),ve(t,n,o))},logarithmic:function(t,e,i){var n;return 0===t?"0":(n=i[e].significand||t/Math.pow(10,Math.floor(st(t))),[1,2,3,5,10,15].includes(n)||e>.8*i.length?ye.numeric.call(this,t,e,i):"")}},me={formatters:ye},be=Object.create(null),_e=Object.create(null);function xe(t,e){if(e)for(var i=e.split("."),n=0,a=i.length;n<a;++n){var r=i[n];t=t[r]||(t[r]=Object.create(null))}return t}function ke(t,e,i){return"string"==typeof e?$(xe(t,e),i):$(xe(t,""),e)}var I=new(function(){return _createClass(function t(e,i){_classCallCheck(this,t),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(t){return t.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(t,e){return de(e.backgroundColor)},this.hoverBorderColor=function(t,e){return de(e.borderColor)},this.hoverColor=function(t,e){return de(e.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(i)},[{key:"set",value:function(t,e){return ke(this,t,e)}},{key:"get",value:function(t){return xe(this,t)}},{key:"describe",value:function(t,e){return ke(_e,t,e)}},{key:"override",value:function(t,e){return ke(be,t,e)}},{key:"route",value:function(t,e,i,n){var t=xe(this,t),a=xe(this,i),r="_"+e;Object.defineProperties(t,_defineProperty(_defineProperty({},r,{value:t[e],writable:!0}),e,{enumerable:!0,get:function(){var t=this[r],e=a[n];return H(t)?Object.assign({},e,t):z(t,e)},set:function(t){this[r]=t}}))}},{key:"apply",value:function(t){var e=this;t.forEach(function(t){return t(e)})}}])}())({_scriptable:function(t){return!t.startsWith("on")},_indexable:function(t){return"events"!==t},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(t){return"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}}),t.set("animations",{colors:{type:"color",properties:pe},numbers:{type:"number",properties:fe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(t){return 0|t}}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(t,e){return e.lineWidth},tickColor:function(t,e){return e.color},offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:me.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:function(t){return!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t},_indexable:function(t){return"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:function(t){return"backdropPadding"!==t&&"callback"!==t},_indexable:function(t){return"backdropPadding"!==t}})}]);function we(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Me(t){t=t.parentNode;return t=t&&"[object ShadowRoot]"===t.toString()?t.host:t}function Pe(t,e,i){var n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}function Se(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)}function Ce(t,e){return Se(t).getPropertyValue(e)}var Oe=["top","right","bottom","left"];function De(t,e,i){var n={};i=i?"-"+i:"";for(var a=0;a<4;a++){var r=Oe[a];n[r]=parseFloat(t[e+"-"+r+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Ae(t,e){var i,n,a,r,o,s,l,h,u,c,d,f,p;return"native"in t?t:(i=e.canvas,n=e.currentDevicePixelRatio,a="border-box"===(o=Se(i)).boxSizing,r=De(o,"padding"),o=De(o,"border","width"),s=i,c=(c=t.touches)&&c.length?c[0]:t,d=c.offsetX,p=!1,u=f=c.offsetY,t=t.target,!(0<d||0<u)||t&&t.shadowRoot?(u=s.getBoundingClientRect(),l=c.clientX-u.left,h=c.clientY-u.top,p=!0):(l=d,h=f),s=(t={x:l,y:h,box:p}).y,u=r.left+((c=t.box)&&o.left),d=r.top+(c&&o.top),f=e.width,p=e.height,a&&(f-=r.width+o.width,p-=r.height+o.height),{x:Math.round((t.x-u)/f*i.width/n),y:Math.round((s-d)/p*i.height/n)})}function Te(t){return Math.round(10*t)/10}function Ie(t,e,i,n){var a,r,o,s,l=Se(t),h=De(l,"margin"),u=Pe(l.maxWidth,t,"clientWidth")||nt,c=Pe(l.maxHeight,t,"clientHeight")||nt,d=(t=t,a=i,void 0!==(s=e)&&void 0!==a||((p=t&&Me(t))?(r=p.getBoundingClientRect(),d=De(f=Se(p),"border","width"),o=De(f,"padding"),s=r.width-o.width-d.width,a=r.height-o.height-d.height,r=Pe(f.maxWidth,p,"clientWidth"),o=Pe(f.maxHeight,p,"clientHeight")):(s=t.clientWidth,a=t.clientHeight)),{width:s,height:a,maxWidth:r||nt,maxHeight:o||nt}),f=d.width,p=d.height;return"content-box"===l.boxSizing&&(t=De(l,"border","width"),f-=(s=De(l,"padding")).width+t.width,p-=s.height+t.height),f=Math.max(0,f-h.width),p=Math.max(0,n?f/n:p-h.height),f=Te(Math.min(f,u,d.maxWidth)),p=Te(Math.min(p,c,d.maxHeight)),f&&!p&&(p=Te(f/2)),(void 0!==e||void 0!==i)&&n&&d.height&&d.height<p&&(p=d.height,f=Te(Math.floor(p*n))),{width:f,height:p}}function Le(t,e,i){var e=e||1,n=Math.floor(t.height*e),a=Math.floor(t.width*e),r=(t.height=Math.floor(t.height),t.width=Math.floor(t.width),t.canvas);return r.style&&(i||!r.style.height&&!r.style.width)&&(r.style.height="".concat(t.height,"px"),r.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==e||r.height!==n||r.width!==a)&&(t.currentDevicePixelRatio=e,r.height=n,r.width=a,t.ctx.setTransform(e,0,0,e,0,0),!0)}var Ee=function(){var t=!1;try{var e={get passive(){return!(t=!0)}};we()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(t){}return t}();function Re(t,e){t=Ce(t,e),e=t&&t.match(/^(\d+)(\.\d+)?px$/);return e?+e[1]:void 0}function Fe(t){return!t||D(t.size)||D(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ze(t,e,i,n,a){var r=e[a];return r||(r=e[a]=t.measureText(a).width,i.push(a)),n=n<r?r:n}function Ve(t,e,i,n){for(var a,r,o,s,l=(n=n||{}).data=n.data||{},h=n.garbageCollect=n.garbageCollect||[],u=(n.font!==e&&(l=n.data={},h=n.garbageCollect=[],n.font=e),t.save(),t.font=e,0),c=i.length,d=0;d<c;d++)if(null==(o=i[d])||B(o)){if(B(o))for(a=0,r=o.length;a<r;a++)null==(s=o[a])||B(s)||(u=ze(t,l,h,u,s))}else u=ze(t,l,h,u,o);t.restore();var f=h.length/2;if(f>i.length){for(d=0;d<f;d++)delete l[h[d]];h.splice(0,f)}return u}function Be(t,e,i){t=t.currentDevicePixelRatio,i=0!==i?Math.max(i/2,.5):0;return Math.round((e-i)*t)/t+i}function He(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function je(t,e,i,n){We(t,e,i,n,null)}function We(t,e,i,n,a){var r,o,s,l,h,u,c,d,f=e.pointStyle,p=e.rotation,g=e.radius,v=(p||0)*at;if(f&&"object"==_typeof(f)&&("[object HTMLImageElement]"===(r=f.toString())||"[object HTMLCanvasElement]"===r))t.save(),t.translate(i,n),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();else if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:a?t.ellipse(i,n,a/2,g,0,0,k):t.arc(i,n,g,0,k),t.closePath();break;case"triangle":u=a?a/2:g,t.moveTo(i+Math.sin(v)*u,n-Math.cos(v)*g),v+=ot,t.lineTo(i+Math.sin(v)*u,n-Math.cos(v)*g),v+=ot,t.lineTo(i+Math.sin(v)*u,n-Math.cos(v)*g),t.closePath();break;case"rectRounded":l=g-(h=.516*g),o=Math.cos(v+rt)*l,c=Math.cos(v+rt)*(a?a/2-h:l),s=Math.sin(v+rt)*l,d=Math.sin(v+rt)*(a?a/2-h:l),t.arc(i-c,n-s,h,v-x,v-w),t.arc(i+d,n-o,h,v-w,v),t.arc(i+c,n+s,h,v,v+w),t.arc(i-d,n+o,h,v+w,v+x),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,t.rect(i-(u=a?a/2:l),n-l,2*u,2*l);break}v+=rt;case"rectRot":c=Math.cos(v)*(a?a/2:g),o=Math.cos(v)*g,s=Math.sin(v)*g,d=Math.sin(v)*(a?a/2:g),t.moveTo(i-c,n-s),t.lineTo(i+d,n-o),t.lineTo(i+c,n+s),t.lineTo(i-d,n+o),t.closePath();break;case"crossRot":v+=rt;case"cross":c=Math.cos(v)*(a?a/2:g),o=Math.cos(v)*g,s=Math.sin(v)*g,d=Math.sin(v)*(a?a/2:g),t.moveTo(i-c,n-s),t.lineTo(i+c,n+s),t.moveTo(i+d,n-o),t.lineTo(i-d,n+o);break;case"star":c=Math.cos(v)*(a?a/2:g),o=Math.cos(v)*g,s=Math.sin(v)*g,d=Math.sin(v)*(a?a/2:g),t.moveTo(i-c,n-s),t.lineTo(i+c,n+s),t.moveTo(i+d,n-o),t.lineTo(i-d,n+o),v+=rt,c=Math.cos(v)*(a?a/2:g),o=Math.cos(v)*g,s=Math.sin(v)*g,d=Math.sin(v)*(a?a/2:g),t.moveTo(i-c,n-s),t.lineTo(i+c,n+s),t.moveTo(i+d,n-o),t.lineTo(i-d,n+o);break;case"line":o=a?a/2:Math.cos(v)*g,s=Math.sin(v)*g,t.moveTo(i-o,n-s),t.lineTo(i+o,n+s);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(v)*(a?a/2:g),n+Math.sin(v)*g);break;case!1:t.closePath()}t.fill(),0<e.borderWidth&&t.stroke()}}function S(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Ne(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ye(t){t.restore()}function Ue(t,e,i,n,a){if(!e)return t.lineTo(i.x,i.y);var r;"middle"===a?(r=(e.x+i.x)/2,t.lineTo(r,e.y),t.lineTo(r,i.y)):"after"===a!=!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y),t.lineTo(i.x,i.y)}function $e(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function Xe(t,e,i,n,a){var r,o,s,l,h,u,c,d,f,p=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},g=B(e)?e:[e],v=0<p.strokeWidth&&""!==p.strokeColor;for(t.save(),t.font=a.string,e=t,(f=p).translation&&e.translate(f.translation[0],f.translation[1]),D(f.rotation)||e.rotate(f.rotation),f.color&&(e.fillStyle=f.color),f.textAlign&&(e.textAlign=f.textAlign),f.textBaseline&&(e.textBaseline=f.textBaseline),r=0;r<g.length;++r)o=g[r],p.backdrop&&(u=t,c=p.backdrop,d=void 0,d=u.fillStyle,u.fillStyle=c.color,u.fillRect(c.left,c.top,c.width,c.height),u.fillStyle=d),v&&(p.strokeColor&&(t.strokeStyle=p.strokeColor),D(p.strokeWidth)||(t.lineWidth=p.strokeWidth),t.strokeText(o,i,n,p.maxWidth)),t.fillText(o,i,n,p.maxWidth),c=t,u=i,d=n,o=o,h=l=void 0,((s=p).strikethrough||s.underline)&&(l=u-(o=c.measureText(o)).actualBoundingBoxLeft,u=u+o.actualBoundingBoxRight,h=d+o.actualBoundingBoxDescent,d=s.strikethrough?(d-o.actualBoundingBoxAscent+h)/2:h,c.strokeStyle=c.fillStyle,c.beginPath(),c.lineWidth=s.decorationWidth||2,c.moveTo(l,d),c.lineTo(u,d),c.stroke()),n+=Number(a.lineHeight);t.restore()}function Ge(t,e){var i=e.x,n=e.y,a=e.w,r=e.h,e=e.radius;t.arc(i+e.topLeft,n+e.topLeft,e.topLeft,1.5*x,x,!0),t.lineTo(i,n+r-e.bottomLeft),t.arc(i+e.bottomLeft,n+r-e.bottomLeft,e.bottomLeft,x,w,!0),t.lineTo(i+a-e.bottomRight,n+r),t.arc(i+a-e.bottomRight,n+r-e.bottomRight,e.bottomRight,w,0,!0),t.lineTo(i+a,n+e.topRight),t.arc(i+a-e.topRight,n+e.topRight,e.topRight,0,-w,!0),t.lineTo(i+e.topLeft,n)}function Ke(h){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[""],t=2<arguments.length?arguments[2]:void 0,e=3<arguments.length?arguments[3]:void 0,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:function(){return h[0]},i=t||h,t=(void 0===e&&(e=ri("_fallback",h)),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},Symbol.toStringTag,"Object"),"_cacheable",!0),"_scopes",h),"_rootScopes",i),"_fallback",e),"_getTarget",a),"override",function(t){return Ke([t].concat(_toConsumableArray(h)),u,i,e)}));return new Proxy(t,{deleteProperty:function(t,e){return delete t[e],delete t._keys,delete h[0][e],!0},get:function(s,l){return ti(s,l,function(){var t,e=l,i=h,n=s,a=_createForOfIteratorHelper(u);try{for(a.s();!(t=a.n()).done;){var r,o=t.value;if(void 0!==(r=ri(Je(o,e),i)))return Qe(e,r)?ni(i,n,e,r):r}}catch(t){a.e(t)}finally{a.f()}})},getOwnPropertyDescriptor:function(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf:function(){return Reflect.getPrototypeOf(h[0])},has:function(t,e){return oi(t).includes(e)},ownKeys:oi,set:function(t,e,i){var n=t._storage||(t._storage=a());return t[e]=n[e]=i,delete t._keys,!0}})}function qe(n,e,i,a){var t={_cacheable:!1,_proxy:n,_context:e,_subProxy:i,_stack:new Set,_descriptors:Ze(n,a),setContext:function(t){return qe(n,t,i,a)},override:function(t){return qe(n.override(t),e,i,a)}};return new Proxy(t,{deleteProperty:function(t,e){return delete t[e],delete n[e],!0},get:function(o,s,l){return ti(o,s,function(){return t=s,e=l,i=(d=o)._proxy,n=d._context,a=d._subProxy,r=d._descriptors,i=i[t],B(i=tt(i)&&r.isScriptable(t)?function(t,e,i){var n=d._proxy,a=d._context,r=d._subProxy,o=d._stack;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);e=e(a,r||i);return o.delete(t),e=Qe(t,e)?ni(n._scopes,n,t,e):e}(t,i,e):i)&&i.length&&(i=function(t,e,i){var n=d._proxy,a=d._context,r=d._subProxy,o=d._descriptors;if(void 0!==a.index&&i(t))return e[a.index%e.length];if(H(e[0])){var s,l=e,h=n._scopes.filter(function(t){return t!==l}),u=(e=[],_createForOfIteratorHelper(l));try{for(u.s();!(s=u.n()).done;){var c=ni(h,n,t,s.value);e.push(qe(c,a,r&&r[t],o))}}catch(t){u.e(t)}finally{u.f()}}return e}(t,i,r.isIndexable)),i=Qe(t,i)?qe(i,n,a&&a[t],r):i;var d,t,e,i,n,a,r})},getOwnPropertyDescriptor:function(t,e){return t._descriptors.allKeys?Reflect.has(n,e)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,e)},getPrototypeOf:function(){return Reflect.getPrototypeOf(n)},has:function(t,e){return Reflect.has(n,e)},ownKeys:function(){return Reflect.ownKeys(n)},set:function(t,e,i){return n[e]=i,delete t[e],!0}})}function Ze(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},i=t._scriptable,n=void 0===i?e.scriptable:i,i=t._indexable,a=void 0===i?e.indexable:i,i=t._allKeys;return{allKeys:void 0===i?e.allKeys:i,scriptable:n,indexable:a,isScriptable:tt(n)?n:function(){return n},isIndexable:tt(a)?a:function(){return a}}}function Je(t,e){return t?t+Z(e):e}function Qe(t,e){return H(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object)}function ti(t,e,i){return Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e?t[e]:(i=i(),t[e]=i)}function ei(t,e,i){return tt(t)?t(e,i):t}var ii=function(t,e){return!0===t?e:"string"==typeof t?p(e,t):void 0};function ni(t,n,a,r){var e=n._rootScopes,i=ei(n._fallback,a,r),t=[].concat(_toConsumableArray(t),_toConsumableArray(e)),o=new Set,s=(o.add(r),ai(o,t,a,i||a,r));return null!==s&&(void 0===i||i===a||null!==ai(o,t,i,s,r))&&Ke(Array.from(o),[""],e,i,function(){return t=a,e=r,i=n._getTarget(),t in i||(i[t]={}),B(i=i[t])&&H(e)?e:i||{};var t,e,i})}function ai(t,e,i,n,a){for(;i;)i=function(t,e,i,n,a){var r,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var s=r.value,l=ii(i,s);if(l){t.add(l);var h=ei(l._fallback,i,a);if(void 0!==h&&h!==i&&h!==n)return h}else if(!1===l&&void 0!==n&&i!==n)return null}}catch(t){o.e(t)}finally{o.f()}return!1}(t,e,i,n,a);return i}function ri(t,e){var i,n=_createForOfIteratorHelper(e);try{for(n.s();!(i=n.n()).done;){var a=i.value;if(a){var r=a[t];if(void 0!==r)return r}}}catch(t){n.e(t)}finally{n.f()}}function oi(t){return t._keys||(t._keys=function(t){var e,i=new Set,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var a,r=e.value,o=_createForOfIteratorHelper(Object.keys(r).filter(function(t){return!t.startsWith("_")}));try{for(o.s();!(a=o.n()).done;){var s=a.value;i.add(s)}}catch(t){o.e(t)}finally{o.f()}}}catch(t){n.e(t)}finally{n.f()}return Array.from(i)}(t._scopes))}function si(t,e,i,n){for(var a,r,o=t.iScale,t=this._parsing.key,s=void 0===t?"r":t,l=new Array(n),h=0,u=n;h<u;++h)r=e[a=h+i],l[h]={r:o.parse(p(r,s),a)};return l}var li=Number.EPSILON||1e-14,hi=function(t,e){return e<t.length&&!t[e].skip&&t[e]},ui=function(t){return"x"===t?"y":"x"};function ci(t,e,i,n){var t=t.skip?e:t,a=e,e=i.skip?e:i,i=yt(a,t),r=yt(e,a),o=i/(i+r),i=r/(i+r),r=n*(isNaN(o)?0:o),o=n*(isNaN(i)?0:i);return{previous:{x:a.x-r*(e.x-t.x),y:a.y-r*(e.y-t.y)},next:{x:a.x+o*(e.x-t.x),y:a.y+o*(e.y-t.y)}}}function di(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"x",i=ui(e),n=t.length,a=Array(n).fill(0),r=Array(n),o=hi(t,0),s=0;s<n;++s){var l,h=u,u=o,o=hi(t,s+1);u&&(o&&(l=o[e]-u[e],a[s]=0!=l?(o[i]-u[i])/l:0),r[s]=h?o?_(a[s-1])!==_(a[s])?0:(a[s-1]+a[s])/2:a[s-1]:a[s])}for(var c,d,f,p=t,g=a,v=r,y=p.length,m=hi(p,0),b=0;b<y-1;++b)f=m,m=hi(p,b+1),f&&m&&(lt(g[b],0,li)?v[b]=v[b+1]=0:(f=v[b]/g[b],c=v[b+1]/g[b],(d=Math.pow(f,2)+Math.pow(c,2))<=9||(d=3/Math.sqrt(d),v[b]=f*d*g[b],v[b+1]=c*d*g[b])));(function(t,e,i){for(var n,a=2<arguments.length&&void 0!==i?i:"x",r=ui(a),o=t.length,s=hi(t,0),l=0;l<o;++l){var h,u,c=d,d=s,s=hi(t,l+1);d&&(h=d[a],u=d[r],c&&(n=(h-c[a])/3,d["cp1".concat(a)]=h-n,d["cp1".concat(r)]=u-n*e[l]),s&&(n=(s[a]-h)/3,d["cp2".concat(a)]=h+n,d["cp2".concat(r)]=u+n*e[l]))}})(t,r,e)}function fi(t,e,i){return Math.max(Math.min(t,i),e)}function pi(t,e,i,n,a){var r,o;if(e.spanGaps&&(t=t.filter(function(t){return!t.skip})),"monotone"===e.cubicInterpolationMode)di(t,a);else for(var s=n?t[t.length-1]:t[0],l=0,h=t.length;l<h;++l)o=ci(s,r=t[l],t[Math.min(l+1,h-(n?0:1))%h],e.tension),r.cp1x=o.previous.x,r.cp1y=o.previous.y,r.cp2x=o.next.x,r.cp2y=o.next.y,s=r;if(e.capBezierPoints)for(var u,c,d,f=t,p=i,g=S(f[0],p),v=0,y=f.length;v<y;++v)d=c,c=g,g=v<y-1&&S(f[v+1],p),c&&(u=f[v],d&&(u.cp1x=fi(u.cp1x,p.left,p.right),u.cp1y=fi(u.cp1y,p.top,p.bottom)),g)&&(u.cp2x=fi(u.cp2x,p.left,p.right),u.cp2y=fi(u.cp2y,p.top,p.bottom))}function gi(t){return 0===t||1===t}function vi(t,e,i){return-Math.pow(2,10*--t)*Math.sin((t-e)*k/i)}function yi(t,e,i){return Math.pow(2,-10*t)*Math.sin((t-e)*k/i)+1}var mi={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-(--t*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return--t*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*w)},easeOutSine:function(t){return Math.sin(t*w)},easeInOutSine:function(t){return-.5*(Math.cos(x*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return gi(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1)))},easeInCirc:function(t){return 1<=t?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1- --t*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){return gi(t)?t:vi(t,.075,.3)},easeOutElastic:function(t){return gi(t)?t:yi(t,.075,.3)},easeInOutElastic:function(t){return gi(t)?t:t<.5?.5*vi(2*t,.1125,.45):.5+.5*yi(2*t-1,.1125,.45)},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return--t*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-mi.easeOutBounce(1-t)},easeOutBounce:function(t){var e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*mi.easeInBounce(2*t):.5*mi.easeOutBounce(2*t-1)+.5}};function bi(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function _i(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:("middle"===n?i<.5?t:e:"after"===n?i<1?t:e:0<i?e:t).y}}function xi(t,e,i,n){var a={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},t=bi(t,a,i),a=bi(a,r,i),r=bi(r,e,i),e=bi(t,a,i),t=bi(a,r,i);return bi(e,t,i)}var ki=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,wi=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Mi(t,e){var i=(""+t).match(ki);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}function Pi(t){return+t||0}function Si(e,i){var t,n={},a=H(i),r=a?Object.keys(i):i,o=H(e)?a?function(t){return z(e[t],e[i[t]])}:function(t){return e[t]}:function(){return e},s=_createForOfIteratorHelper(r);try{for(s.s();!(t=s.n()).done;){var l=t.value;n[l]=Pi(o(l))}}catch(t){s.e(t)}finally{s.f()}return n}function Ci(t){return Si(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Oi(t){return Si(t,["topLeft","topRight","bottomLeft","bottomRight"])}function W(t){t=Ci(t);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function L(t,e){e=e||I.font;var i=z((t=t||{}).size,e.size),n=("string"==typeof i&&(i=parseInt(i,10)),z(t.style,e.style)),i=(n&&!(""+n).match(wi)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0),{family:z(t.family,e.family),lineHeight:Mi(z(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:z(t.weight,e.weight),string:""});return i.string=Fe(i),i}function Di(t,e,i,n){for(var a,r=!0,o=0,s=t.length;o<s;++o)if(void 0!==(a=t[o])&&(void 0!==e&&"function"==typeof a&&(a=a(e),r=!1),void 0!==i&&B(a)&&(a=a[i%a.length],r=!1),void 0!==a))return n&&!r&&(n.cacheable=!1),a}function Ai(t,e,i){function n(t,e){return i&&0===t?0:t+e}var a=t.min,t=t.max,e=F(e,(t-a)/2);return{min:n(a,-Math.abs(e)),max:n(t,e)}}function Ti(t,e){return Object.assign(Object.create(t),e)}function Ii(t,e,i){return t?(n=e,a=i,{x:function(t){return n+n+a-t},setWidth:function(t){a=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}):{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}};var n,a}function Li(t,e){var i,n;"ltr"!==e&&"rtl"!==e||(n=[(i=t.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Ei(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Ri(t){return"angle"===t?{between:bt,compare:mt,normalize:P}:{between:c,compare:function(t,e){return t-e},normalize:function(t){return t}}}function Fi(t){var e=t.start,i=t.end,n=t.count;return{start:e%n,end:i%n,loop:t.loop&&(i-e+1)%n==0,style:t.style}}function zi(t,e,f){if(!f)return[t];for(var i,n,a,r=f.property,o=f.start,s=f.end,l=e.length,h=Ri(r),u=h.compare,c=h.between,d=h.normalize,h=function(t,e){var i,n,a=f.property,r=f.start,o=f.end,s=Ri(a),l=s.between,h=s.normalize,u=e.length,c=t.start,d=t.end,s=t.loop;if(s){for(c+=u,d+=u,i=0,n=u;i<n&&l(h(e[c%u][a]),r,o);++i)c--,d--;c%=u,d%=u}return d<c&&(d+=u),{start:c,end:d,loop:s,style:t.style}}(t,e),t=h.start,p=h.end,g=h.loop,v=h.style,y=[],m=null,b=t,_=t;b<=p;++b)(i=e[b%l]).skip||(i=d(i[r]))!==n&&(a=c(i,o,s),null===(m=null===m&&(a||c(o,n,i)&&0!==u(o,n))?0===u(i,o)?b:_:m)||a&&0!==u(s,i)&&!c(s,n,i)||(y.push(Fi({start:m,end:b,loop:g,count:l,style:v})),m=null),_=b,n=i);return null!==m&&y.push(Fi({start:m,end:p,loop:g,count:l,style:v})),y}function Vi(t,e){for(var i=[],n=t.segments,a=0;a<n.length;a++){var r=zi(n[a],t.points,e);r.length&&i.push.apply(i,_toConsumableArray(r))}return i}function Bi(t,e){var i,n,a,r=t.points,o=t.options.spanGaps,s=r.length;return s?(n=(a=function(t,e,i){var n=0,a=e-1;if(i&&!o)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,i&&(a+=n);n<a&&t[a%e].skip;)a--;return{start:n,end:a%=e}}(r,s,i=!!t._loop)).start,a=a.end,Hi(t,!0===o?[{start:n,end:a,loop:i}]:function(t,e,i,n){for(var a=t.length,r=[],o=e,s=t[e],l=e+1;l<=i;++l){var h=t[l%a];h.skip||h.stop?s.skip||(r.push({start:e%a,end:(l-1)%a,loop:n=!1}),e=o=h.stop?l:null):(o=l,s.skip&&(e=l)),s=h}return null!==o&&r.push({start:e%a,end:o%a,loop:n}),r}(r,n,a<n?a+s:a,!!t._fullLoop&&0===n&&a===s-1),r,e)):[]}function Hi(t,e,i,n){if(n&&n.setContext&&i){var a=e,r=i,o=n,s=t._chart.getContext(),i=ji(t.options),l=t._datasetIndex,h=t.options.spanGaps,u=r.length,c=[],d=i,f=m=a[0].start;function p(t,e,i,n){var a=h?-1:1;if(t!==e){for(t+=u;r[t%u].skip;)t-=a;for(;r[e%u].skip;)e+=a;t%u!=e%u&&(c.push({start:t%u,end:e%u,loop:i,style:n}),d=n,m=e%u)}}var g,v=_createForOfIteratorHelper(a);try{for(v.s();!(g=v.n()).done;){for(var y=g.value,m=h?m:y.start,b=r[m%u],f=m+1;f<=y.end;f++){var _,x=r[f%u];(function(t,e){var i,n;return e&&(i=[],n=function(t,e){return ue(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e},JSON.stringify(t,n)!==JSON.stringify(e,n))})(_=ji(o.setContext(Ti(s,{type:"segment",p0:b,p1:x,p0DataIndex:(f-1)%u,p1DataIndex:f%u,datasetIndex:l}))),d)&&p(m,f-1,y.loop,d),b=x,d=_}m<f-1&&p(m,f-1,y.loop,d)}}catch(t){v.e(t)}finally{v.f()}return c}return e}function ji(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}var Wi=Object.freeze({__proto__:null,HALF_PI:w,INFINITY:nt,PI:x,PITAU:it,QUARTER_PI:rt,RAD_PER_DEG:at,TAU:k,TWO_THIRDS_PI:ot,_addGrace:Ai,_alignPixel:Be,_alignStartEnd:T,_angleBetween:bt,_angleDiff:mt,_arrayUnique:Ct,_attachContext:qe,_bezierCurveTo:$e,_bezierInterpolation:xi,_boundSegment:zi,_boundSegments:Vi,_capitalize:Z,_computeSegments:Bi,_createResolver:Ke,_decimalPlaces:gt,_deprecated:function(t,e,i,n){void 0!==e&&console.warn(t+': "'+i+'" is deprecated. Please use "'+n+'" instead')},_descriptors:Ze,_elementsEqual:V,_factorize:ut,_filterBetween:wt,_getParentNode:Me,_getStartAndCountOfVisiblePoints:Lt,_int16Range:_t,_isBetween:c,_isClickEvent:et,_isDomSupported:we,_isPointInArea:S,_limitValue:v,_longestText:Ve,_lookup:xt,_lookupByKey:y,_measureText:ze,_merger:U,_mergerIf:G,_normalizeAngle:P,_parseObjectDataRadialScale:si,_pointInLine:bi,_readValueToProps:Si,_rlookupByKey:kt,_scaleRangesChanged:Et,_setMinAndMaxByKey:ft,_splitKey:q,_steppedInterpolation:_i,_steppedLineTo:Ue,_textX:It,_toLeftRightCenter:Tt,_updateBezierControlPoints:pi,addRoundedRectPath:Ge,almostEquals:lt,almostWhole:dt,callback:l,clearCanvas:He,clipArea:Ne,clone:N,color:ce,createContext:Ti,debounce:At,defined:J,distanceBetweenPoints:yt,drawPoint:je,drawPointLegend:We,each:M,easingEffects:mi,finiteOrDefault:d,fontString:function(t,e,i){return e+" "+t+"px "+i},formatNumber:ve,getAngleFromPoint:vt,getHoverColor:de,getMaximumSize:Ie,getRelativePosition:Ae,getRtlAdapter:Ii,getStyle:Ce,isArray:B,isFinite:g,isFunction:tt,isNullOrUndef:D,isNumber:ct,isObject:H,isPatternOrGradient:ue,listenArrayEvents:Pt,log10:st,merge:$,mergeIf:X,niceNum:ht,noop:t,overrideTextDirection:Li,readUsedSize:Re,renderText:Xe,requestAnimFrame:Ot,resolve:Di,resolveObjectKey:p,restoreTextDirection:Ei,retinaScale:Le,setsEqual:Q,sign:_,splineCurve:ci,splineCurveMonotone:di,supportsEventListenerOptions:Ee,throttled:Dt,toDegrees:pt,toDimension:F,toFont:L,toFontString:Fe,toLineHeight:Mi,toPadding:W,toPercentage:R,toRadians:j,toTRBL:Ci,toTRBLCorners:Oi,uid:E,unclipArea:Ye,unlistenArrayEvents:St,valueOrDefault:z});function Ni(t,e,i,n,a){for(var r=t.getSortedVisibleDatasetMetas(),o=i[e],s=0,l=r.length;s<l;++s)for(var h=r[s],u=h.index,c=h.data,h=function(t,e,i,n){var a=t.controller,r=t.data;if((o=a._cachedMeta.iScale)&&e===o.axis&&"r"!==e&&t._sorted&&r.length){t=o._reversePixels?kt:y;if(!n)return t(r,e,i);if(a._sharedOptions){var o=r[0],n="function"==typeof o.getRange&&o.getRange(e);if(n)return a=t(r,e,i-n),o=t(r,e,i+n),{lo:a.lo,hi:o.hi}}}return{lo:0,hi:r.length-1}}(r[s],e,o,a),d=h.lo,f=h.hi,p=d;p<=f;++p){var g=c[p];g.skip||n(g,u,p)}}function Yi(n,a,t,r,o){var s=[];return(o||n.isPointInArea(a))&&Ni(n,t,a,function(t,e,i){(o||S(t,n.chartArea,0))&&t.inRange(a.x,a.y,r)&&s.push({element:t,datasetIndex:e,index:i})},!0),s}function Ui(t,e,i,n,a,r){return r||t.isPointInArea(e)?"r"!==i||n?(h=t,u=e,c=n,d=a,f=r,v=[],p=-1!==(r=n=i).indexOf("x"),g=-1!==r.indexOf("y"),y=function(t,e){var i=p?Math.abs(t.x-e.x):0,t=g?Math.abs(t.y-e.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(t,2))},m=Number.POSITIVE_INFINITY,Ni(h,n,u,function(t,e,i){var n,a=t.inRange(u.x,u.y,d);(!c||a)&&(n=t.getCenterPoint(d),f||h.isPointInArea(n)||a)&&((a=y(u,n))<m?(v=[{element:t,datasetIndex:e,index:i}],m=a):a===m&&v.push({element:t,datasetIndex:e,index:i}))}),v):(s=a,l=[],Ni(t,i,o=e,function(t,e,i){var n=t.getProps(["startAngle","endAngle"],s),a=n.startAngle,n=n.endAngle;bt(vt(t,{x:o.x,y:o.y}).angle,a,n)&&l.push({element:t,datasetIndex:e,index:i})}),l):[];var o,s,l,h,u,c,d,f,p,g,v,y,m}function $i(t,n,a,e,r){var o=[],s="x"===a?"inXRange":"inYRange",l=!1;return Ni(t,a,n,function(t,e,i){t[s](n[a],r)&&(o.push({element:t,datasetIndex:e,index:i}),l=l||t.inRange(n.x,n.y,r))}),e&&!l?[]:o}var Xi={evaluateInteractionItems:Ni,modes:{index:function(t,e,i,n){var e=Ae(e,t),a=i.axis||"x",r=i.includeInvisible||!1,o=i.intersect?Yi(t,e,a,n,r):Ui(t,e,a,!1,n,r),s=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(function(t){var e=o[0].index,i=t.data[e];i&&!i.skip&&s.push({element:i,datasetIndex:t.index,index:e})}),s):[]},dataset:function(t,e,i,n){var e=Ae(e,t),a=i.axis||"xy",r=i.includeInvisible||!1;if(0<(l=i.intersect?Yi(t,e,a,n,r):Ui(t,e,a,!1,n,r)).length)for(var o=l[0].datasetIndex,s=t.getDatasetMeta(o).data,l=[],h=0;h<s.length;++h)l.push({element:s[h],datasetIndex:o,index:h});return l},point:function(t,e,i,n){return Yi(t,Ae(e,t),i.axis||"xy",n,i.includeInvisible||!1)},nearest:function(t,e,i,n){return Ui(t,Ae(e,t),i.axis||"xy",i.intersect,n,i.includeInvisible||!1)},x:function(t,e,i,n){return $i(t,Ae(e,t),"x",i.intersect,n)},y:function(t,e,i,n){return $i(t,Ae(e,t),"y",i.intersect,n)}}},Gi=["left","top","right","bottom"];function Ki(t,e){return t.filter(function(t){return t.pos===e})}function qi(t,e){return t.filter(function(t){return-1===Gi.indexOf(t.pos)&&t.box.axis===e})}function Zi(t,n){return t.sort(function(t,e){var i=n?e:t,t=n?t:e;return i.weight===t.weight?i.index-t.index:i.weight-t.weight})}function Ji(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function Qi(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function tn(t,e,i,n){for(var a,r,o,s,l,h,u,c,d,f=[],p=0,g=t.length,v=0;p<g;++p){(r=(a=t[p]).box).update(a.width||e.w,a.height||e.h,function(t,e){var i,n=e.maxPadding;return i={left:0,top:0,right:0,bottom:0},(t?["left","right"]:["top","bottom"]).forEach(function(t){i[t]=Math.max(e[t],n[t])}),i}(a.horizontal,e));s=e,l=i,u=n,d=c=y=d=c=void 0,c=(h=a).pos,d=h.box,y=s.maxPadding,H(c)||(h.size&&(s[c]-=h.size),(u=u[h.stack]||{size:0,count:1}).size=Math.max(u.size,h.horizontal?d.height:d.width),h.size=u.size/u.count,s[c]+=h.size),d.getPadding&&Qi(y,d.getPadding()),u=Math.max(0,l.outerWidth-Ji(y,s,"left","right")),c=Math.max(0,l.outerHeight-Ji(y,s,"top","bottom")),d=u!==s.w,l=c!==s.h,s.w=u,s.h=c;var y=h.horizontal?{same:d,other:l}:{same:l,other:d};v|=y.same&&f.length,o=o||y.other,r.fullSize||f.push(a)}return v&&tn(f,e,i,n)||o}function en(t,e,i,n,a){t.top=i,t.left=e,t.right=e+n,t.bottom=i+a,t.width=n,t.height=a}function nn(t,e,i,n){var a,r=i.padding,o=e.x,s=e.y,l=_createForOfIteratorHelper(t);try{for(l.s();!(a=l.n()).done;){var h,u,c,d,f=a.value,p=f.box,g=n[f.stack]||{count:1,placed:0,weight:1},v=f.stackWeight/g.weight||1;f.horizontal?(h=e.w*v,u=g.size||p.height,J(g.start)&&(s=g.start),p.fullSize?en(p,r.left,s,i.outerWidth-r.right-r.left,u):en(p,e.left+g.placed,s,h,u),g.start=s,g.placed+=h,s=p.bottom):(c=e.h*v,d=g.size||p.width,J(g.start)&&(o=g.start),p.fullSize?en(p,o,r.top,d,i.outerHeight-r.bottom-r.top):en(p,o,e.top+g.placed,d,c),g.start=o,g.placed+=c,o=p.right)}}catch(t){l.e(t)}finally{l.f()}e.x=o,e.y=s}function an(t){return null===t||""===t}var a={addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(t){e.draw(t)}}]},t.boxes.push(e)},removeBox:function(t,e){e=t.boxes?t.boxes.indexOf(e):-1;-1!==e&&t.boxes.splice(e,1)},configure:function(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update:function(e,t,i,n){var a,r,o,s,l,h,u,c,d,f,p,g,v,y;function m(t){var e=Math.max(y[t]-v[t],0);return v[t]+=e,e}e&&(a=W(e.options.layout.padding),r=Math.max(t-a.width,0),o=Math.max(i-a.height,0),s=function(t){for(var e=[],i=0,n=(t||[]).length;i<n;++i){var a,r=a=t[i],o=r.position,r=r.options,s=r.stack,r=r.stackWeight,r=void 0===r?1:r;e.push({index:i,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:s&&o+s,stackWeight:r})}return e}(e.boxes),l=Zi(s.filter(function(t){return t.box.fullSize}),!0),h=Zi(Ki(s,"left"),!0),c=Zi(Ki(s,"right")),f=Zi(Ki(s,"top"),!0),g=Zi(Ki(s,"bottom")),u=qi(s,"x"),d=qi(s,"y"),s=(l={fullSize:l,leftAndTop:h.concat(f),rightAndBottom:c.concat(d).concat(g).concat(u),chartArea:Ki(s,"chartArea"),vertical:h.concat(c).concat(d),horizontal:f.concat(g).concat(u)}).vertical,h=l.horizontal,M(e.boxes,function(t){"function"==typeof t.beforeLayout&&t.beforeLayout()}),c=s.reduce(function(t,e){return e.box.options&&!1===e.box.options.display?t:t+1},0)||1,d=Object.freeze({outerWidth:t,outerHeight:i,padding:a,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/c,hBoxMaxHeight:o/2}),Qi(f=Object.assign({},a),W(n)),p=Object.assign({maxPadding:f,w:r,h:o,x:a.left,y:a.top},a),g=function(s,t){for(var e=function(){var t,e={},i=_createForOfIteratorHelper(s);try{for(i.s();!(t=i.n()).done;){var n,a=t.value,r=a.stack,o=a.stackWeight;r&&Gi.includes(a.pos)&&((n=e[r]||(e[r]={count:0,placed:0,weight:0,size:0})).count++,n.weight+=o)}}catch(t){i.e(t)}finally{i.f()}return e}(),i=t.vBoxMaxWidth,n=t.hBoxMaxHeight,a=0,r=s.length;a<r;++a){var o,l=(o=s[a]).box.fullSize,h=e[o.stack],h=h&&o.stackWeight/h.weight;o.horizontal?(o.width=h?h*i:l&&t.availableWidth,o.height=n):(o.width=i,o.height=h?h*n:l&&t.availableHeight)}return e}(s.concat(h),d),tn(l.fullSize,p,d,g),tn(s,p,d,g),tn(h,p,d,g)&&tn(s,p,d,g),y=(v=p).maxPadding,v.y+=m("top"),v.x+=m("left"),m("right"),m("bottom"),nn(l.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,nn(l.rightAndBottom,p,d,g),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},M(l.chartArea,function(t){t=t.box;Object.assign(t,e.chartArea),t.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}},rn=function(){return _createClass(function t(){_classCallCheck(this,t)},[{key:"acquireContext",value:function(t,e){}},{key:"releaseContext",value:function(t){return!1}},{key:"addEventListener",value:function(t,e,i){}},{key:"removeEventListener",value:function(t,e,i){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}},{key:"isAttached",value:function(t){return!0}},{key:"updateConfig",value:function(t){}}])}(),on=function(){function t(){return _classCallCheck(this,t),_callSuper(this,t,arguments)}return _inherits(t,rn),_createClass(t,[{key:"acquireContext",value:function(t){return t&&t.getContext&&t.getContext("2d")||null}},{key:"updateConfig",value:function(t){t.options.animation=!1}}])}(),sn="$chartjs",ln={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},hn=!!Ee&&{passive:!0};function un(t,e){var i,n=_createForOfIteratorHelper(t);try{for(n.s();!(i=n.n()).done;){var a=i.value;if(a===e||a.contains(e))return!0}}catch(t){n.e(t)}finally{n.f()}}function cn(t,e,r){var o=t.canvas,t=new MutationObserver(function(t){var e,i=!1,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;i=(i=i||un(a.addedNodes,o))&&!un(a.removedNodes,o)}}catch(t){n.e(t)}finally{n.f()}i&&r()});return t.observe(document,{childList:!0,subtree:!0}),t}function dn(t,e,r){var o=t.canvas,t=new MutationObserver(function(t){var e,i=!1,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;i=(i=i||un(a.removedNodes,o))&&!un(a.addedNodes,o)}}catch(t){n.e(t)}finally{n.f()}i&&r()});return t.observe(document,{childList:!0,subtree:!0}),t}var fn=new Map,pn=0;function gn(){var i=window.devicePixelRatio;i!==pn&&(pn=i,fn.forEach(function(t,e){e.currentDevicePixelRatio!==i&&t()}))}function vn(t,e,n){var i,a,r=t.canvas,o=r&&Me(r);if(o)return i=Dt(function(t,e){var i=o.clientWidth;n(t,e),i<o.clientWidth&&n()},window),(r=new ResizeObserver(function(t){var t=t[0],e=t.contentRect.width,t=t.contentRect.height;0===e&&0===t||i(e,t)})).observe(o),t=t,a=i,fn.size||window.addEventListener("resize",gn),fn.set(t,a),r}function yn(t,e,i){i&&i.disconnect(),"resize"===e&&(fn.delete(t),fn.size||window.removeEventListener("resize",gn))}function mn(r,t,o){var e=r.canvas,i=Dt(function(t){var e,i,n,a;null!==r.ctx&&o((e=r,i=ln[(t=t).type]||t.type,n=Ae(t,e),a=n.x,{type:i,chart:e,native:t,x:void 0!==a?a:null,y:void 0!==(n=n.y)?n:null}))},r);return e&&e.addEventListener(t,i,hn),i}var bn=function(){function t(){return _classCallCheck(this,t),_callSuper(this,t,arguments)}return _inherits(t,rn),_createClass(t,[{key:"acquireContext",value:function(t,e){var i,n,a,r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(e=e,i=(t=t).style,n=t.getAttribute("height"),a=t.getAttribute("width"),t[sn]={initial:{height:n,width:a,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",an(a)&&void 0!==(i=Re(t,"width"))&&(t.width=i),an(n)&&(""===t.style.height?t.height=t.width/(e||2):void 0!==(a=Re(t,"height"))&&(t.height=a)),r):null}},{key:"releaseContext",value:function(t){var i,e,n=t.canvas;return!!n[sn]&&(i=n[sn].initial,["height","width"].forEach(function(t){var e=i[t];D(e)?n.removeAttribute(t):n.setAttribute(t,e)}),e=i.style||{},Object.keys(e).forEach(function(t){n.style[t]=e[t]}),n.width=n.width,delete n[sn],!0)}},{key:"addEventListener",value:function(t,e,i){this.removeEventListener(t,e);var n=t.$proxies||(t.$proxies={}),a={attach:cn,detach:dn,resize:vn}[e]||mn;n[e]=a(t,e,i)}},{key:"removeEventListener",value:function(t,e){var i=t.$proxies||(t.$proxies={}),n=i[e];n&&(({attach:yn,detach:yn,resize:yn}[e]||function(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,hn)})(t,e,n),i[e]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:Ie},{key:"isAttached",value:function(t){t=t&&Me(t);return!(!t||!t.isConnected)}}])}();function _n(t){return!we()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?on:bn}var Ee=Object.freeze({__proto__:null,BasePlatform:rn,BasicPlatform:on,DomPlatform:bn,_detectPlatform:_n}),xn="transparent",kn={boolean:function(t,e,i){return.5<i?e:t},color:function(t,e,i){var t=ce(t||xn),n=t.valid&&ce(e||xn);return n&&n.valid?n.mix(t,i).hexString():e},number:function(t,e,i){return t+(e-t)*i}},wn=function(){return _createClass(function t(e,i,n,a){_classCallCheck(this,t);var r=i[n],r=(a=Di([e.to,a,r,e.from]),Di([e.from,r,a]));this._active=!0,this._fn=e.fn||kn[e.type||_typeof(r)],this._easing=mi[e.easing]||mi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=i,this._prop=n,this._from=r,this._to=a,this._promises=void 0},[{key:"active",value:function(){return this._active}},{key:"update",value:function(t,e,i){var n,a,r;this._active&&(this._notify(!1),n=this._target[this._prop],a=i-this._start,r=this._duration-a,this._start=i,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Di([t.to,e,n,t.from]),this._from=Di([t.from,n,e]))}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(t){var t=t-this._start,e=this._duration,i=this._prop,n=this._from,a=this._loop,r=this._to;this._active=n!==r&&(a||t<e),this._active?t<0?this._target[i]=n:(t=t/e%2,t=this._easing(Math.min(1,Math.max(0,a&&1<t?2-t:t))),this._target[i]=this._fn(n,r,t)):(this._target[i]=r,this._notify(!0))}},{key:"wait",value:function(){var i=this._promises||(this._promises=[]);return new Promise(function(t,e){i.push({res:t,rej:e})})}},{key:"_notify",value:function(t){for(var e=t?"res":"rej",i=this._promises||[],n=0;n<i.length;n++)i[n][e]()}}])}(),Mn=function(){return _createClass(function t(e,i){_classCallCheck(this,t),this._chart=e,this._properties=new Map,this.configure(i)},[{key:"configure",value:function(o){var s,l;H(o)&&(s=Object.keys(I.animation),l=this._properties,Object.getOwnPropertyNames(o).forEach(function(e){var t=o[e];if(H(t)){for(var i={},n=0,a=s;n<a.length;n++){var r=a[n];i[r]=t[r]}(B(t.properties)&&t.properties||[e]).forEach(function(t){t!==e&&l.has(t)||l.set(t,i)})}}))}},{key:"_animateOptions",value:function(t,e){var r=e.options,e=function(t,e){if(e){var i=t.options;if(i)return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;t.options=e}}(t,r);return e?(e=this._createAnimations(e,r),r.$shared&&function(t){for(var e=[],i=Object.keys(r),n=0;n<i.length;n++){var a=t[i[n]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}(t.options.$animations).then(function(){t.options=r},function(){}),e):[]}},{key:"_createAnimations",value:function(t,e){for(var i=this._properties,n=[],a=t.$animations||(t.$animations={}),r=Object.keys(e),o=Date.now(),s=r.length-1;0<=s;--s){var l=r[s];if("$"!==l.charAt(0))if("options"===l)n.push.apply(n,_toConsumableArray(this._animateOptions(t,e)));else{var h=e[l],u=a[l],c=i.get(l);if(u){if(c&&u.active()){u.update(c,h,o);continue}u.cancel()}c&&c.duration?(a[l]=u=new wn(c,t,l,h),n.push(u)):t[l]=h}}return n}},{key:"update",value:function(t,e){var i;if(0!==this._properties.size)return(i=this._createAnimations(t,e)).length?(s.add(this._chart,i),!0):void 0;Object.assign(t,e)}}])}();function Pn(t,e){var t=t&&t.options||{},i=t.reverse,n=void 0===t.min?e:0,t=void 0===t.max?e:0;return{start:i?t:n,end:i?n:t}}function Sn(t,e){for(var i=[],n=t._getSortedDatasetMetas(e),a=0,r=n.length;a<r;++a)i.push(n[a].index);return i}function Cn(t,e,i,n){var a,r,o,s=3<arguments.length&&void 0!==n?n:{},l=t.keys,h="single"===s.mode;if(null!==e){for(a=0,r=l.length;a<r;++a){if((o=+l[a])===i){if(s.all)continue;break}g(o=t.values[o])&&(h||0===e||_(e)===_(o))&&(e+=o)}return e}}function On(t,e){t=t&&t.options.stacked;return t||void 0===t&&void 0!==e.stack}function Dn(t,e,i,n){var a,r=_createForOfIteratorHelper(e.getMatchingVisibleMetas(n).reverse());try{for(r.s();!(a=r.n()).done;){var o=a.value,s=t[o.index];if(i&&0<s||!i&&s<0)return o.index}}catch(t){r.e(t)}finally{r.f()}return null}function An(t,e){for(var i,n=t.chart,a=t._cachedMeta,r=n._stacks||(n._stacks={}),t=a.iScale,o=a.vScale,s=a.index,l=t.axis,h=o.axis,u=(n=o,i=a,"".concat(t.id,".").concat(n.id,".").concat(i.stack||i.type)),c=e.length,d=0;d<c;++d){var f,p=e[d],g=p[l],v=p[h];(f=(p._stacks||(p._stacks={}))[h]=(p=g,(g=(g=r)[f=u]||(g[f]={}))[p]||(g[p]={})))[s]=v,f._top=Dn(f,o,!0,a.type),f._bottom=Dn(f,o,!1,a.type),(f._visualValues||(f._visualValues={}))[s]=v}}function Tn(t,e){var i=t.scales;return Object.keys(i).filter(function(t){return i[t].axis===e}).shift()}function In(t,e){var i=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){var a,r=_createForOfIteratorHelper(e=e||t._parsed);try{for(r.s();!(a=r.n()).done;){var o=a.value._stacks;if(!o||void 0===o[n]||void 0===o[n][i])return;delete o[n][i],void 0!==o[n]._visualValues&&void 0!==o[n]._visualValues[i]&&delete o[n]._visualValues[i]}}catch(t){r.e(t)}finally{r.f()}}}function Ln(t){return"reset"===t||"none"===t}function En(t,e){return e?t:Object.assign({},t)}var n=function(){return _createClass(function t(e,i){_classCallCheck(this,t),this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=(this instanceof t?this.constructor:void 0).datasetElementType,this.dataElementType=(this instanceof t?this.constructor:void 0).dataElementType,this.initialize()},[{key:"initialize",value:function(){var t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=On(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}},{key:"updateIndex",value:function(t){this.index!==t&&In(this._cachedMeta),this.index=t}},{key:"linkScales",value:function(){function t(t,e,i,n){return"x"===t?e:"r"===t?n:i}var e=this.chart,i=this._cachedMeta,n=this.getDataset(),a=i.xAxisID=z(n.xAxisID,Tn(e,"x")),r=i.yAxisID=z(n.yAxisID,Tn(e,"y")),n=i.rAxisID=z(n.rAxisID,Tn(e,"r")),e=i.indexAxis,o=i.iAxisID=t(e,a,r,n),e=i.vAxisID=t(e,r,a,n);i.xScale=this.getScaleForId(a),i.yScale=this.getScaleForId(r),i.rScale=this.getScaleForId(n),i.iScale=this.getScaleForId(o),i.vScale=this.getScaleForId(e)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(t){return this.chart.scales[t]}},{key:"_getOtherScale",value:function(t){var e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var t=this._cachedMeta;this._data&&St(this._data,this),t._stacked&&In(t)}},{key:"_dataCheck",value:function(){var l,t=this.getDataset(),t=t.data||(t.data=[]),e=this._data;H(t)?(l=this._cachedMeta,this._data=function(t){for(var e,i="x"===l.iScale.axis?"x":"y",n="x"===l.vScale.axis?"x":"y",a=Object.keys(t),r=new Array(a.length),o=0,s=a.length;o<s;++o)e=a[o],r[o]=_defineProperty(_defineProperty({},i,e),n,t[e]);return r}(t)):e!==t&&(e&&(St(e,this),In(e=this._cachedMeta),e._parsed=[]),t&&Object.isExtensible(t)&&Pt(t,this),this._syncList=[],this._data=t)}},{key:"addElements",value:function(){var t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(t){var e=this._cachedMeta,i=this.getDataset(),n=!1,a=(this._dataCheck(),e._stacked);e._stacked=On(e.vScale,e),e.stack!==i.stack&&(n=!0,In(e),e.stack=i.stack),this._resyncElements(t),!n&&a===e._stacked||An(this,e._parsed)}},{key:"configure",value:function(){var t=this.chart.config,e=t.datasetScopeKeys(this._type),e=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(e,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}},{key:"parse",value:function(t,e){var i,n=this._cachedMeta,a=this._data,r=n.iScale,o=n._stacked,s=r.axis,l=0===t&&e===a.length||n._sorted,h=0<t&&n._parsed[t-1];if(!1===this._parsing)n._parsed=a,n._sorted=!0,u=a;else{for(var u=B(a[t])?this.parseArrayData(n,a,t,e):H(a[t])?this.parseObjectData(n,a,t,e):this.parsePrimitiveData(n,a,t,e),c=0;c<e;++c)n._parsed[c+t]=i=u[c],l&&((null===i[s]||h&&i[s]<h[s])&&(l=!1),h=i);n._sorted=l}o&&An(this,u)}},{key:"parsePrimitiveData",value:function(t,e,i,n){for(var a,r=t.iScale,o=t.vScale,s=r.axis,l=o.axis,h=r.getLabels(),u=r===o,c=new Array(n),d=0,f=n;d<f;++d)a=d+i,c[d]=_defineProperty(_defineProperty({},s,u||r.parse(h[a],a)),l,o.parse(e[a],a));return c}},{key:"parseArrayData",value:function(t,e,i,n){for(var a,r,o=t.xScale,s=t.yScale,l=new Array(n),h=0,u=n;h<u;++h)r=e[a=h+i],l[h]={x:o.parse(r[0],a),y:s.parse(r[1],a)};return l}},{key:"parseObjectData",value:function(t,e,i,n){for(var a,r,o=t.xScale,s=t.yScale,t=this._parsing,l=t.xAxisKey,h=void 0===l?"x":l,l=t.yAxisKey,u=void 0===l?"y":l,c=new Array(n),d=0,f=n;d<f;++d)r=e[a=d+i],c[d]={x:o.parse(p(r,h),a),y:s.parse(p(r,u),a)};return c}},{key:"getParsed",value:function(t){return this._cachedMeta._parsed[t]}},{key:"getDataElement",value:function(t){return this._cachedMeta.data[t]}},{key:"applyStack",value:function(t,e,i){var n=this.chart,a=this._cachedMeta,r=e[t.axis];return Cn({keys:Sn(n,!0),values:e._stacks[t.axis]._visualValues},r,a.index,{mode:i})}},{key:"updateRangeFromParsed",value:function(t,e,i,n){var a=i[e.axis],r=null===a?NaN:a,i=n&&i._stacks[e.axis];n&&i&&(n.values=i,r=Cn(n,a,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}},{key:"getMinMax",value:function(e,t){var i,n,a=this._cachedMeta,r=a._parsed,o=a._sorted&&e===a.iScale,s=r.length,l=this._getOtherScale(e),h=(c=this.chart,t&&!a.hidden&&a._stacked&&{keys:Sn(c,!0),values:null}),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},c=(t=l.getUserBounds(),a=t.min,{min:t.minDefined?a:Number.NEGATIVE_INFINITY,max:t.maxDefined?t.max:Number.POSITIVE_INFINITY}),d=c.min,f=c.max;function p(){var t=(n=r[i])[l.axis];return!g(n[e.axis])||t<d||f<t}for(i=0;i<s&&(p()||(this.updateRangeFromParsed(u,e,n,h),!o));++i);if(o)for(i=s-1;0<=i;--i)if(!p()){this.updateRangeFromParsed(u,e,n,h);break}return u}},{key:"getAllParsedValues",value:function(t){for(var e,i=this._cachedMeta._parsed,n=[],a=0,r=i.length;a<r;++a)g(e=i[a][t.axis])&&n.push(e);return n}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,i=e.iScale,e=e.vScale,t=this.getParsed(t);return{label:i?""+i.getLabelForValue(t[i.axis]):"",value:e?""+e.getLabelForValue(t[e.axis]):""}}},{key:"_update",value:function(t){var e,i,n,a,r,o=this._cachedMeta;this.update(t||"default"),o._clip=(H(r=z(this.options.clip,(t=o.xScale,o=o.yScale,!1!==(r=this.getMaxOverflow())&&(t=Pn(t,r),{top:(o=Pn(o,r)).end,right:t.end,bottom:o.start,left:t.start}))))?(e=r.top,i=r.right,n=r.bottom,a=r.left):e=i=n=a=r,{top:e,right:i,bottom:n,left:a,disabled:!1===r})}},{key:"update",value:function(t){}},{key:"draw",value:function(){var t,e=this._ctx,i=this.chart,n=this._cachedMeta,a=n.data||[],r=i.chartArea,o=[],s=this._drawStart||0,l=this._drawCount||a.length-s,h=this.options.drawActiveElementsOnTop;for(n.dataset&&n.dataset.draw(e,r,s,l),t=s;t<s+l;++t){var u=a[t];u.hidden||(u.active&&h?o.push(u):u.draw(e,r))}for(t=0;t<o.length;++t)o[t].draw(e,r)}},{key:"getStyle",value:function(t,e){e=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(e):this.resolveDataElementOptions(t||0,e)}},{key:"getContext",value:function(t,e,i){var n,a,r=this.getDataset();return 0<=t&&t<this._cachedMeta.data.length?((n=(n=this._cachedMeta.data[t]).$context||(n.$context=Ti(this.getContext(),{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"}))).parsed=this.getParsed(t),n.raw=r.data[t],n.index=n.dataIndex=t):((n=this.$context||(this.$context=(t=this.chart.getContext(),a=this.index,Ti(t,{active:!1,dataset:void 0,datasetIndex:a,index:a,mode:"default",type:"dataset"})))).dataset=r,n.index=n.datasetIndex=this.index),n.active=!!e,n.mode=i,n}},{key:"resolveDatasetElementOptions",value:function(t){return this._resolveElementOptions(this.datasetElementType.id,t)}},{key:"resolveDataElementOptions",value:function(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}},{key:"_resolveElementOptions",value:function(t){var e,i,n=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",r=2<arguments.length?arguments[2]:void 0,o="active"===a,s=this._cachedDataOpts,l=t+"-"+a,h=s[l],u=this.enableOptionSharing&&J(r);return h?En(h,u):(i=(h=this.chart.config).datasetElementScopeKeys(this._type,t),e=o?["".concat(t,"Hover"),"hover",t,""]:[t,""],i=h.getOptionScopes(this.getDataset(),i),t=Object.keys(I.elements[t]),(h=h.resolveNamedOptions(i,t,function(){return n.getContext(r,o,a)},e)).$shared&&(h.$shared=u,s[l]=Object.freeze(En(h,u))),h)}},{key:"_resolveAnimations",value:function(t,e,i){var n,a=this.chart,r=this._cachedDataOpts,o="animation-".concat(e),s=r[o];if(s)return s;!1!==a.options.animation&&(n=(s=this.chart.config).datasetAnimationScopeKeys(this._type,e),n=s.getOptionScopes(this.getDataset(),n),n=s.createResolver(n,this.getContext(t,i,e)));s=new Mn(a,n&&n.animations);return n&&n._cacheable&&(r[o]=Object.freeze(s)),s}},{key:"getSharedOptions",value:function(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}},{key:"includeOptions",value:function(t,e){return!e||Ln(t)||this.chart._animationsDisabled}},{key:"_getSharedOptions",value:function(t,e){var t=this.resolveDataElementOptions(t,e),i=this._sharedOptions,n=this.getSharedOptions(t),i=this.includeOptions(e,n)||n!==i;return this.updateSharedOptions(n,e,t),{sharedOptions:n,includeOptions:i}}},{key:"updateElement",value:function(t,e,i,n){Ln(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}},{key:"updateSharedOptions",value:function(t,e,i){t&&!Ln(e)&&this._resolveAnimations(void 0,e).update(t,i)}},{key:"_setStyle",value:function(t,e,i,n){t.active=n;var a=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:!n&&this.getSharedOptions(a)||a})}},{key:"removeHoverStyle",value:function(t,e,i){this._setStyle(t,i,"active",!1)}},{key:"setHoverStyle",value:function(t,e,i){this._setStyle(t,i,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}},{key:"_resyncElements",value:function(t){var e,i=this._data,n=this._cachedMeta.data,a=_createForOfIteratorHelper(this._syncList);try{for(a.s();!(e=a.n()).done;){var r=_slicedToArray(e.value,3),o=r[0],s=r[1],l=r[2];this[o](s,l)}}catch(t){a.e(t)}finally{a.f()}this._syncList=[];var n=n.length,i=i.length,h=Math.min(i,n);h&&this.parse(0,h),n<i?this._insertElements(n,i-n,t):i<n&&this._removeElements(i,n-i)}},{key:"_insertElements",value:function(t,e){function i(t){for(t.length+=e,n=t.length-1;s<=n;n--)t[n]=t[n-e]}var n,a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=this._cachedMeta,o=r.data,s=t+e;for(i(o),n=t;n<s;++n)o[n]=new this.dataElementType;this._parsing&&i(r._parsed),this.parse(t,e),a&&this.updateElements(o,t,e,"reset")}},{key:"updateElements",value:function(t,e,i,n){}},{key:"_removeElements",value:function(t,e){var i,n=this._cachedMeta;this._parsing&&(i=n._parsed.splice(t,e),n._stacked)&&In(n,i),n.data.splice(t,e)}},{key:"_sync",value:function(t){var e;this._parsing?this._syncList.push(t):this[(e=_slicedToArray(t,3))[0]](e[1],e[2]),this.chart._dataChanges.push([this.index].concat(_toConsumableArray(t)))}},{key:"_onDataPush",value:function(){var t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}},{key:"_onDataPop",value:function(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._sync(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(t,e){e&&this._sync(["_removeElements",t,e]);e=arguments.length-2;e&&this._sync(["_insertElements",t,e])}},{key:"_onDataUnshift",value:function(){this._sync(["_insertElements",0,arguments.length])}}])}(),e=(_defineProperty(n,"defaults",{}),_defineProperty(n,"datasetElementType",null),_defineProperty(n,"dataElementType",null),function(){return _createClass(function t(){_classCallCheck(this,t),_defineProperty(this,"x",void 0),_defineProperty(this,"y",void 0),_defineProperty(this,"active",!1),_defineProperty(this,"options",void 0),_defineProperty(this,"$animations",void 0)},[{key:"tooltipPosition",value:function(t){t=this.getProps(["x","y"],t);return{x:t.x,y:t.y}}},{key:"hasValue",value:function(){return ct(this.x)&&ct(this.y)}},{key:"getProps",value:function(t,e){var i,n=this,a=this.$animations;return e&&a?(i={},t.forEach(function(t){i[t]=a[t]&&a[t].active()?a[t]._to:n[t]}),i):this}}])}());function Rn(t,e,i,n,a){var r,o,s=z(n,0),l=Math.min(z(a,t.length),t.length),h=0;for(i=Math.ceil(i),a&&(i=(a=a-n)/Math.floor(a/i)),o=s;o<0;)h++,o=Math.round(s+h*i);for(r=Math.max(s,0);r<l;r++)r===o&&(e.push(t[r]),h++,o=Math.round(s+h*i))}_defineProperty(e,"defaults",{}),_defineProperty(e,"defaultRoutes",void 0);function Fn(t,e,i){return"top"===e||"left"===e?t[e]+i:t[e]-i}function zn(t,e){return Math.min(e||t,t)}function Vn(t,e){for(var i=[],n=t.length/e,a=t.length,r=0;r<a;r+=n)i.push(t[Math.floor(r)]);return i}function Bn(t){return t.drawTicks?t.tickLength:0}function Hn(t,e){var i;return t.display?(e=L(t.font,e),i=W(t.padding),(B(t.text)?t.text.length:1)*e.lineHeight+i.height):0}var jn=function(){function a(t){var e;return _classCallCheck(this,a),(e=_callSuper(this,a)).id=t.id,e.type=t.type,e.options=void 0,e.ctx=t.ctx,e.chart=t.chart,e.top=void 0,e.bottom=void 0,e.left=void 0,e.right=void 0,e.width=void 0,e.height=void 0,e._margins={left:0,right:0,top:0,bottom:0},e.maxWidth=void 0,e.maxHeight=void 0,e.paddingTop=void 0,e.paddingBottom=void 0,e.paddingLeft=void 0,e.paddingRight=void 0,e.axis=void 0,e.labelRotation=void 0,e.min=void 0,e.max=void 0,e._range=void 0,e.ticks=[],e._gridLineItems=null,e._labelItems=null,e._labelSizes=null,e._length=0,e._maxLength=0,e._longestTextCache={},e._startPixel=void 0,e._endPixel=void 0,e._reversePixels=!1,e._userMax=void 0,e._userMin=void 0,e._suggestedMax=void 0,e._suggestedMin=void 0,e._ticksLength=0,e._borderValue=0,e._cache={},e._dataLimitsCached=!1,e.$context=void 0,e}return _inherits(a,e),_createClass(a,[{key:"init",value:function(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}},{key:"parse",value:function(t,e){return t}},{key:"getUserBounds",value:function(){var t=this._userMin,e=this._userMax,i=this._suggestedMin,n=this._suggestedMax,t=d(t,Number.POSITIVE_INFINITY),e=d(e,Number.NEGATIVE_INFINITY),i=d(i,Number.POSITIVE_INFINITY),n=d(n,Number.NEGATIVE_INFINITY);return{min:d(t,i),max:d(e,n),minDefined:g(t),maxDefined:g(e)}}},{key:"getMinMax",value:function(t){var e,i=this.getUserBounds(),n=i.min,a=i.max,r=i.minDefined,o=i.maxDefined;if(r&&o)return{min:n,max:a};for(var s=this.getMatchingVisibleMetas(),l=0,h=s.length;l<h;++l)e=s[l].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),o||(a=Math.max(a,e.max));return{min:d(n=o&&a<n?a:n,d(a=r&&a<n?n:a,n)),max:d(a,d(n,a))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}},{key:"getLabelItems",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){l(this.options.beforeUpdate,[this])}},{key:"update",value:function(t,e,i){var n=this.options,a=n.beginAtZero,r=n.grace,n=n.ticks,o=n.sampleSize,t=(this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ai(this,r,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks(),o<this.ticks.length);this._convertTicksToLabels(t?Vn(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),n.display&&(n.autoSkip||"auto"===n.source)&&(this.ticks=function(t,e){var i=t.options.ticks,n=(n=(t=t).options.offset,a=t._tickSize(),n=t._length/a+(n?0:1),Math.floor(Math.min(n,t._maxLength/a))),t=Math.min(i.maxTicksLimit||n,n),l=i.major.enabled?function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i].major&&e.push(i);return e}(e):[],a=l.length,n=l[0],i=l[a-1],r=[];if(t<a){var o,s=e,h=r,u=l,c=a/t,d=0,f=u[0];for(c=Math.ceil(c),o=0;o<s.length;o++)o===f&&(h.push(s[o]),f=u[++d*c])}else{var p=function(t,e){var i=function(t){var e,i,n=t.length;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}(l),n=t.length/e;if(i)for(var a=ut(i),r=0,o=a.length-1;r<o;r++){var s=a[r];if(n<s)return s}return Math.max(n,1)}(e,t);if(0<a){var g,v,t=1<a?Math.round((i-n)/(a-1)):null;for(Rn(e,r,p,D(t)?0:n-t,n),g=0,v=a-1;g<v;g++)Rn(e,r,p,l[g],l[g+1]);Rn(e,r,p,i,D(t)?e.length:i+t)}else Rn(e,r,p)}return r}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),t&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}},{key:"configure",value:function(){var t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}},{key:"afterUpdate",value:function(){l(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){l(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}},{key:"afterSetDimensions",value:function(){l(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(t){this.chart.notifyPlugins(t,this.getContext()),l(this.options[t],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){l(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(t){for(var e,i=this.options.ticks,n=0,a=t.length;n<a;n++)(e=t[n]).label=l(i.callback,[e.value,n,t],this)}},{key:"afterTickToLabelConversion",value:function(){l(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){l(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var t,e,i,n,a=this.options,r=a.ticks,o=zn(this.ticks.length,a.ticks.maxTicksLimit),s=r.minRotation||0,l=r.maxRotation,h=s;!this._isVisible()||!r.display||l<=s||o<=1||!this.isHorizontal()?this.labelRotation=s:(e=(t=this._getLabelSizes()).widest.width,i=t.highest.height,n=v(this.chart.width-e,0,this.maxWidth),(a.offset?this.maxWidth/o:n/(o-1))<e+6&&(n=n/(o-(a.offset?.5:1)),o=this.maxHeight-Bn(a.grid)-r.padding-Hn(a.title,this.chart.options.font),r=Math.sqrt(e*e+i*i),h=pt(Math.min(Math.asin(v((t.highest.height+6)/n,-1,1)),Math.asin(v(o/r,-1,1))-Math.asin(v(i/r,-1,1)))),h=Math.max(s,Math.min(l,h))),this.labelRotation=h)}},{key:"afterCalculateLabelRotation",value:function(){l(this.options.afterCalculateLabelRotation,[this])}},{key:"afterAutoSkip",value:function(){}},{key:"beforeFit",value:function(){l(this.options.beforeFit,[this])}},{key:"fit",value:function(){var t,e,i,n,a,r={width:0,height:0},o=this.chart,s=this.options,l=s.ticks,h=s.title,s=s.grid,u=this._isVisible(),c=this.isHorizontal();u&&(u=Hn(h,o.options.font),c?(r.width=this.maxWidth,r.height=Bn(s)+u):(r.height=this.maxHeight,r.width=Bn(s)+u),l.display)&&this.ticks.length&&(s=(h=this._getLabelSizes()).first,u=h.last,t=h.widest,h=h.highest,e=2*l.padding,n=j(this.labelRotation),i=Math.cos(n),n=Math.sin(n),c?(a=l.mirror?0:n*t.width+i*h.height,r.height=Math.min(this.maxHeight,r.height+a+e)):(a=l.mirror?0:i*t.width+n*h.height,r.width=Math.min(this.maxWidth,r.width+a+e)),this._calculatePadding(s,u,n,i)),this._handleMargins(),c?(this.width=this._length=o.width-this._margins.left-this._margins.right,this.height=r.height):(this.width=r.width,this.height=this._length=o.height-this._margins.top-this._margins.bottom)}},{key:"_calculatePadding",value:function(t,e,i,n){var a,r,o,s,l=this.options,h=l.ticks,u=h.align,h=h.padding,c=0!==this.labelRotation,l="top"!==l.position&&"x"===this.axis;this.isHorizontal()?(a=this.getPixelForTick(0)-this.left,r=this.right-this.getPixelForTick(this.ticks.length-1),s=o=0,c?s=l?(o=n*t.width,i*e.height):(o=i*t.height,n*e.width):"start"===u?s=e.width:"end"===u?o=t.width:"inner"!==u&&(o=t.width/2,s=e.width/2),this.paddingLeft=Math.max((o-a+h)*this.width/(this.width-a),0),this.paddingRight=Math.max((s-r+h)*this.width/(this.width-r),0)):(c=e.height/2,l=t.height/2,"start"===u?(c=0,l=t.height):"end"===u&&(c=e.height,l=0),this.paddingTop=c+h,this.paddingBottom=l+h)}},{key:"_handleMargins",value:function(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}},{key:"afterFit",value:function(){l(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var t=this.options,e=t.axis,t=t.position;return"top"===t||"bottom"===t||"x"===e}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(t){var e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)D(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var t,e,i=this._labelSizes;return i||((t=this.options.ticks.sampleSize)<(e=this.ticks).length&&(e=Vn(e,t)),this._labelSizes=i=this._computeLabelSizes(e,e.length,this.options.ticks.maxTicksLimit)),i}},{key:"_computeLabelSizes",value:function(t,e,i){for(var n,a,r,o,s,l,h,u,c,d,f,p=this.ctx,g=this._longestTextCache,v=[],y=[],m=Math.floor(e/zn(e,i)),b=0,_=0,x=0;x<e;x+=m){if(r=t[x].label,o=this._resolveTickFontOptions(x),p.font=s=o.string,l=g[s]=g[s]||{data:{},gc:[]},h=o.lineHeight,u=c=0,D(r)||B(r)){if(B(r))for(n=0,a=r.length;n<a;++n)D(d=r[n])||B(d)||(u=ze(p,l.data,l.gc,u,d),c+=h)}else u=ze(p,l.data,l.gc,u,r),c=h;v.push(u),y.push(c),b=Math.max(u,b),_=Math.max(c,_)}f=e,M(g,function(t){var e,i=t.gc,n=i.length/2;if(f<n){for(e=0;e<n;++e)delete t.data[i[e]];i.splice(0,n)}});function k(t){return{width:v[t]||0,height:y[t]||0}}var i=v.indexOf(b),w=y.indexOf(_);return{first:k(0),last:k(e-1),widest:k(i),highest:k(w),widths:v,heights:y}}},{key:"getLabelForValue",value:function(t){return t}},{key:"getPixelForValue",value:function(t,e){return NaN}},{key:"getValueForPixel",value:function(t){}},{key:"getPixelForTick",value:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}},{key:"getPixelForDecimal",value:function(t){this._reversePixels&&(t=1-t);t=this._startPixel+t*this._length;return _t(this._alignToPixels?Be(this.chart,t,0):t)}},{key:"getDecimalForPixel",value:function(t){t=(t-this._startPixel)/this._length;return this._reversePixels?1-t:t}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var t=this.min,e=this.max;return t<0&&e<0?e:0<t&&0<e?t:0}},{key:"getContext",value:function(t){var e=this.ticks||[];return 0<=t&&t<e.length?(e=e[t]).$context||(e.$context=Ti(this.getContext(),{tick:e,index:t,type:"tick"})):this.$context||(this.$context=Ti(this.chart.getContext(),{scale:this,type:"scale"}))}},{key:"_tickSize",value:function(){var t=this.options.ticks,e=j(this.labelRotation),i=Math.abs(Math.cos(e)),e=Math.abs(Math.sin(e)),n=this._getLabelSizes(),t=t.autoSkipPadding||0,a=n?n.widest.width+t:0,n=n?n.highest.height+t:0;return this.isHorizontal()?a*e<n*i?a/i:n/e:n*e<a*i?n/i:a/e}},{key:"_isVisible",value:function(){var t=this.options.display;return"auto"!==t?!!t:0<this.getMatchingVisibleMetas().length}},{key:"_computeGridLineItems",value:function(t){for(var e,i,n,a,r,o,s,l,h,u,c,d=this.axis,f=this.chart,p=this.options,g=p.grid,v=p.position,y=p.border,m=g.offset,b=this.isHorizontal(),_=this.ticks.length+(m?1:0),x=Bn(g),k=[],w=y.setContext(this.getContext()),M=w.display?w.width:0,w=M/2,P=function(t){return Be(f,t,M)},d=("top"===v?(h=P(this.bottom),i=this.bottom-x,a=h-w,o=P(t.top)+w,l=t.bottom):"bottom"===v?(h=P(this.top),o=t.top,l=P(t.bottom)-w,i=h+w,a=this.top+x):"left"===v?(h=P(this.right),e=this.right-x,n=h-w,r=P(t.left)+w,s=t.right):"right"===v?(h=P(this.left),r=t.left,s=P(t.right)-w,e=h+w,n=this.left+x):"x"===d?("center"===v?h=P((t.top+t.bottom)/2+.5):H(v)&&(c=v[u=Object.keys(v)[0]],h=P(this.chart.scales[u].getPixelForValue(c))),o=t.top,l=t.bottom,a=(i=h+w)+x):"y"===d&&("center"===v?h=P((t.left+t.right)/2):H(v)&&(c=v[u=Object.keys(v)[0]],h=P(this.chart.scales[u].getPixelForValue(c))),n=(e=h-w)-x,r=t.left,s=t.right),z(p.ticks.maxTicksLimit,_)),S=Math.max(1,Math.ceil(_/d)),C=0;C<_;C+=S){var O,D=this.getContext(C),A=g.setContext(D),D=y.setContext(D),T=A.lineWidth,I=A.color,L=D.dash||[],D=D.dashOffset,E=A.tickWidth,R=A.tickColor,F=A.tickBorderDash||[],A=A.tickBorderDashOffset;void 0!==(O=function(t,e,i){var n=t.ticks.length,a=Math.min(e,n-1),r=t._startPixel,o=t._endPixel,s=t.getPixelForTick(a);if(!(i&&(i=1===n?Math.max(s-r,o-s):0===e?(t.getPixelForTick(1)-s)/2:(s-t.getPixelForTick(a-1))/2,(s+=a<e?i:-i)<r-1e-6||o+1e-6<s)))return s}(this,C,m))&&(O=Be(f,O,T),b?e=n=r=s=O:i=a=o=l=O,k.push({tx1:e,ty1:i,tx2:n,ty2:a,x1:r,y1:o,x2:s,y2:l,width:T,color:I,borderDash:L,borderDashOffset:D,tickWidth:E,tickColor:R,tickBorderDash:F,tickBorderDashOffset:A}))}return this._ticksLength=_,this._borderValue=h,k}},{key:"_computeLabelItems",value:function(t){for(var e,i,n,a,r,o=this.axis,s=this.options,l=s.position,h=s.ticks,u=this.isHorizontal(),c=this.ticks,d=h.align,f=h.crossAlign,p=h.padding,g=h.mirror,s=Bn(s.grid),v=s+p,p=g?-p:v,y=-j(this.labelRotation),m=[],b="middle",_=("top"===l?(a=this.bottom-p,i=this._getXAxisLabelAlignment()):"bottom"===l?(a=this.top+p,i=this._getXAxisLabelAlignment()):"left"===l?(i=(p=this._getYAxisLabelAlignment(s)).textAlign,n=p.x):"right"===l?(i=(p=this._getYAxisLabelAlignment(s)).textAlign,n=p.x):"x"===o?("center"===l?a=(t.top+t.bottom)/2+v:H(l)&&(r=l[p=Object.keys(l)[0]],a=this.chart.scales[p].getPixelForValue(r)+v),i=this._getXAxisLabelAlignment()):"y"===o&&("center"===l?n=(t.left+t.right)/2-v:H(l)&&(r=l[p=Object.keys(l)[0]],n=this.chart.scales[p].getPixelForValue(r)),i=this._getYAxisLabelAlignment(s).textAlign),"y"===o&&("start"===d?b="top":"end"===d&&(b="bottom")),this._getLabelSizes()),x=0,k=c.length;x<k;++x){var w,M,P=c[x].label,S=h.setContext(this.getContext(x)),C=this.getPixelForTick(x)+h.labelOffset,O=(w=this._resolveTickFontOptions(x)).lineHeight,D=(M=B(P)?P.length:1)/2,F=S.color,z=S.textStrokeColor,V=S.textStrokeWidth,A=void 0,T=i;if(u?(n=C,"inner"===i&&(T=x===k-1?this.options.reverse?"left":"right":0===x?this.options.reverse?"right":"left":"center"),e="top"===l?"near"===f||0!=y?-M*O+O/2:"center"===f?-_.highest.height/2-D*O+O:-_.highest.height+O/2:"near"===f||0!=y?O/2:"center"===f?_.highest.height/2-D*O:_.highest.height-M*O,g&&(e*=-1),0==y||S.showLabelBackdrop||(n+=O/2*Math.sin(y))):(a=C,e=(1-M)*O/2),S.showLabelBackdrop){var D=W(S.backdropPadding),I=_.heights[x],L=_.widths[x],E=e-D.top,R=0-D.left;switch(b){case"middle":E-=I/2;break;case"bottom":E-=I}switch(i){case"center":R-=L/2;break;case"right":R-=L;break;case"inner":x===k-1?R-=L:0<x&&(R-=L/2)}A={left:R,top:E,width:L+D.width,height:I+D.height,color:S.backdropColor}}m.push({label:P,font:w,textOffset:e,options:{rotation:y,color:F,strokeColor:z,strokeWidth:V,textAlign:T,textBaseline:b,translation:[n,a],backdrop:A}})}return m}},{key:"_getXAxisLabelAlignment",value:function(){var t=this.options,e=t.position,t=t.ticks;return-j(this.labelRotation)?"top"===e?"left":"right":(e="center","start"===t.align?e="left":"end"===t.align?e="right":"inner"===t.align&&(e="inner"),e)}},{key:"_getYAxisLabelAlignment",value:function(t){var e,i,n=this.options,a=n.position,n=n.ticks,r=n.crossAlign,o=n.mirror,n=n.padding,t=t+n,s=this._getLabelSizes().widest.width;return"left"===a?o?(i=this.right+n,"near"===r?e="left":"center"===r?(e="center",i+=s/2):(e="right",i+=s)):(i=this.right-t,"near"===r?e="right":"center"===r?(e="center",i-=s/2):(e="left",i=this.left)):"right"===a?o?(i=this.left+n,"near"===r?e="right":"center"===r?(e="center",i-=s/2):(e="left",i-=s)):(i=this.left+t,"near"===r?e="left":"center"===r?(e="center",i+=s/2):(e="right",i=this.right)):e="right",{textAlign:e,x:i}}},{key:"_computeLabelArea",value:function(){var t,e;if(!this.options.ticks.mirror)return t=this.chart,"left"===(e=this.options.position)||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}},{key:"drawBackground",value:function(){var t=this.ctx,e=this.options.backgroundColor,i=this.left,n=this.top,a=this.width,r=this.height;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,a,r),t.restore())}},{key:"getLineWidthForValue",value:function(e){var t,i=this.options.grid;return this._isVisible()&&i.display&&0<=(t=this.ticks.findIndex(function(t){return t.value===e}))?i.setContext(this.getContext(t)).lineWidth:0}},{key:"drawGrid",value:function(t){function e(t,e,i){i.width&&i.color&&(r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.setLineDash(i.borderDash||[]),r.lineDashOffset=i.borderDashOffset,r.beginPath(),r.moveTo(t.x,t.y),r.lineTo(e.x,e.y),r.stroke(),r.restore())}var i,n,a=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));if(a.display)for(i=0,n=o.length;i<n;++i){var s=o[i];a.drawOnChartArea&&e({x:s.x1,y:s.y1},{x:s.x2,y:s.y2},s),a.drawTicks&&e({x:s.tx1,y:s.ty1},{x:s.tx2,y:s.ty2},{color:s.tickColor,width:s.tickWidth,borderDash:s.tickBorderDash,borderDashOffset:s.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var t,e,i,n,a,r=this.chart,o=this.ctx,s=this.options,l=s.border,s=s.grid,h=l.setContext(this.getContext()),l=l.display?h.width:0;l&&(s=s.setContext(this.getContext(0)).lineWidth,t=this._borderValue,this.isHorizontal()?(e=Be(r,this.left,l)-l/2,i=Be(r,this.right,s)+s/2,n=a=t):(n=Be(r,this.top,l)-l/2,a=Be(r,this.bottom,s)+s/2,e=i=t),o.save(),o.lineWidth=h.width,o.strokeStyle=h.color,o.beginPath(),o.moveTo(e,n),o.lineTo(i,a),o.stroke(),o.restore())}},{key:"drawLabels",value:function(t){if(this.options.ticks.display){var e=this.ctx,i=this._computeLabelArea();i&&Ne(e,i);var n,a=_createForOfIteratorHelper(this.getLabelItems(t));try{for(a.s();!(n=a.n()).done;){var r=n.value,o=r.options;Xe(e,r.label,0,r.textOffset,r.font,o)}}catch(t){a.e(t)}finally{a.f()}i&&Ye(e)}}},{key:"drawTitle",value:function(){var t,e,i,n,a,r,o,s,l,h,u,c,d,f,p,g,v,y,m=this.ctx,b=this.options,_=b.position,x=b.title,b=b.reverse;x.display&&(t=L(x.font),n=W(x.padding),e=x.align,a=t.lineHeight/2,"bottom"===_||"center"===_||H(_)?(a+=n.bottom,B(x.text)&&(a+=t.lineHeight*(x.text.length-1))):a+=n.top,n=a,a=_,r=e,h=(i=this).top,u=i.left,c=i.bottom,y=i.right,d=(v=i.chart).chartArea,v=v.scales,f=0,g=c-h,p=y-u,i.isHorizontal()?(l=T(r,u,y),s=H(a)?(o=a[s=Object.keys(a)[0]],v[s].getPixelForValue(o)+g-n):"center"===a?(d.bottom+d.top)/2+g-n:Fn(i,a,n),o=y-u):(l=H(a)?(y=a[g=Object.keys(a)[0]],v[g].getPixelForValue(y)-p+n):"center"===a?(d.left+d.right)/2-p+n:Fn(i,a,n),s=T(r,c,h),f="left"===a?-w:w),Xe(m,x.text,0,0,t,{color:x.color,maxWidth:(u={titleX:l,titleY:s,maxWidth:o,rotation:f}).maxWidth,rotation:u.rotation,textAlign:(v=_,g=Tt(g=e),g=(y=b)&&"right"!==v||!y&&"right"===v?"left"===g?"right":"right"===g?"left":g:g),textBaseline:"middle",translation:[u.titleX,u.titleY]}))}},{key:"draw",value:function(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}},{key:"_layers",value:function(){var e=this,t=this.options,i=t.ticks&&t.ticks.z||0,n=z(t.grid&&t.grid.z,-1),t=z(t.border&&t.border.z,0);return this._isVisible()&&this.draw===a.prototype.draw?[{z:n,draw:function(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:t,draw:function(){e.drawBorder()}},{z:i,draw:function(t){e.drawLabels(t)}}]:[{z:i,draw:function(t){e.draw(t)}}]}},{key:"getMatchingVisibleMetas",value:function(t){for(var e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[],a=0,r=e.length;a<r;++a){var o=e[a];o[i]!==this.id||t&&o.type!==t||n.push(o)}return n}},{key:"_resolveTickFontOptions",value:function(t){return L(this.options.ticks.setContext(this.getContext(t)).font)}},{key:"_maxDigits",value:function(){var t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}])}(),Wn=function(){return _createClass(function t(e,i,n){_classCallCheck(this,t),this.type=e,this.scope=i,this.override=n,this.items=Object.create(null)},[{key:"isForType",value:function(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}},{key:"register",value:function(t){var e,a,r,i=Object.getPrototypeOf(t),n=("id"in(n=i)&&"defaults"in n&&(e=this.register(i)),this.items),i=t.id,o=this.scope+"."+i;if(i)return i in n||(n[i]=t,n=t,i=o,e=e,e=$(Object.create(null),[e?I.get(e):{},I.get(i),n.defaults]),I.set(i,e),n.defaultRoutes&&(a=i,r=n.defaultRoutes,Object.keys(r).forEach(function(t){var e=t.split("."),i=e.pop(),e=[a].concat(e).join("."),t=r[t].split("."),n=t.pop(),t=t.join(".");I.route(e,i,t,n)})),n.descriptors&&I.describe(i,n.descriptors),this.override&&I.override(t.id,t.overrides)),o;throw new Error("class does not have id: "+t)}},{key:"get",value:function(t){return this.items[t]}},{key:"unregister",value:function(t){var e=this.items,t=t.id,i=this.scope;t in e&&delete e[t],i&&t in I[i]&&(delete I[i][t],this.override)&&delete be[t]}}])}(),C=new(function(){return _createClass(function t(){_classCallCheck(this,t),this.controllers=new Wn(n,"datasets",!0),this.elements=new Wn(e,"elements"),this.plugins=new Wn(Object,"plugins"),this.scales=new Wn(jn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]},[{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e)}},{key:"remove",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e)}},{key:"addControllers",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e,this.controllers)}},{key:"addElements",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e,this.elements)}},{key:"addPlugins",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e,this.plugins)}},{key:"addScales",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e,this.scales)}},{key:"getController",value:function(t){return this._get(t,this.controllers,"controller")}},{key:"getElement",value:function(t){return this._get(t,this.elements,"element")}},{key:"getPlugin",value:function(t){return this._get(t,this.plugins,"plugin")}},{key:"getScale",value:function(t){return this._get(t,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e,this.controllers)}},{key:"removeElements",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e,this.elements)}},{key:"removePlugins",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e,this.plugins)}},{key:"removeScales",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e,this.scales)}},{key:"_each",value:function(i,t,n){var a=this;_toConsumableArray(t).forEach(function(t){var e=n||a._getRegistryForType(t);n||e.isForType(t)||e===a.plugins&&t.id?a._exec(i,e,t):M(t,function(t){var e=n||a._getRegistryForType(t);a._exec(i,e,t)})})}},{key:"_exec",value:function(t,e,i){var n=Z(t);l(i["before"+n],[],i),e[t](i),l(i["after"+n],[],i)}},{key:"_getRegistryForType",value:function(t){for(var e=0;e<this._typedRegistries.length;e++){var i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}},{key:"_get",value:function(t,e,i){e=e.get(t);if(void 0===e)throw new Error('"'+t+'" is not a registered '+i+".");return e}}])}()),Nn=function(){return _createClass(function t(){_classCallCheck(this,t),this._init=[]},[{key:"notify",value:function(t,e,i,n){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));n=n?this._descriptors(t).filter(n):this._descriptors(t),i=this._notify(n,t,e,i);return"afterDestroy"===e&&(this._notify(n,t,"stop"),this._notify(this._init,t,"uninstall")),i}},{key:"_notify",value:function(t,e,i,n){n=n||{};var a,r=_createForOfIteratorHelper(t);try{for(r.s();!(a=r.n()).done;){var o=a.value,s=o.plugin;if(!1===l(s[i],[e,n,o.options],s)&&n.cancelable)return!1}}catch(t){r.e(t)}finally{r.f()}return!0}},{key:"invalidate",value:function(){D(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(t){var e;return this._cache||(e=this._cache=this._createDescriptors(t),this._notifyStateChanges(t),e)}},{key:"_createDescriptors",value:function(t,e){var i=t&&t.config,n=z(i.options&&i.options.plugins,{}),i=function(t){for(var e={},i=[],n=Object.keys(C.plugins.items),a=0;a<n.length;a++)i.push(C.getPlugin(n[a]));for(var r=t.plugins||[],o=0;o<r.length;o++){var s=r[o];-1===i.indexOf(s)&&(i.push(s),e[s.id]=!0)}return{plugins:i,localIds:e}}(i);if(!1!==n||e){var a,r,o,s,l,h,u,c,d=t,f=n,p=e,t=i.plugins,g=i.localIds,v=[],y=d.getContext(),m=_createForOfIteratorHelper(t);try{for(m.s();!(a=m.n()).done;){var b=a.value,_=b.id,x=(c=f[_],p||!1!==c?!0===c?{}:c:null);null!==x&&v.push({plugin:b,options:(r=d.config,o={plugin:b,local:g[_]},s=x,l=y,u=h=void 0,h=o.plugin,o=o.local,u=r.pluginScopeKeys(h),s=r.getOptionScopes(s,u),o&&h.defaults&&s.push(h.defaults),r.createResolver(s,l,[""],{scriptable:!1,indexable:!1,allKeys:!0}))})}}catch(t){m.e(t)}finally{m.f()}return v}return[]}},{key:"_notifyStateChanges",value:function(t){function e(t,i){return t.filter(function(e){return!i.some(function(t){return e.plugin.id===t.plugin.id})})}var i=this._oldCache||[],n=this._cache;this._notify(e(i,n),t,"stop"),this._notify(e(n,i),t,"start")}}])}();function Yn(t,e){var i=I.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function Un(t){if("x"===t||"y"===t||"r"===t)return t}function $n(t){if(Un(t))return t;for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var a=0,r=i;a<r.length;a++){var o=r[a],o=o.axis||("top"===(o=o.position)||"bottom"===o?"x":"left"===o||"right"===o?"y":void 0)||1<t.length&&Un(t[0].toLowerCase());if(o)return o}throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function Xn(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function Gn(o,e){var r=be[o.type]||{scales:{}},s=e.scales||{},l=Yn(o.type,e),h=Object.create(null);return Object.keys(s).forEach(function(t){var e,i,n,a=s[t];return H(a)?a._proxy?console.warn("Ignoring resolver passed as options for scale: ".concat(t)):(i=(e=$n(t,a,function(e,t){if(t.data&&t.data.datasets){t=t.data.datasets.filter(function(t){return t.xAxisID===e||t.yAxisID===e});if(t.length)return Xn(e,"x",t[0])||Xn(e,"y",t[0])}return{}}(t,o),I.scales[a.type]))===l?"_index_":"_value_",n=r.scales||{},void(h[t]=X(Object.create(null),[{axis:e},a,n[e],n[i]]))):console.error("Invalid scale configuration for scale: ".concat(t))}),o.data.datasets.forEach(function(n){var t=n.type||o.type,a=n.indexAxis||Yn(t,e),r=(be[t]||{}).scales||{};Object.keys(r).forEach(function(t){"_index_"===(e=t)?e=a:"_value_"===t&&(e="x"===a?"y":"x");var e,i=n[e+"AxisID"]||e;h[i]=h[i]||Object.create(null),X(h[i],[{axis:e},s[i],r[t]])})}),Object.keys(h).forEach(function(t){t=h[t];X(t,[I.scales[t.type],I.scale])}),h}function Kn(t){var e=t.options||(t.options={});e.plugins=z(e.plugins,{}),e.scales=Gn(t,e)}function qn(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}var Zn=new Map,Jn=new Set;function Qn(t,e){var i=Zn.get(t);return i||(i=e(),Zn.set(t,i),Jn.add(i)),i}function ta(t,e,i){void 0!==(e=p(e,i))&&t.add(e)}var ea=function(){return _createClass(function t(e){_classCallCheck(this,t),this._config=((e=e||{}).data=qn(e.data),Kn(e),e),this._scopeCache=new Map,this._resolverCache=new Map},[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(t){this._config.type=t}},{key:"data",get:function(){return this._config.data},set:function(t){this._config.data=qn(t)}},{key:"options",get:function(){return this._config.options},set:function(t){this._config.options=t}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var t=this._config;this.clearCache(),Kn(t)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(t){return Qn(t,function(){return[["datasets.".concat(t),""]]})}},{key:"datasetAnimationScopeKeys",value:function(t,e){return Qn("".concat(t,".transition.").concat(e),function(){return[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]})}},{key:"datasetElementScopeKeys",value:function(t,e){return Qn("".concat(t,"-").concat(e),function(){return[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]})}},{key:"pluginScopeKeys",value:function(t){var e=t.id;return Qn("".concat(this.type,"-plugin-").concat(e),function(){return[["plugins.".concat(e)].concat(_toConsumableArray(t.additionalOptionScopes||[]))]})}},{key:"_cachedScopes",value:function(t,e){var i=this._scopeCache,n=i.get(t);return n&&!e||(n=new Map,i.set(t,n)),n}},{key:"getOptionScopes",value:function(e,t,i){var n,a=this.options,r=this.type,i=this._cachedScopes(e,i),o=i.get(t);return o||(n=new Set,t.forEach(function(t){e&&(n.add(e),t.forEach(function(t){return ta(n,e,t)})),t.forEach(function(t){return ta(n,a,t)}),t.forEach(function(t){return ta(n,be[r]||{},t)}),t.forEach(function(t){return ta(n,I,t)}),t.forEach(function(t){return ta(n,_e,t)})}),0===(o=Array.from(n)).length&&o.push(Object.create(null)),Jn.has(t)&&i.set(t,o),o)}},{key:"chartOptionScopes",value:function(){var t=this.options,e=this.type;return[t,be[e]||{},I.datasets[e]||{},{type:e},I,_e]}},{key:"resolveNamedOptions",value:function(t,e,i){var n,a={$shared:!0},r=ia(this._resolverCache,t,3<arguments.length&&void 0!==arguments[3]?arguments[3]:[""]),o=r.resolver,r=r.subPrefixes,s=o,l=(!function(t,e){var i,n=Ze(t),a=n.isScriptable,r=n.isIndexable,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=a(s),h=r(s),u=(h||l)&&t[s];if(l&&(tt(u)||na(u))||h&&B(u))return 1}}catch(t){o.e(t)}finally{o.f()}}(o,e)||(a.$shared=!1,s=qe(o,i=tt(i)?i():i,this.createResolver(t,i,r))),_createForOfIteratorHelper(e));try{for(l.s();!(n=l.n()).done;){var h=n.value;a[h]=s[h]}}catch(t){l.e(t)}finally{l.f()}return a}},{key:"createResolver",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[""],n=3<arguments.length?arguments[3]:void 0,t=ia(this._resolverCache,t,i).resolver;return H(e)?qe(t,e,void 0,n):t}}])}();function ia(t,e,i){var n=t.get(e),t=(n||(n=new Map,t.set(e,n)),i.join()),a=n.get(t);return a||(a={resolver:Ke(e,i),subPrefixes:i.filter(function(t){return!t.toLowerCase().includes("hover")})},n.set(t,a)),a}var na=function(e){return H(e)&&Object.getOwnPropertyNames(e).some(function(t){return tt(e[t])})},aa=["top","bottom","left","right","chartArea"];function ra(t,e){return"top"===t||"bottom"===t||-1===aa.indexOf(t)&&"x"===e}function oa(i,n){return function(t,e){return t[i]===e[i]?t[n]-e[n]:t[i]-e[i]}}function sa(t){var e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),l(i&&i.onComplete,[t],e)}function la(t){var e=t.chart,i=e.options.animation;l(i&&i.onProgress,[t],e)}function ha(t){return we()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t=t&&t.canvas?t.canvas:t}function ua(t){var e=ha(t);return Object.values(ca).filter(function(t){return t.canvas===e}).pop()}var ca={};function da(t,e,i){return(t.options.clip?t:e)[i]}var i=function(){return _createClass(function t(e,i){var n=this,i=(_classCallCheck(this,t),this.config=new ea(i)),e=ha(e),a=ua(e);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");var a=i.createResolver(i.chartOptionScopes(),this.getContext()),i=(this.platform=new(i.platform||_n(e)),this.platform.updateConfig(i),this.platform.acquireContext(e,a.aspectRatio)),e=i&&i.canvas,r=e&&e.height,o=e&&e.width;this.id=E(),this.ctx=i,this.canvas=e,this.width=o,this.height=r,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Nn,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=At(function(t){return n.update(t)},a.resizeDelay||0),this._dataChanges=[],ca[this.id]=this,i&&e?(s.listen(this,"complete",sa),s.listen(this,"progress",la),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")},[{key:"aspectRatio",get:function(){var t=this.options,e=t.aspectRatio,i=this.width,n=this.height,a=this._aspectRatio;return D(e)?t.maintainAspectRatio&&a?a:n?i/n:null:e}},{key:"data",get:function(){return this.config.data},set:function(t){this.config.data=t}},{key:"options",get:function(){return this._options},set:function(t){this.config.options=t}},{key:"registry",get:function(){return C}},{key:"_initialize",value:function(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Le(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}},{key:"clear",value:function(){return He(this.canvas,this.ctx),this}},{key:"stop",value:function(){return s.stop(this),this}},{key:"resize",value:function(t,e){s.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}},{key:"_resize",value:function(t,e){var i=this.options,n=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,n=this.platform.getMaximumSize(n,t,e,a),t=i.devicePixelRatio||this.platform.getDevicePixelRatio(),e=this.width?"resize":"attach";this.width=n.width,this.height=n.height,this._aspectRatio=this.aspectRatio,Le(this,t,!0)&&(this.notifyPlugins("resize",{size:n}),l(i.onResize,[this,n],this),this.attached)&&this._doResize(e)&&this.render()}},{key:"ensureScalesHaveIDs",value:function(){M(this.options.scales||{},function(t,e){t.id=e})}},{key:"buildOrUpdateScales",value:function(){var r=this,o=this.options,n=o.scales,s=this.scales,l=Object.keys(s).reduce(function(t,e){return t[e]=!1,t},{}),t=[];M(t=n?t.concat(Object.keys(n).map(function(t){var e=n[t],t=$n(t,e),i="r"===t,t="x"===t;return{options:e,dposition:i?"chartArea":t?"bottom":"left",dtype:i?"radialLinear":t?"category":"linear"}})):t,function(t){var e=t.options,i=e.id,n=$n(i,e),a=z(e.type,t.dtype),n=(void 0!==e.position&&ra(e.position,n)===ra(t.dposition)||(e.position=t.dposition),l[i]=!0,null);i in s&&s[i].type===a?n=s[i]:(n=new(C.getScale(a))({id:i,type:a,ctx:r.ctx,chart:r}),s[n.id]=n),n.init(e,o)}),M(l,function(t,e){t||delete s[e]}),M(s,function(t){a.configure(r,t,t.options),a.addBox(r,t)})}},{key:"_updateMetasets",value:function(){var t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(function(t,e){return t.index-e.index}),e<i){for(var n=e;n<i;++n)this._destroyDatasetMeta(n);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(oa("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var i=this,t=this._metasets,n=this.data.datasets;t.length>n.length&&delete this._stacks,t.forEach(function(e,t){0===n.filter(function(t){return t===e._dataset}).length&&i._destroyDatasetMeta(t)})}},{key:"buildOrUpdateControllers",value:function(){var t,e,i=[],n=this.data.datasets;for(this._removeUnreferencedMetasets(),t=0,e=n.length;t<e;t++){var a,r=n[t],o=this.getDatasetMeta(t),s=r.type||this.config.type;o.type&&o.type!==s&&(this._destroyDatasetMeta(t),o=this.getDatasetMeta(t)),o.type=s,o.indexAxis=r.indexAxis||Yn(s,this.options),o.order=r.order||0,o.index=t,o.label=""+r.label,o.visible=this.isDatasetVisible(t),o.controller?(o.controller.updateIndex(t),o.controller.linkScales()):(r=C.getController(s),a=(s=I.datasets[s]).datasetElementType,Object.assign(r,{dataElementType:C.getElement(s.dataElementType),datasetElementType:a&&C.getElement(a)}),o.controller=new r(this,t),i.push(o.controller))}return this._updateMetasets(),i}},{key:"_resetElements",value:function(){var i=this;M(this.data.datasets,function(t,e){i.getDatasetMeta(e).controller.reset()},this)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(t){var e=this.config,e=(e.update(),this._options=e.createResolver(e.chartOptionScopes(),this.getContext())),i=this._animationsDisabled=!e.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})){for(var n=this.buildOrUpdateControllers(),a=(this.notifyPlugins("beforeElementsUpdate"),0),r=0,o=this.data.datasets.length;r<o;r++){var s=this.getDatasetMeta(r).controller,l=!i&&-1===n.indexOf(s);s.buildOrUpdateElements(l),a=Math.max(+s.getMaxOverflow(),a)}a=this._minPadding=e.layout.autoPadding?a:0,this._updateLayout(a),i||M(n,function(t){t.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(oa("z","_idx"));e=this._active,t=this._lastEvent;t?this._eventHandler(t,!0):e.length&&this._updateHoverStyles(e,e,!0),this.render()}}},{key:"_updateScales",value:function(){var e=this;M(this.scales,function(t){a.removeBox(e,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}},{key:"_checkEventBindings",value:function(){var t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);Q(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}},{key:"_updateHiddenIndices",value:function(){var t,e=this._hiddenIndices,i=_createForOfIteratorHelper(this._getUniformDataChanges()||[]);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,a=n.method,r=n.count,o=(c=f=d=u=h=l=s=o=void 0,e),s=n.start,l="_removeElements"===a?-r:r,h=0,u=Object.keys(o);h<u.length;h++){var c,d=u[h],f=+d;s<=f&&(c=o[d],delete o[d],0<l||s<f)&&(o[f+l]=c)}}catch(t){i.e(t)}finally{i.f()}}},{key:"_getUniformDataChanges",value:function(){var t=this._dataChanges;if(t&&t.length){this._dataChanges=[];for(var e=this.data.datasets.length,i=function(e){return new Set(t.filter(function(t){return t[0]===e}).map(function(t,e){return e+","+t.splice(1).join(",")}))},n=i(0),a=1;a<e;a++)if(!Q(n,i(a)))return;return Array.from(n).map(function(t){return t.split(",")}).map(function(t){return{method:t[1],start:+t[2],count:+t[3]}})}}},{key:"_updateLayout",value:function(t){var i,n=this;!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})&&(a.update(this,this.width,this.height,t),t=this.chartArea,i=t.width<=0||t.height<=0,this._layers=[],M(this.boxes,function(t){var e;i&&"chartArea"===t.position||(t.configure&&t.configure(),(e=n._layers).push.apply(e,_toConsumableArray(t._layers())))},this),this._layers.forEach(function(t,e){t._idx=e}),this.notifyPlugins("afterLayout"))}},{key:"_updateDatasets",value:function(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(var e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(var n=0,a=this.data.datasets.length;n<a;++n)this._updateDataset(n,tt(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}},{key:"_updateDataset",value:function(t,e){var i=this.getDatasetMeta(t),t={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",t)&&(i.controller._update(e),t.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",t))}},{key:"render",value:function(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(s.has(this)?this.attached&&!s.running(this)&&s.start(this):(this.draw(),sa({chart:this})))}},{key:"draw",value:function(){var t,e;if(this._resizeBeforeDraw&&(e=(t=this._resizeBeforeDraw).width,this._resize(e,t.height),this._resizeBeforeDraw=null),this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){for(var i=this._layers,n=0;n<i.length&&i[n].z<=0;++n)i[n].draw(this.chartArea);for(this._drawDatasets();n<i.length;++n)i[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(t){for(var e=this._sortedMetasets,i=[],n=0,a=e.length;n<a;++n){var r=e[n];t&&!r.visible||i.push(r)}return i}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var t=this.getSortedVisibleDatasetMetas(),e=t.length-1;0<=e;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(t){var e,i=this.ctx,n=t._clip,a=!n.disabled,r=(e=this.chartArea,r=t.xScale,o=t.yScale,r&&o?{left:da(r,e,"left"),right:da(r,e,"right"),top:da(o,e,"top"),bottom:da(o,e,"bottom")}:e),o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(a&&Ne(i,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),a&&Ye(i),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}},{key:"isPointInArea",value:function(t){return S(t,this.chartArea,this._minPadding)}},{key:"getElementsAtEventForMode",value:function(t,e,i,n){e=Xi.modes[e];return"function"==typeof e?e(this,t,i,n):[]}},{key:"getDatasetMeta",value:function(t){var e=this.data.datasets[t],i=this._metasets,n=i.filter(function(t){return t&&t._dataset===e}).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(n)),n}},{key:"getContext",value:function(){return this.$context||(this.$context=Ti(null,{chart:this,type:"chart"}))}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(t){var e=this.data.datasets[t];return!!e&&("boolean"==typeof(t=this.getDatasetMeta(t)).hidden?!t.hidden:!e.hidden)}},{key:"setDatasetVisibility",value:function(t,e){this.getDatasetMeta(t).hidden=!e}},{key:"toggleDataVisibility",value:function(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}},{key:"getDataVisibility",value:function(t){return!this._hiddenIndices[t]}},{key:"_updateVisibility",value:function(e,t,i){var n=i?"show":"hide",a=this.getDatasetMeta(e),r=a.controller._resolveAnimations(void 0,n);J(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(a,{visible:i}),this.update(function(t){return t.datasetIndex===e?n:void 0}))}},{key:"hide",value:function(t,e){this._updateVisibility(t,e,!1)}},{key:"show",value:function(t,e){this._updateVisibility(t,e,!0)}},{key:"_destroyDatasetMeta",value:function(t){var e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}},{key:"_stop",value:function(){var t,e;for(this.stop(),s.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}},{key:"destroy",value:function(){this.notifyPlugins("beforeDestroy");var t=this.canvas,e=this.ctx;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),He(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ca[this.id],this.notifyPlugins("afterDestroy")}},{key:"toBase64Image",value:function(){var t;return(t=this.canvas).toDataURL.apply(t,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){function i(t,e,i){t.offsetX=e,t.offsetY=i,n._eventHandler(t)}var n=this,a=this._listeners,r=this.platform;M(this.options.events,function(t){return t=t,e=i,r.addEventListener(n,t,e),void(a[t]=e);var e})}},{key:"bindResponsiveEvents",value:function(){var i=this,n=(this._responsiveListeners||(this._responsiveListeners={}),this._responsiveListeners),a=this.platform,t=function(t,e){a.addEventListener(i,t,e),n[t]=e},e=function(t,e){n[t]&&(a.removeEventListener(i,t,e),delete n[t])},r=function(t,e){i.canvas&&i.resize(t,e)},o=function(){e("attach",o),i.attached=!0,i.resize(),t("resize",r),t("detach",s)},s=function(){i.attached=!1,e("resize",r),i._stop(),i._resize(0,0),t("attach",o)};(a.isAttached(this.canvas)?o:s)()}},{key:"unbindEvents",value:function(){var i=this;M(this._listeners,function(t,e){i.platform.removeEventListener(i,e,t)}),this._listeners={},M(this._responsiveListeners,function(t,e){i.platform.removeEventListener(i,e,t)}),this._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(t,e,i){var n,a,r=i?"set":"remove";for("dataset"===e&&this.getDatasetMeta(t[0].datasetIndex).controller["_"+r+"DatasetHoverStyle"](),n=0,a=t.length;n<a;++n){var o,s=(o=t[n])&&this.getDatasetMeta(o.datasetIndex).controller;s&&s[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(t){var n=this,e=this._active||[],t=t.map(function(t){var e=t.datasetIndex,t=t.index,i=n.getDatasetMeta(e);if(i)return{datasetIndex:e,element:i.data[t],index:t};throw new Error("No dataset found at index "+e)});V(t,e)||(this._active=t,this._lastEvent=null,this._updateHoverStyles(t,e))}},{key:"notifyPlugins",value:function(t,e,i){return this._plugins.notify(this,t,e,i)}},{key:"isPluginEnabled",value:function(e){return 1===this._plugins._cache.filter(function(t){return t.plugin.id===e}).length}},{key:"_updateHoverStyles",value:function(t,e,i){function n(t,i){return t.filter(function(e){return!i.some(function(t){return e.datasetIndex===t.datasetIndex&&e.index===t.index})})}var a=this.options.hover,r=n(e,t),i=i?t:n(t,e);r.length&&this.updateHoverStyle(r,a.mode,!1),i.length&&a.mode&&this.updateHoverStyle(i,a.mode,!0)}},{key:"_eventHandler",value:function(e,t){function i(t){return(t.options.events||n.options.events).includes(e.native.type)}var n=this,a={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)};if(!1!==this.notifyPlugins("beforeEvent",a,i))return t=this._handleEvent(e,t,a.inChartArea),a.cancelable=!1,this.notifyPlugins("afterEvent",a,i),(t||a.changed)&&this.render(),this}},{key:"_handleEvent",value:function(t,e,i){var n=this._active,n=void 0===n?[]:n,a=this.options,r=this._getActiveElements(t,n,i,e),o=et(t),s=(s=this._lastEvent,i&&"mouseout"!==t.type?o?s:t:null),i=(i&&(this._lastEvent=null,l(a.onHover,[t,r,this],this),o)&&l(a.onClick,[t,r,this],this),!V(r,n));return(i||e)&&(this._active=r,this._updateHoverStyles(r,n,e)),this._lastEvent=s,i}},{key:"_getActiveElements",value:function(t,e,i,n){return"mouseout"===t.type?[]:i?(i=this.options.hover,this.getElementsAtEventForMode(t,i.mode,i,n)):e}}],[{key:"register",value:function(){C.add.apply(C,arguments),fa()}},{key:"unregister",value:function(){C.remove.apply(C,arguments),fa()}}])}();function fa(){M(i.instances,function(t){return t._plugins.invalidate()})}function pa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}_defineProperty(i,"defaults",I),_defineProperty(i,"instances",ca),_defineProperty(i,"overrides",be),_defineProperty(i,"registry",C),_defineProperty(i,"version","4.4.3"),_defineProperty(i,"getChart",ua);var ga={_date:function(){function e(t){_classCallCheck(this,e),_defineProperty(this,"options",void 0),this.options=t||{}}return _createClass(e,[{key:"init",value:function(){}},{key:"formats",value:pa},{key:"parse",value:pa},{key:"format",value:pa},{key:"add",value:pa},{key:"diff",value:pa},{key:"startOf",value:pa},{key:"endOf",value:pa}],[{key:"override",value:function(t){Object.assign(e.prototype,t)}}])}()};function va(t,e,i,n){return B(t)?(a=t,r=e,s=n,l=(o=i).parse(a[0],s),a=o.parse(a[1],s),s=Math.min(l,a),h=Math.max(l,a),u=s,c=h,Math.abs(s)>Math.abs(h)&&(u=h,c=s),r[o.axis]=c,r._custom={barStart:u,barEnd:c,start:l,end:a,min:s,max:h}):e[i.axis]=i.parse(t,n),e;var a,r,o,s,l,h,u,c}function ya(t,e,i,n){for(var a,r,o=t.iScale,s=t.vScale,l=o.getLabels(),h=o===s,u=[],c=i,d=i+n;c<d;++c)r=e[c],(a={})[o.axis]=h||o.parse(l[c],c),u.push(va(r,a,s,c));return u}function ma(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function ba(t,e,i,n){return t=n?_a(t=t===e?i:t===i?e:t,i,e):_a(t,e,i)}function _a(t,e,i){return"start"===t?e:"end"===t?i:t}var xa=function(){function i(t,e){return _classCallCheck(this,i),(t=_callSuper(this,i,[t,e])).enableOptionSharing=!0,t.innerRadius=void 0,t.outerRadius=void 0,t.offsetX=void 0,t.offsetY=void 0,t}return _inherits(i,n),_createClass(i,[{key:"linkScales",value:function(){}},{key:"parse",value:function(t,e){var i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{var a,r,o,s,l=function(t){return+i[t]};for(H(i[t])&&(o=this._parsing.key,s=void 0===o?"value":o,l=function(t){return+p(i[t],s)}),r=(a=t)+e;a<r;++a)n._parsed[a]=l(a)}}},{key:"_getRotation",value:function(){return j(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return j(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var t,e,i=k,n=-k,a=0;a<this.chart.data.datasets.length;++a)this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type&&(t=(e=this.chart.getDatasetMeta(a).controller)._getRotation(),e=e._getCircumference(),i=Math.min(i,t),n=Math.max(n,t+e));return{rotation:i,circumference:n-i}}},{key:"update",value:function(t){var n,a,r,e,i,o,s=this.chart.chartArea,l=this._cachedMeta,h=l.data,u=this.getMaxBorderWidth()+this.getMaxOffset(h)+this.options.spacing,c=Math.max((Math.min(s.width,s.height)-u)/2,0),c=Math.min(R(this.options.cutout,c),1),d=this._getRingWeight(this.index),f=this._getRotationExtents(),p=f.circumference,f=f.rotation,g=(n=c,e=_=1,o=i=0,p<k&&(r=(a=f)+p,f=Math.cos(a),p=Math.sin(a),b=Math.cos(r),v=Math.sin(r),g=function(t,e,i){return bt(t,a,r,!0)?-1:Math.min(e,e*n,i,i*n)},y=(m=function(t,e,i){return bt(t,a,r,!0)?1:Math.max(e,e*n,i,i*n)})(0,f,b),m=m(w,p,v),_=(y-(f=g(x,f,b)))/2,e=(m-(b=g(x+w,p,v)))/2,i=-(y+f)/2,o=-(m+b)/2),{ratioX:_,ratioY:e,offsetX:i,offsetY:o}),p=g.offsetX,v=g.offsetY,y=(s.width-u)/g.ratioX,f=(s.height-u)/g.ratioY,m=Math.max(Math.min(y,f)/2,0),b=F(this.options.radius,m),_=(b-Math.max(b*c,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*b,this.offsetY=v*b,l.total=this.calculateTotal(),this.outerRadius=b-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*d,0),this.updateElements(h,0,h.length,t)}},{key:"_circumference",value:function(t,e){var i=this.options,n=this._cachedMeta,a=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===n._parsed[t]||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*a/k)}},{key:"updateElements",value:function(t,e,i,n){for(var a="reset"===n,r=this.chart,o=r.chartArea,r=r.options.animation,s=(o.left+o.right)/2,l=(o.top+o.bottom)/2,o=a&&r.animateScale,h=o?0:this.innerRadius,u=o?0:this.outerRadius,r=this._getSharedOptions(e,n),c=r.sharedOptions,d=r.includeOptions,f=this._getRotation(),p=0;p<e;++p)f+=this._circumference(p,a);for(p=e;p<e+i;++p){var g=this._circumference(p,a),v=t[p],y={x:s+this.offsetX,y:l+this.offsetY,startAngle:f,endAngle:f+g,circumference:g,outerRadius:u,innerRadius:h};d&&(y.options=c||this.resolveDataElementOptions(p,v.active?"active":n)),f+=g,this.updateElement(v,p,y,n)}}},{key:"calculateTotal",value:function(){for(var t=this._cachedMeta,e=t.data,i=0,n=0;n<e.length;n++){var a=t._parsed[n];null===a||isNaN(a)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(a))}return i}},{key:"calculateCircumference",value:function(t){var e=this._cachedMeta.total;return 0<e&&!isNaN(t)?k*(Math.abs(t)/e):0}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,i=this.chart,n=i.data.labels||[],e=ve(e._parsed[t],i.options.locale);return{label:n[t]||"",value:e}}},{key:"getMaxBorderWidth",value:function(t){var e,i,n,a,r,o=0,s=this.chart;if(!t)for(e=0,i=s.data.datasets.length;e<i;++e)if(s.isDatasetVisible(e)){t=(n=s.getDatasetMeta(e)).data,a=n.controller;break}if(!t)return 0;for(e=0,i=t.length;e<i;++e)"inner"!==(r=a.resolveDataElementOptions(e)).borderAlign&&(o=Math.max(o,r.borderWidth||0,r.hoverBorderWidth||0));return o}},{key:"getMaxOffset",value:function(t){for(var e=0,i=0,n=t.length;i<n;++i)var a=this.resolveDataElementOptions(i),e=Math.max(e,a.offset||0,a.hoverOffset||0);return e}},{key:"_getRingWeightOffset",value:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}},{key:"_getRingWeight",value:function(t){return Math.max(z(this.chart.data.datasets[t].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}])}(),ka=(_defineProperty(xa,"id","doughnut"),_defineProperty(xa,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),_defineProperty(xa,"descriptors",{_scriptable:function(t){return"spacing"!==t},_indexable:function(t){return"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}}),_defineProperty(xa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(n){var t,a,r,e=n.data;return e.labels.length&&e.datasets.length?(t=n.legend.options.labels,a=t.pointStyle,r=t.color,e.labels.map(function(t,e){var i=n.getDatasetMeta(0).controller.getStyle(e);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:a,hidden:!n.getDataVisibility(e),index:e}})):[]}},onClick:function(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}}),function(){function i(t,e){return _classCallCheck(this,i),(t=_callSuper(this,i,[t,e])).innerRadius=void 0,t.outerRadius=void 0,t}return _inherits(i,n),_createClass(i,[{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,i=this.chart,n=i.data.labels||[],e=ve(e._parsed[t].r,i.options.locale);return{label:n[t]||"",value:e}}},{key:"parseObjectData",value:function(t,e,i,n){return si.bind(this)(t,e,i,n)}},{key:"update",value:function(t){var e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}},{key:"getMinMax",value:function(){var n=this,t=this._cachedMeta,a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(function(t,e){var i=n.getParsed(e).r;!isNaN(i)&&n.chart.getDataVisibility(e)&&(i<a.min&&(a.min=i),a.max<i)&&(a.max=i)}),a}},{key:"_updateRadius",value:function(){var t=this.chart,e=t.chartArea,i=t.options,e=Math.min(e.right-e.left,e.bottom-e.top),e=Math.max(e/2,0),i=(e-Math.max(i.cutoutPercentage?e/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=e-i*this.index,this.innerRadius=this.outerRadius-i}},{key:"updateElements",value:function(t,e,i,n){for(var a="reset"===n,r=this.chart,o=r.options.animation,s=this._cachedMeta.rScale,l=s.xCenter,h=s.yCenter,u=s.getIndexAngle(0)-.5*x,c=u,d=360/this.countVisibleElements(),f=0;f<e;++f)c+=this._computeAngle(f,n,d);for(f=e;f<e+i;f++){var p=t[f],g=c,v=c+this._computeAngle(f,n,d),y=r.getDataVisibility(f)?s.getDistanceFromCenterForValue(this.getParsed(f).r):0,c=v,y=(a&&(o.animateScale&&(y=0),o.animateRotate)&&(g=v=u),{x:l,y:h,innerRadius:0,outerRadius:y,startAngle:g,endAngle:v,options:this.resolveDataElementOptions(f,p.active?"active":n)});this.updateElement(p,f,y,n)}}},{key:"countVisibleElements",value:function(){var i=this,t=this._cachedMeta,n=0;return t.data.forEach(function(t,e){!isNaN(i.getParsed(e).r)&&i.chart.getDataVisibility(e)&&n++}),n}},{key:"_computeAngle",value:function(t,e,i){return this.chart.getDataVisibility(t)?j(this.resolveDataElementOptions(t,e).angle||i):0}}])}()),o=(_defineProperty(ka,"id","polarArea"),_defineProperty(ka,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),_defineProperty(ka,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(n){var t,a,r,e=n.data;return e.labels.length&&e.datasets.length?(t=n.legend.options.labels,a=t.pointStyle,r=t.color,e.labels.map(function(t,e){var i=n.getDatasetMeta(0).controller.getStyle(e);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:a,hidden:!n.getDataVisibility(e),index:e}})):[]}},onClick:function(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),Object.freeze({__proto__:null,BarController:(_defineProperty(o=function(){function a(){return _classCallCheck(this,a),_callSuper(this,a,arguments)}return _inherits(a,n),_createClass(a,[{key:"parsePrimitiveData",value:ya},{key:"parseArrayData",value:ya},{key:"parseObjectData",value:function(t,e,i,n){for(var a,r,o=t.iScale,s=t.vScale,t=this._parsing,l=t.xAxisKey,l=void 0===l?"x":l,t=t.yAxisKey,t=void 0===t?"y":t,h="x"===o.axis?l:t,u="x"===s.axis?l:t,c=[],d=i,f=i+n;d<f;++d)r=e[d],(a={})[o.axis]=o.parse(p(r,h),d),c.push(va(p(r,u),a,s,d));return c}},{key:"updateRangeFromParsed",value:function(t,e,i,n){_superPropGet(a,"updateRangeFromParsed",this,3)([t,e,i,n]);n=i._custom;n&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,i=e.iScale,e=e.vScale,t=this.getParsed(t),n=t._custom,n=ma(n)?"["+n.start+", "+n.end+"]":""+e.getLabelForValue(t[e.axis]);return{label:""+i.getLabelForValue(t[i.axis]),value:n}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,_superPropGet(a,"initialize",this,3)([]),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(t){var e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}},{key:"updateElements",value:function(t,e,i,n){for(var a,r,o,s,l,h,u,c,d,f,p,g="reset"===n,v=this.index,y=this._cachedMeta.vScale,m=y.getBasePixel(),b=y.isHorizontal(),_=this._getRuler(),x=this._getSharedOptions(e,n),k=x.sharedOptions,w=x.includeOptions,M=e;M<e+i;M++){var P=this.getParsed(M),S=g||D(P[y.axis])?{base:m,head:m}:this._calculateBarValuePixels(M),C=this._calculateBarIndexPixels(M,_),O=(P._stacks||{})[y.axis],P={horizontal:b,base:S.base,enableBorderRadius:!O||ma(P._custom)||v===O._top||v===O._bottom,x:b?S.head:C.center,y:b?C.center:S.head,height:b?C.size:Math.abs(S.size),width:b?Math.abs(S.size):C.size},S=(w&&(P.options=k||this.resolveDataElementOptions(M,t[M].active?"active":n)),P.options||t[M].options);C=P,O=O,r=v,p=f=d=c=u=h=l=s=o=void 0,a=(a=S).borderSkipped,p={},a?!0===a?C.borderSkipped={top:!0,right:!0,bottom:!0,left:!0}:(d=C.horizontal?(h=C.x<C.base,u="left","right"):(h=C.base<C.y,u="bottom","top"),f=h?(c="end","start"):(c="start","end"),f=(d={start:u,end:d,reverse:h,top:c,bottom:f}).start,o=d.end,s=d.reverse,l=d.top,d=d.bottom,"middle"===a&&O&&(C.enableBorderRadius=!0,a=(O._top||0)===r?l:(O._bottom||0)===r?d:(p[ba(d,f,o,s)]=!0,l)),p[ba(a,f,o,s)]=!0,C.borderSkipped=p):C.borderSkipped=p,u=S,h=_.ratio,u=u.inflateAmount,P.inflateAmount="auto"===u?1===h?.33:0:u,this.updateElement(t[M],M,P,n)}}},{key:"_getStacks",value:function(t,i){var e,n=this._cachedMeta.iScale,a=n.getMatchingVisibleMetas(this._type).filter(function(t){return t.controller.options.grouped}),r=n.options.stacked,o=[],s=_createForOfIteratorHelper(a);try{for(s.s();!(e=s.n()).done;){var l=e.value;if((void 0===i||!function(t){var e=t.controller.getParsed(i),e=e&&e[t.vScale.axis];if(D(e)||isNaN(e))return!0}(l))&&((!1===r||-1===o.indexOf(l.stack)||void 0===r&&void 0===l.stack)&&o.push(l.stack),l.index===t))break}}catch(t){s.e(t)}finally{s.f()}return o.length||o.push(void 0),o}},{key:"_getStackCount",value:function(t){return this._getStacks(void 0,t).length}},{key:"_getStackIndex",value:function(t,e,i){t=this._getStacks(t,i),i=void 0!==e?t.indexOf(e):-1;return-1===i?t.length-1:i}},{key:"_getRuler",value:function(){for(var t=this.options,e=this._cachedMeta,i=e.iScale,n=[],a=0,r=e.data.length;a<r;++a)n.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));var o=t.barThickness;return{min:o||function(r){for(var t,e,i=r.iScale,n=function(t){if(!t._cache.$bar){for(var e=t.getMatchingVisibleMetas(r.type),i=[],n=0,a=e.length;n<a;n++)i=i.concat(e[n].controller.getAllParsedValues(t));t._cache.$bar=Ct(i.sort(function(t,e){return t-e}))}return t._cache.$bar}(i),a=i._length,o=function(){32767!==t&&-32768!==t&&(J(e)&&(a=Math.min(a,Math.abs(t-e)||a)),e=t)},s=0,l=n.length;s<l;++s)t=i.getPixelForValue(n[s]),o();for(e=void 0,s=0,l=i.ticks.length;s<l;++s)t=i.getPixelForTick(s),o();return a}(e),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}},{key:"_calculateBarValuePixels",value:function(t){var e=this._cachedMeta,i=e.vScale,n=e._stacked,e=e.index,a=this.options,r=a.base,a=a.minBarLength,o=r||0,s=this.getParsed(t),l=s._custom,h=ma(l),u=s[i.axis],c=0,d=n?this.applyStack(i,s,n):u,l=(d!==u&&(c=d-u,d=u),h&&(u=l.barStart,d=l.barEnd-l.barStart,0!==u&&_(u)!==_(l.barEnd)&&(c=0),c+=u),D(r)||h?c:r),r=i.getPixelForValue(l);return l=this.chart.getDataVisibility(t)?i.getPixelForValue(c+d):r,t=l-r,Math.abs(t)<a&&(c=i,d=o,t=(0!==t?_(t):(c.isHorizontal()?1:-1)*(c.min>=d?1:-1))*a,u===o&&(r-=t/2),c=i.getPixelForDecimal(0),d=i.getPixelForDecimal(1),a=Math.min(c,d),u=Math.max(c,d),l=(r=Math.max(Math.min(r,u),a))+t,n)&&!h&&(s._stacks[i.axis]._visualValues[e]=i.getValueForPixel(l)-i.getValueForPixel(r)),r===i.getPixelForValue(o)&&(r+=c=_(t)*i.getLineWidthForValue(o)/2,t-=c),{size:t,base:r,head:l,center:l+t/2}}},{key:"_calculateBarIndexPixels",value:function(t,e){var i,n,a,r,o,s,l,h,u=e.scale,c=this.options,d=c.skipNull,f=z(c.maxBarThickness,1/0);return a=e.grouped?(i=d?this._getStackCount(t):e.stackCount,l="flex"===c.barThickness?(a=c,r=i,o=e.pixels,s=o[t],l=0<t?o[t-1]:null,o=t<o.length-1?o[t+1]:null,h=a.categoryPercentage,null===l&&(l=s-(null===o?e.end-e.start:o-s)),null===o&&(o=s+s-l),s-=(s-Math.min(l,o))/2*h,{chunk:Math.abs(o-l)/2*h/r,ratio:a.barPercentage,start:s}):(o=D(o=c.barThickness)?(n=e.min*c.categoryPercentage,c.barPercentage):(n=o*i,1),{chunk:n/i,ratio:o,start:e.pixels[t]-n/2}),h=this._getStackIndex(this.index,this._cachedMeta.stack,d?t:void 0),r=l.start+l.chunk*h+l.chunk/2,Math.min(f,l.chunk*l.ratio)):(r=u.getPixelForValue(this.getParsed(t)[u.axis],t),Math.min(f,e.min*e.ratio)),{base:r-a/2,head:r+a/2,center:r,size:a}}},{key:"draw",value:function(){for(var t=this._cachedMeta,e=t.vScale,i=t.data,n=i.length,a=0;a<n;++a)null===this.getParsed(a)[e.axis]||i[a].hidden||i[a].draw(this._ctx)}}])}(),"id","bar"),_defineProperty(o,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),_defineProperty(o,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),o),BubbleController:(_defineProperty(o=function(){function s(){return _classCallCheck(this,s),_callSuper(this,s,arguments)}return _inherits(s,n),_createClass(s,[{key:"initialize",value:function(){this.enableOptionSharing=!0,_superPropGet(s,"initialize",this,3)([])}},{key:"parsePrimitiveData",value:function(t,e,i,n){for(var a=_superPropGet(s,"parsePrimitiveData",this,3)([t,e,i,n]),r=0;r<a.length;r++)a[r]._custom=this.resolveDataElementOptions(r+i).radius;return a}},{key:"parseArrayData",value:function(t,e,i,n){for(var a=_superPropGet(s,"parseArrayData",this,3)([t,e,i,n]),r=0;r<a.length;r++){var o=e[i+r];a[r]._custom=z(o[2],this.resolveDataElementOptions(r+i).radius)}return a}},{key:"parseObjectData",value:function(t,e,i,n){for(var a=_superPropGet(s,"parseObjectData",this,3)([t,e,i,n]),r=0;r<a.length;r++){var o=e[i+r];a[r]._custom=z(o&&o.r&&+o.r,this.resolveDataElementOptions(r+i).radius)}return a}},{key:"getMaxOverflow",value:function(){for(var t=this._cachedMeta.data,e=0,i=t.length-1;0<=i;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return 0<e&&e}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,i=this.chart.data.labels||[],n=e.xScale,e=e.yScale,a=this.getParsed(t),n=n.getLabelForValue(a.x),e=e.getLabelForValue(a.y),a=a._custom;return{label:i[t]||"",value:"("+n+", "+e+(a?", "+a:"")+")"}}},{key:"update",value:function(t){var e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}},{key:"updateElements",value:function(t,e,i,n){for(var a="reset"===n,r=this._cachedMeta,o=r.iScale,s=r.vScale,r=this._getSharedOptions(e,n),l=r.sharedOptions,h=r.includeOptions,u=o.axis,c=s.axis,d=e;d<e+i;d++){var f=t[d],p=!a&&this.getParsed(d),g={},v=g[u]=a?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),p=g[c]=a?s.getBasePixel():s.getPixelForValue(p[c]);g.skip=isNaN(v)||isNaN(p),h&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":n),a)&&(g.options.radius=0),this.updateElement(f,d,g,n)}}},{key:"resolveDataElementOptions",value:function(t,e){var i=this.getParsed(t),t=_superPropGet(s,"resolveDataElementOptions",this,3)([t,e]),n=(t=t.$shared?Object.assign({},t,{$shared:!1}):t).radius;return"active"!==e&&(t.radius=0),t.radius+=z(i&&i._custom,n),t}}])}(),"id","bubble"),_defineProperty(o,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),_defineProperty(o,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),o),DoughnutController:xa,LineController:(_defineProperty(o=function(){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,n),_createClass(e,[{key:"initialize",value:function(){this.enableOptionSharing=!0,this.supportsDecimation=!0,_superPropGet(e,"initialize",this,3)([])}},{key:"update",value:function(t){var e=this._cachedMeta,i=e.dataset,n=e.data,n=void 0===n?[]:n,a=e._dataset,r=this.chart._animationsDisabled,o=Lt(e,n,r),s=o.start,o=o.count,e=(this._drawStart=s,this._drawCount=o,Et(e)&&(s=0,o=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=n,this.resolveDatasetElementOptions(t));this.options.showLine||(e.borderWidth=0),e.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:e},t),this.updateElements(n,s,o,t)}},{key:"updateElements",value:function(t,e,i,n){for(var a="reset"===n,r=this._cachedMeta,o=r.iScale,s=r.vScale,l=r._stacked,h=r._dataset,r=this._getSharedOptions(e,n),u=r.sharedOptions,c=r.includeOptions,d=o.axis,f=s.axis,r=this.options,p=r.spanGaps,g=r.segment,v=ct(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||a||"none"===n,m=e+i,b=t.length,_=0<e&&this.getParsed(e-1),x=0;x<b;++x){var k,w,M,P,S=t[x],C=y?S:{};x<e||m<=x?C.skip=!0:(w=D((k=this.getParsed(x))[f]),M=C[d]=o.getPixelForValue(k[d],x),P=C[f]=a||w?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,k,l):k[f],x),C.skip=isNaN(M)||isNaN(P)||w,C.stop=0<x&&Math.abs(k[d]-_[d])>v,g&&(C.parsed=k,C.raw=h.data[x]),c&&(C.options=u||this.resolveDataElementOptions(x,S.active?"active":n)),y||this.updateElement(S,x,C,n),_=k)}}},{key:"getMaxOverflow",value:function(){var t,e=this._cachedMeta,i=e.dataset,i=i.options&&i.options.borderWidth||0,e=e.data||[];return e.length?(t=e[0].size(this.resolveDataElementOptions(0)),e=e[e.length-1].size(this.resolveDataElementOptions(e.length-1)),Math.max(i,t,e)/2):i}},{key:"draw",value:function(){var t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),_superPropGet(e,"draw",this,3)([])}}])}(),"id","line"),_defineProperty(o,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),_defineProperty(o,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),o),PieController:(_defineProperty(o=function(){function t(){return _classCallCheck(this,t),_callSuper(this,t,arguments)}return _inherits(t,xa),_createClass(t)}(),"id","pie"),_defineProperty(o,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),o),PolarAreaController:ka,RadarController:(_defineProperty(o=function(){function t(){return _classCallCheck(this,t),_callSuper(this,t,arguments)}return _inherits(t,n),_createClass(t,[{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}},{key:"parseObjectData",value:function(t,e,i,n){return si.bind(this)(t,e,i,n)}},{key:"update",value:function(t){var e,i=this._cachedMeta,n=i.dataset,a=i.data||[],i=i.iScale.getLabels();n.points=a,"resize"!==t&&(e=this.resolveDatasetElementOptions(t),this.options.showLine||(e.borderWidth=0),i={_loop:!0,_fullLoop:i.length===a.length,options:e},this.updateElement(n,void 0,i,t)),this.updateElements(a,0,a.length,t)}},{key:"updateElements",value:function(t,e,i,n){for(var a=this._cachedMeta.rScale,r="reset"===n,o=e;o<e+i;o++){var s=t[o],l=this.resolveDataElementOptions(o,s.active?"active":n),h=a.getPointPositionForValue(o,this.getParsed(o).r),u=r?a.xCenter:h.x,c=r?a.yCenter:h.y,h={x:u,y:c,angle:h.angle,skip:isNaN(u)||isNaN(c),options:l};this.updateElement(s,o,h,n)}}}])}(),"id","radar"),_defineProperty(o,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),_defineProperty(o,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),o),ScatterController:(_defineProperty(o=function(){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,n),_createClass(e,[{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,i=this.chart.data.labels||[],n=e.xScale,e=e.yScale,a=this.getParsed(t),n=n.getLabelForValue(a.x),e=e.getLabelForValue(a.y);return{label:i[t]||"",value:"("+n+", "+e+")"}}},{key:"update",value:function(t){var e,i,n=this._cachedMeta,a=n.data,a=void 0===a?[]:a,r=this.chart._animationsDisabled,o=Lt(n,a,r),s=o.start,o=o.count;this._drawStart=s,this._drawCount=o,Et(n)&&(s=0,o=a.length),this.options.showLine?(this.datasetElementType||this.addElements(),i=n._dataset,(e=n.dataset)._chart=this.chart,e._datasetIndex=this.index,e._decimated=!!i._decimated,e.points=a,(i=this.resolveDatasetElementOptions(t)).segment=this.options.segment,this.updateElement(e,void 0,{animated:!r,options:i},t)):this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1),this.updateElements(a,s,o,t)}},{key:"addElements",value:function(){var t=this.options.showLine;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),_superPropGet(e,"addElements",this,3)([])}},{key:"updateElements",value:function(t,e,i,n){for(var a="reset"===n,r=this._cachedMeta,o=r.iScale,s=r.vScale,l=r._stacked,h=r._dataset,r=this.resolveDataElementOptions(e,n),u=this.getSharedOptions(r),c=this.includeOptions(n,u),d=o.axis,f=s.axis,p=this.options,g=p.spanGaps,v=p.segment,y=ct(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||a||"none"===n,b=0<e&&this.getParsed(e-1),_=e;_<e+i;++_){var x=t[_],k=this.getParsed(_),w=m?x:{},M=D(k[f]),P=w[d]=o.getPixelForValue(k[d],_),S=w[f]=a||M?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,k,l):k[f],_);w.skip=isNaN(P)||isNaN(S)||M,w.stop=0<_&&Math.abs(k[d]-b[d])>y,v&&(w.parsed=k,w.raw=h.data[_]),c&&(w.options=u||this.resolveDataElementOptions(_,x.active?"active":n)),m||this.updateElement(x,_,w,n),b=k}this.updateSharedOptions(u,n,r)}},{key:"getMaxOverflow",value:function(){var t,e,i=this._cachedMeta,n=i.data||[];if(this.options.showLine)return i=(i=i.dataset).options&&i.options.borderWidth||0,n.length?(t=n[0].size(this.resolveDataElementOptions(0)),e=n[n.length-1].size(this.resolveDataElementOptions(n.length-1)),Math.max(i,t,e)/2):i;for(var a=0,r=n.length-1;0<=r;--r)a=Math.max(a,n[r].size(this.resolveDataElementOptions(r))/2);return 0<a&&a}}])}(),"id","scatter"),_defineProperty(o,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),_defineProperty(o,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),o)}));function wa(t,e,i,n){function a(t){var e=(i-Math.min(r,t))*n/2;return v(t,0,Math.min(r,e))}var t=Si(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),r=(i-e)/2,e=Math.min(r,n*e/2);return{outerStart:a(t.outerStart),outerEnd:a(t.outerEnd),innerStart:v(t.innerStart,0,e),innerEnd:v(t.innerEnd,0,e)}}function Ma(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function Pa(t,e,i,n,a,r){var o=e.x,s=e.y,l=e.startAngle,h=e.pixelMargin,u=e.innerRadius,c=Math.max(e.outerRadius+n+i-h,0),h=0<u?u+n+i+h:0,d=0,f=a-l,u=(n&&(d=(f-(0!=(u=((0<u?u-n:0)+(0<c?c-n:0))/2)?f*u/(u+n):f))/2),(f-Math.max(.001,f*c-i/x)/c)/2),n=l+u+d,f=a-u-d,i=wa(e,h,c,f-n),l=i.outerStart,a=i.outerEnd,u=i.innerStart,d=i.innerEnd,e=c-l,i=c-a,p=n+l/e,g=f-a/i,v=h+u,y=h+d,m=n+u/v,b=f-d/y;t.beginPath(),r?(t.arc(o,s,c,p,r=(p+g)/2),t.arc(o,s,c,r,g),0<a&&(r=Ma(i,g,o,s),t.arc(r.x,r.y,a,g,f+w)),i=Ma(y,f,o,s),t.lineTo(i.x,i.y),0<d&&(r=Ma(y,b,o,s),t.arc(r.x,r.y,d,f+w,b+Math.PI)),t.arc(o,s,h,f-d/h,a=(f-d/h+(n+u/h))/2,!0),t.arc(o,s,h,a,n+u/h,!0),0<u&&(i=Ma(v,m,o,s),t.arc(i.x,i.y,u,m+Math.PI,n-w)),y=Ma(e,n,o,s),t.lineTo(y.x,y.y),0<l&&(r=Ma(e,p,o,s),t.arc(r.x,r.y,l,n-w,p))):(t.moveTo(o,s),b=Math.cos(p)*c+o,f=Math.sin(p)*c+s,t.lineTo(b,f),d=Math.cos(g)*c+o,a=Math.sin(g)*c+s,t.lineTo(d,a)),t.closePath()}function Sa(t,e,i){i=2<arguments.length&&void 0!==i?i:e;t.lineCap=z(i.borderCapStyle,e.borderCapStyle),t.setLineDash(z(i.borderDash,e.borderDash)),t.lineDashOffset=z(i.borderDashOffset,e.borderDashOffset),t.lineJoin=z(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=z(i.borderWidth,e.borderWidth),t.strokeStyle=z(i.borderColor,e.borderColor)}function Ca(t,e,i){t.lineTo(i.x,i.y)}function Oa(t,e,i){var i=2<arguments.length&&void 0!==i?i:{},t=t.length,n=i.start,n=void 0===n?0:n,i=i.end,i=void 0===i?t-1:i,a=e.start,r=e.end,o=Math.max(n,a),s=Math.min(i,r);return{count:t,start:o,loop:e.loop,ilen:s<o&&!(n<a&&i<a||r<n&&r<i)?t+s-o:s-o}}function Da(t,e,i,n){for(var a,r,o=e.points,s=e.options,e=Oa(o,i,n),l=e.count,h=e.start,i=e.loop,u=e.ilen,c=s.stepped?Ue:s.tension||"monotone"===s.cubicInterpolationMode?$e:Ca,e=n||{},n=e.move,d=void 0===n||n,f=e.reverse,p=0;p<=u;++p)(a=o[(h+(f?u-p:p))%l]).skip||(d?(t.moveTo(a.x,a.y),d=!1):c(t,r,a,f,s.stepped),r=a);return i&&c(t,r,a=o[(h+(f?u:0))%l],f,s.stepped),!!i}function Aa(t,e,i,n){function a(t){return(y+(b?m-t:t))%v}function r(){l!==h&&(t.lineTo(_,h),t.lineTo(_,l),t.lineTo(_,u))}var o,s,l,h,u,c,d,f,p,g=e.points,e=Oa(g,i,n),v=e.count,y=e.start,m=e.ilen,i=n||{},e=i.move,b=i.reverse,_=0,x=0;for((void 0===e||e)&&(p=g[a(0)],t.moveTo(p.x,p.y)),o=0;o<=m;++o)(p=g[a(o)]).skip||(d=p.y,(f=0|(c=p.x))===s?(d<l?l=d:h<d&&(h=d),_=(x*_+c)/++x):(r(),t.lineTo(c,d),s=f,x=0,l=h=d),u=d);r()}function Ta(t){var e=t.options,i=e.borderDash&&e.borderDash.length;return t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i?Da:Aa}var Ia="function"==typeof Path2D;var La=function(){function i(t){var e;return _classCallCheck(this,i),(e=_callSuper(this,i)).animated=!0,e.options=void 0,e._chart=void 0,e._loop=void 0,e._fullLoop=void 0,e._path=void 0,e._points=void 0,e._segments=void 0,e._decimated=!1,e._pointsUpdated=!1,e._datasetIndex=void 0,t&&Object.assign(_assertThisInitialized(e),t),e}return _inherits(i,e),_createClass(i,[{key:"updateControlPoints",value:function(t,e){var i,n=this.options;!n.tension&&"monotone"!==n.cubicInterpolationMode||n.stepped||this._pointsUpdated||(i=n.spanGaps?this._loop:this._fullLoop,pi(this._points,n,t,i,e),this._pointsUpdated=!0)}},{key:"points",get:function(){return this._points},set:function(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=Bi(this,this.options.segment))}},{key:"first",value:function(){var t=this.segments,e=this.points;return t.length&&e[t[0].start]}},{key:"last",value:function(){var t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}},{key:"interpolate",value:function(t,e){var i=this.options,n=t[e],a=this.points,r=Vi(this,{property:e,start:n,end:n});if(r.length){for(var o=[],s=i.stepped?_i:i.tension||"monotone"===i.cubicInterpolationMode?xi:bi,l=0,h=r.length;l<h;++l){var u=r[l],c=a[u.start],u=a[u.end];c===u?o.push(c):((u=s(c,u,Math.abs((n-c[e])/(u[e]-c[e])),i.stepped))[e]=t[e],o.push(u))}return 1===o.length?o[0]:o}}},{key:"pathSegment",value:function(t,e,i){return Ta(this)(t,this,e,i)}},{key:"path",value:function(t,e,i){var n,a=this.segments,r=Ta(this),o=this._loop,s=(e=e||0,i=i||this.points.length-e,_createForOfIteratorHelper(a));try{for(s.s();!(n=s.n()).done;)o&=r(t,this,n.value,{start:e,end:e+i-1})}catch(t){s.e(t)}finally{s.f()}return!!o}},{key:"draw",value:function(t,e,i,n){var a,r,o,s,l=this.options||{};if((this.points||[]).length&&l.borderWidth){t.save(),l=t;var h=this;if(Ia&&!h.options.segment)a=l,g=i,o=n,(s=(r=h)._path)||(s=r._path=new Path2D,r.path(s,g,o)&&s.closePath()),Sa(a,r.options),a.stroke(s);else{var u,c=l,d=h,f=i,p=n,g=d.segments,v=d.options,y=Ta(d),m=_createForOfIteratorHelper(g);try{for(m.s();!(u=m.n()).done;){var b=u.value;Sa(c,v,b.style),c.beginPath(),y(c,d,b,{start:f,end:f+p-1})&&c.closePath(),c.stroke()}}catch(t){m.e(t)}finally{m.f()}}t.restore()}this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}])}();function Ea(t,e,i,n){var a=t.options,t=t.getProps([i],n)[i];return Math.abs(e-t)<a.radius+a.hitRadius}function Ra(t,e){var i,n,a,r,e=t.getProps(["x","y","base","width","height"],e),o=e.x,s=e.y,l=e.base,h=e.width,t=t.horizontal?(r=e.height/2,i=Math.min(o,l),n=Math.max(o,l),a=s-r,s+r):(i=o-(r=h/2),n=o+r,a=Math.min(s,l),Math.max(s,l));return{left:i,top:a,right:n,bottom:t}}function Fa(t,e,i,n){return t?0:v(e,i,n)}function za(t,e,i,n){var a=null===e,r=null===i,t=t&&!(a&&r)&&Ra(t,n);return t&&(a||c(e,t.left,t.right))&&(r||c(i,t.top,t.bottom))}function Va(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ba(t,e,i){var i=2<arguments.length&&void 0!==i?i:{},n=t.x!==i.x?-e:0,a=t.y!==i.y?-e:0;return{x:t.x+n,y:t.y+a,w:t.w+((t.x+t.w!==i.x+i.w?e:0)-n),h:t.h+((t.y+t.h!==i.y+i.h?e:0)-a),radius:t.radius}}_defineProperty(La,"id","line"),_defineProperty(La,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),_defineProperty(La,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),_defineProperty(La,"descriptors",{_scriptable:!0,_indexable:function(t){return"borderDash"!==t&&"fill"!==t}});var h=Object.freeze({__proto__:null,ArcElement:(h=function(){function i(t){var e;return _classCallCheck(this,i),_defineProperty(_assertThisInitialized(e=_callSuper(this,i)),"circumference",void 0),_defineProperty(_assertThisInitialized(e),"endAngle",void 0),_defineProperty(_assertThisInitialized(e),"fullCircles",void 0),_defineProperty(_assertThisInitialized(e),"innerRadius",void 0),_defineProperty(_assertThisInitialized(e),"outerRadius",void 0),_defineProperty(_assertThisInitialized(e),"pixelMargin",void 0),_defineProperty(_assertThisInitialized(e),"startAngle",void 0),e.options=void 0,e.circumference=void 0,e.startAngle=void 0,e.endAngle=void 0,e.innerRadius=void 0,e.outerRadius=void 0,e.pixelMargin=0,e.fullCircles=0,t&&Object.assign(_assertThisInitialized(e),t),e}return _inherits(i,e),_createClass(i,[{key:"inRange",value:function(t,e,i){var t=vt(this.getProps(["x","y"],i),{x:t,y:e}),e=t.angle,t=t.distance,i=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),n=i.startAngle,a=i.endAngle,r=(this.options.spacing+this.options.borderWidth)/2,e=z(i.circumference,a-n)>=k||bt(e,n,a),n=c(t,i.innerRadius+r,i.outerRadius+r);return e&&n}},{key:"getCenterPoint",value:function(t){var t=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),e=t.x,i=t.y,n=this.options,a=n.offset,r=(t.startAngle+t.endAngle)/2,t=(t.innerRadius+t.outerRadius+n.spacing+a)/2;return{x:e+Math.cos(r)*t,y:i+Math.sin(r)*t}}},{key:"tooltipPosition",value:function(t){return this.getCenterPoint(t)}},{key:"draw",value:function(t){var e=this.options,i=this.circumference,n=(e.offset||0)/4,a=(e.spacing||0)/2,r=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=k<i?Math.floor(i/k):0,!(0===i||this.innerRadius<0||this.outerRadius<0)){t.save();var o=(this.startAngle+this.endAngle)/2,o=(t.translate(Math.cos(o)*n,Math.sin(o)*n),n*(1-Math.sin(Math.min(x,i||0)))),s=(t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,t),n=this,i=o,e=a,l=r,h=n.fullCircles,u=n.startAngle,c=n.circumference,d=n.endAngle;if(h){Pa(s,n,i,e,d,l);for(var f=0;f<h;++f)s.fill();isNaN(c)||(d=u+(c%k||k))}Pa(s,n,i,e,d,l),s.fill();var p=t,u=this,c=o,n=a,i=r,g=u.fullCircles,e=u.startAngle,d=u.circumference,o=(l=u.options).borderWidth,a=l.borderJoinStyle,r=l.borderDash,v=l.borderDashOffset,l="inner"===l.borderAlign;if(o){p.setLineDash(r||[]),p.lineDashOffset=v,l?(p.lineWidth=2*o,p.lineJoin=a||"round"):(p.lineWidth=o,p.lineJoin=a||"bevel");var y,m,b,r=u.endAngle;if(g){Pa(p,u,c,n,r,i);for(var _=0;_<g;++_)p.stroke();isNaN(d)||(r=e+(d%k||k))}l&&(v=p,o=r,a=u.startAngle,e=u.pixelMargin,d=u.x,l=u.y,y=u.outerRadius,m=u.innerRadius,b=e/y,v.beginPath(),v.arc(d,l,y,a-b,o+b),e<m?v.arc(d,l,m,o+(b=e/m),a-b,!0):v.arc(d,l,e,o+w,a-w),v.closePath(),v.clip()),g||(Pa(p,u,c,n,r,i),p.stroke())}t.restore()}}}])}(),_defineProperty(h,"id","arc"),_defineProperty(h,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),_defineProperty(h,"defaultRoutes",{backgroundColor:"backgroundColor"}),_defineProperty(h,"descriptors",{_scriptable:!0,_indexable:function(t){return"borderDash"!==t}}),h),BarElement:(_defineProperty(h=function(){function i(t){var e;return _classCallCheck(this,i),(e=_callSuper(this,i)).options=void 0,e.horizontal=void 0,e.base=void 0,e.width=void 0,e.height=void 0,e.inflateAmount=void 0,t&&Object.assign(_assertThisInitialized(e),t),e}return _inherits(i,e),_createClass(i,[{key:"draw",value:function(t){var e,i,n,a,r,o,s=this.inflateAmount,l=this.options,h=l.borderColor,l=l.backgroundColor,u=(i=Ra(e=this),n=i.right-i.left,c=n/2,r=(a=i.bottom-i.top)/2,d=e.options.borderWidth,f=e.borderSkipped,d=Ci(d),r={t:Fa(f.top,d.top,0,r),r:Fa(f.right,d.right,0,c),b:Fa(f.bottom,d.bottom,0,r),l:Fa(f.left,d.left,0,c)},f=n/2,d=a/2,e=(c=e).getProps(["enableBorderRadius"]).enableBorderRadius,u=c.options.borderRadius,o=Oi(u),f=Math.min(f,d),d=c.borderSkipped,e={topLeft:Fa(!(c=e||H(u))||d.top||d.left,o.topLeft,0,f),topRight:Fa(!c||d.top||d.right,o.topRight,0,f),bottomLeft:Fa(!c||d.bottom||d.left,o.bottomLeft,0,f),bottomRight:Fa(!c||d.bottom||d.right,o.bottomRight,0,f)},{outer:{x:i.left,y:i.top,w:n,h:a,radius:e},inner:{x:i.left+r.l,y:i.top+r.t,w:n-r.l-r.r,h:a-r.t-r.b,radius:{topLeft:Math.max(0,e.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,e.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,e.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,e.bottomRight-Math.max(r.b,r.r))}}}),c=u.inner,d=u.outer,f=(o=d.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?Ge:Va;t.save(),d.w===c.w&&d.h===c.h||(t.beginPath(),f(t,Ba(d,s,c)),t.clip(),f(t,Ba(c,-s,d)),t.fillStyle=h,t.fill("evenodd")),t.beginPath(),f(t,Ba(c,s)),t.fillStyle=l,t.fill(),t.restore()}},{key:"inRange",value:function(t,e,i){return za(this,t,e,i)}},{key:"inXRange",value:function(t,e){return za(this,t,null,e)}},{key:"inYRange",value:function(t,e){return za(this,null,t,e)}},{key:"getCenterPoint",value:function(t){var t=this.getProps(["x","y","base","horizontal"],t),e=t.x,i=t.y,n=t.base,t=t.horizontal;return{x:t?(e+n)/2:e,y:t?i:(i+n)/2}}},{key:"getRange",value:function(t){return"x"===t?this.width/2:this.height/2}}])}(),"id","bar"),_defineProperty(h,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),_defineProperty(h,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),h),LineElement:La,PointElement:(h=function(){function i(t){var e;return _classCallCheck(this,i),_defineProperty(_assertThisInitialized(e=_callSuper(this,i)),"parsed",void 0),_defineProperty(_assertThisInitialized(e),"skip",void 0),_defineProperty(_assertThisInitialized(e),"stop",void 0),_assertThisInitialized(e),e.options=void 0,e.parsed=void 0,e.skip=void 0,e.stop=void 0,t&&Object.assign(_assertThisInitialized(e),t),e}return _inherits(i,e),_createClass(i,[{key:"inRange",value:function(t,e,i){var n=this.options,i=this.getProps(["x","y"],i),a=i.x,i=i.y;return Math.pow(t-a,2)+Math.pow(e-i,2)<Math.pow(n.hitRadius+n.radius,2)}},{key:"inXRange",value:function(t,e){return Ea(this,t,"x",e)}},{key:"inYRange",value:function(t,e){return Ea(this,t,"y",e)}},{key:"getCenterPoint",value:function(t){t=this.getProps(["x","y"],t);return{x:t.x,y:t.y}}},{key:"size",value:function(t){var e=(t=t||this.options||{}).radius||0;return 2*((e=Math.max(e,e&&t.hoverRadius||0))+(e&&t.borderWidth||0))}},{key:"draw",value:function(t,e){var i=this.options;this.skip||i.radius<.1||!S(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,je(t,i,this.x,this.y))}},{key:"getRange",value:function(){var t=this.options||{};return t.radius+t.hitRadius}}])}(),_defineProperty(h,"id","point"),_defineProperty(h,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),_defineProperty(h,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),h)});function Ha(t){var e=this.getLabels();return 0<=t&&t<e.length?e[t]:t}function ja(t,e,i){var n=i.horizontal,i=j(i.minRotation),n=(n?Math.sin(i):Math.cos(i))||.001;return Math.min(e/n,.75*e*(""+t).length)}function Wa(t,e){return Math.pow(10,Ua(t)+e)}var Na=function(){function n(t){return _classCallCheck(this,n),(t=_callSuper(this,n,[t])).start=void 0,t.end=void 0,t._startValue=void 0,t._endValue=void 0,t._valueRange=0,t}return _inherits(n,jn),_createClass(n,[{key:"parse",value:function(t,e){return D(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}},{key:"handleTickRangeOptions",value:function(){function t(t){s=r?s:t}function e(t){l=o?l:t}var i,n=this.options.beginAtZero,a=this.getUserBounds(),r=a.minDefined,o=a.maxDefined,s=this.min,l=this.max;n&&(a=_(s),i=_(l),a<0&&i<0?e(0):0<a&&0<i&&t(0)),s===l&&(a=0===l?1:Math.abs(.05*l),e(l+a),n||t(s-a)),this.min=s,this.max=l}},{key:"getTickLimit",value:function(){var t,e=this.options.ticks,i=e.maxTicksLimit,e=e.stepSize;return e?1e3<(t=Math.ceil(this.max/e)-Math.floor(this.min/e)+1)&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(e," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3):(t=this.computeTickLimit(),i=i||11),t=i?Math.min(i,t):t}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var t=this.options,e=t.ticks,i=this.getTickLimit(),i=function(t,e){var i,n=[],a=t.bounds,r=t.step,o=t.min,s=t.max,l=t.precision,h=t.count,u=t.maxTicks,c=t.includeBounds,d=r||1,f=u-1,p=e.min,e=e.max,g=!D(o),v=!D(s),y=!D(h),m=(e-p)/(t.maxDigits+1),b=ht((e-p)/f/d)*d;if(b<1e-14&&!g&&!v)return[{value:p},{value:e}];f<(i=Math.ceil(e/b)-Math.floor(p/b))&&(b=ht(i*b/f/d)*d),D(l)||(_=Math.pow(10,l),b=Math.ceil(b*_)/_),f="ticks"===a?(x=Math.floor(p/b)*b,Math.ceil(e/b)*b):(x=p,e),g&&v&&r&&dt((s-o)/r,b/1e3)?(b=(s-o)/(i=Math.round(Math.min((s-o)/b,u))),x=o,f=s):y?b=((f=v?s:f)-(x=g?o:x))/(i=h-1):i=lt(i=(f-x)/b,Math.round(i),b/1e3)?Math.round(i):Math.ceil(i);var d=Math.max(gt(b),gt(x)),_=Math.pow(10,D(l)?d:l),x=Math.round(x*_)/_,f=Math.round(f*_)/_,k=0;for(g&&(c&&x!==o?(n.push({value:o}),x<o&&k++,lt(Math.round((x+k*b)*_)/_,o,ja(o,m,t))&&k++):x<o&&k++);k<i;++k){var w=Math.round((x+k*b)*_)/_;if(v&&s<w)break;n.push({value:w})}return v&&c&&f!==s?n.length&&lt(n[n.length-1].value,s,ja(s,m,t))?n[n.length-1].value=s:n.push({value:s}):v&&f!==s||n.push({value:f}),n}({maxTicks:Math.max(2,i),bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&ft(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}},{key:"configure",value:function(){var t=this.ticks,e=this.min,i=this.max;_superPropGet(n,"configure",this,3)([]),this.options.offset&&t.length&&(e-=t=(i-e)/Math.max(t.length-1,1)/2,i+=t),this._startValue=e,this._endValue=i,this._valueRange=i-e}},{key:"getLabelForValue",value:function(t){return ve(t,this.chart.options.locale,this.options.ticks.format)}}])}(),Ya=function(){function t(){return _classCallCheck(this,t),_callSuper(this,t,arguments)}return _inherits(t,Na),_createClass(t,[{key:"determineDataLimits",value:function(){var t=this.getMinMax(!0),e=t.min,t=t.max;this.min=g(e)?e:0,this.max=g(t)?t:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var t=this.isHorizontal(),e=t?this.width:this.height,i=j(this.options.ticks.minRotation),t=(t?Math.sin(i):Math.cos(i))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/t))}},{key:"getPixelForValue",value:function(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}])}(),Ua=(_defineProperty(Ya,"id","linear"),_defineProperty(Ya,"defaults",{ticks:{callback:me.formatters.numeric}}),function(t){return Math.floor(st(t))});function $a(t){return 1==t/Math.pow(10,Ua(t))}function Xa(t,e,i){i=Math.pow(10,i),t=Math.floor(t/i);return Math.ceil(e/i)-t}var Ga=function(){function e(t){return _classCallCheck(this,e),(t=_callSuper(this,e,[t])).start=void 0,t.end=void 0,t._startValue=void 0,t._valueRange=0,t}return _inherits(e,jn),_createClass(e,[{key:"parse",value:function(t,e){t=Na.prototype.parse.apply(this,[t,e]);if(0!==t)return g(t)&&0<t?t:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var t=this.getMinMax(!0),e=t.min,t=t.max;this.min=g(e)?Math.max(0,e):null,this.max=g(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!g(this._userMin)&&(this.min=e===Wa(this.min,0)?Wa(this.min,-1):Wa(this.min,0)),this.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){function t(t){r=n?r:t}function e(t){o=a?o:t}var i=this.getUserBounds(),n=i.minDefined,a=i.maxDefined,r=this.min,o=this.max;r===o&&(r<=0?(t(1),e(10)):(t(Wa(r,-1)),e(Wa(o,1)))),r<=0&&t(Wa(o,-1)),o<=0&&e(Wa(r,1)),this.min=r,this.max=o}},{key:"buildTicks",value:function(){var t=this.options,e=function(t,e){for(var i=e.min,n=e.max,i=d(t.min,i),a=[],e=Ua(i),r=function(t,e){for(var i=Ua(e-t);10<Xa(t,e,i);)i++;for(;Xa(t,e,i)<10;)i--;return Math.min(i,Ua(t))}(i,n),o=r<0?Math.pow(10,Math.abs(r)):1,s=Math.pow(10,r),l=r<e?Math.pow(10,e):0,e=Math.round((i-l)*o)/o,h=Math.floor((i-l)/s/10)*s*10,u=Math.floor((e-h)/Math.pow(10,r)),c=d(t.min,Math.round((l+h+u*Math.pow(10,r))*o)/o);c<n;)a.push({value:c,major:$a(c),significand:u}),10<=u?u=u<15?15:20:u++,20<=u&&(u=2,o=0<=++r?1:o),c=Math.round((l+h+u*Math.pow(10,r))*o)/o;return i=d(t.max,c),a.push({value:i,major:$a(i),significand:u}),a}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&ft(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}},{key:"getLabelForValue",value:function(t){return void 0===t?"0":ve(t,this.chart.options.locale,this.options.ticks.format)}},{key:"configure",value:function(){var t=this.min;_superPropGet(e,"configure",this,3)([]),this._startValue=st(t),this._valueRange=st(this.max)-st(t)}},{key:"getPixelForValue",value:function(t){return null===(t=void 0!==t&&0!==t?t:this.min)||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(st(t)-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(t){t=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+t*this._valueRange)}}])}();function Ka(t){var e=t.ticks;return e.display&&t.display?(t=W(e.backdropPadding),z(e.font&&e.font.size,I.font.size)+t.height):0}function qa(t,e,i,n,a){return t===n||t===a?{start:e-i/2,end:e+i/2}:t<n||a<t?{start:e-i,end:e}:{start:e,end:e+i}}function Za(t){for(var e,i,n,a,r={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},o=Object.assign({},r),s=[],l=[],h=t._pointLabels.length,u=t.options.pointLabels,c=u.centerPointLabels?x/h:0,d=0;d<h;d++){var f=u.setContext(t.getPointLabelContext(d)),p=(l[d]=f.padding,t.getPointPosition(d,t.drawingArea+l[d],c)),f=L(f.font),g=(g=t.ctx,f=f,v=B(v=t._pointLabels[d])?v:[v],{w:Ve(g,f.string,v),h:v.length*f.lineHeight}),v=(s[d]=g,P(t.getIndexAngle(d)+c)),f=Math.round(pt(v));e=o,i=r,v=v,n=qa(f,p.x,g.w,0,180),f=qa(f,p.y,g.h,90,270),a=g=p=void 0,p=Math.abs(Math.sin(v)),v=Math.abs(Math.cos(v)),a=g=0,n.start<i.l?(g=(i.l-n.start)/p,e.l=Math.min(e.l,i.l-g)):i.r<n.end&&(g=(n.end-i.r)/p,e.r=Math.max(e.r,i.r+g)),f.start<i.t?(a=(i.t-f.start)/v,e.t=Math.min(e.t,i.t-a)):i.b<f.end&&(a=(f.end-i.b)/v,e.b=Math.max(e.b,i.b+a))}t.setCenterPoint(r.l-o.l,o.r-r.r,r.t-o.t,o.b-r.b),t._pointLabelItems=function(t,e,i){for(var n,a,r,o,s,l,h,u,c=[],d=t._pointLabels.length,f=t.options,p=f.pointLabels,g=p.centerPointLabels,v=p.display,y={extra:Ka(f)/2,additionalAngle:g?x/d:0},m=0;m<d;m++){y.padding=i[m],y.size=e[m];o=m,s=u=h=l=s=void 0,s=(b=t).drawingArea,l=y.size,b=b.getPointPosition(o,s+y.extra+y.padding,y.additionalAngle),h=Math.round(pt(P(b.angle+w))),o=function(t,e){return 90===h||270===h?t-=e/2:(270<h||h<90)&&(t-=e),t}(b.y,l.h),u=0===h||180===h?"center":h<180?"left":"right",s=function(t,e){return"right"==u?t-=e:"center"==u&&(t-=e/2),t}(b.x,l.w);var b={visible:!0,x:b.x,y:o,textAlign:u,left:s,top:o,right:s+l.w,bottom:o+l.h};c.push(b),"auto"===v&&(b.visible=(s=b,r=l=o=void 0,!((a=n)&&(o=s.left,l=s.right,r=s.bottom,S({x:o,y:s=s.top},a)||S({x:o,y:r},a)||S({x:l,y:s},a)||S({x:l,y:r},a)))),b.visible)&&(n=b)}return c}(t,s,l)}function Ja(t,e,i,n){var a=t.ctx;if(i)a.arc(t.xCenter,t.yCenter,e,0,k);else{var r=t.getPointPosition(0,e);a.moveTo(r.x,r.y);for(var o=1;o<n;o++)r=t.getPointPosition(o,e),a.lineTo(r.x,r.y)}}_defineProperty(Ga,"id","logarithmic"),_defineProperty(Ga,"defaults",{ticks:{callback:me.formatters.logarithmic,major:{enabled:!0}}});var Qa=function(){function e(t){return _classCallCheck(this,e),(t=_callSuper(this,e,[t])).xCenter=void 0,t.yCenter=void 0,t.drawingArea=void 0,t._pointLabels=[],t._pointLabelItems=[],t}return _inherits(e,Na),_createClass(e,[{key:"setDimensions",value:function(){var t=this._padding=W(Ka(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}},{key:"determineDataLimits",value:function(){var t=this.getMinMax(!1),e=t.min,t=t.max;this.min=g(e)&&!isNaN(e)?e:0,this.max=g(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/Ka(this.options))}},{key:"generateTickLabels",value:function(t){var i=this;Na.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(function(t,e){t=l(i.options.pointLabels.callback,[t,e],i);return t||0===t?t:""}).filter(function(t,e){return i.chart.getDataVisibility(e)})}},{key:"fit",value:function(){var t=this.options;t.display&&t.pointLabels.display?Za(this):this.setCenterPoint(0,0,0,0)}},{key:"setCenterPoint",value:function(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}},{key:"getIndexAngle",value:function(t){return P(t*(k/(this._pointLabels.length||1))+j(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(t){var e;return D(t)?NaN:(e=this.drawingArea/(this.max-this.min),this.options.reverse?(this.max-t)*e:(t-this.min)*e)}},{key:"getValueForDistanceFromCenter",value:function(t){return D(t)?NaN:(t=t/(this.drawingArea/(this.max-this.min)),this.options.reverse?this.max-t:this.min+t)}},{key:"getPointLabelContext",value:function(t){var e=this._pointLabels||[];if(0<=t&&t<e.length)return e=e[t],Ti(this.getContext(),{label:e,index:t,type:"pointLabel"})}},{key:"getPointPosition",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,t=this.getIndexAngle(t)-w+i;return{x:Math.cos(t)*e+this.xCenter,y:Math.sin(t)*e+this.yCenter,angle:t}}},{key:"getPointPositionForValue",value:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}},{key:"getBasePosition",value:function(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(t){t=this._pointLabelItems[t];return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}},{key:"drawBackground",value:function(){var t,e=this.options,i=e.backgroundColor,e=e.grid.circular;i&&((t=this.ctx).save(),t.beginPath(),Ja(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),t.closePath(),t.fillStyle=i,t.fill(),t.restore())}},{key:"drawGrid",value:function(){var t,l,h=this,e=this.ctx,i=this.options,n=i.angleLines,u=i.grid,c=i.border,d=this._pointLabels.length;if(i.pointLabels.display)for(var a=this,r,o,s,f,p,g=a.ctx,v=a.options.pointLabels,y=d-1;0<=y;y--){var m,b,_,x,k,w=a._pointLabelItems[y];w.visible&&(m=v.setContext(a.getPointLabelContext(y)),r=g,x=m,p=f=_=s=o=k=void 0,s=(b=w).left,_=w.top,f=w.right,b=w.bottom,D(p=x.backdropColor)||(k=Oi(x.borderRadius),x=W(x.backdropPadding),r.fillStyle=p,p=s-x.left,o=_-x.top,f=f-s+x.width,s=b-_+x.height,Object.values(k).some(function(t){return 0!==t})?(r.beginPath(),Ge(r,{x:p,y:o,w:f,h:s,radius:k}),r.fill()):r.fillRect(p,o,f,s)),b=L(m.font),_=w.x,x=w.y,k=w.textAlign,Xe(g,a._pointLabels[y],_,x+b.lineHeight/2,b,{color:m.color,textAlign:k,textBaseline:"middle"}))}if(u.display&&this.ticks.forEach(function(t,e){var i,n,a,r,o,s;(0!==e||0===e&&h.min<0)&&(l=h.getDistanceFromCenterForValue(t.value),t=h.getContext(e),e=u.setContext(t),t=c.setContext(t),n=l,a=d,t=t,r=(i=h).ctx,o=e.circular,s=e.color,e=e.lineWidth,!o&&!a||!s||!e||n<0||(r.save(),r.strokeStyle=s,r.lineWidth=e,r.setLineDash(t.dash),r.lineDashOffset=t.dashOffset,r.beginPath(),Ja(i,n,o,a),r.closePath(),r.stroke(),r.restore()))}),n.display){for(e.save(),t=d-1;0<=t;t--){var M=n.setContext(this.getPointLabelContext(t)),P=M.color,S=M.lineWidth;S&&P&&(e.lineWidth=S,e.strokeStyle=P,e.setLineDash(M.borderDash),e.lineDashOffset=M.borderDashOffset,l=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),S=this.getPointPosition(t,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(S.x,S.y),e.stroke())}e.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var t,a,r,o=this,s=this.ctx,l=this.options,h=l.ticks;h.display&&(t=this.getIndexAngle(0),s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(t),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach(function(t,e){var i,n;0===e&&0<=o.min&&!l.reverse||(n=L((i=h.setContext(o.getContext(e))).font),a=o.getDistanceFromCenterForValue(o.ticks[e].value),i.showLabelBackdrop&&(s.font=n.string,r=s.measureText(t.label).width,s.fillStyle=i.backdropColor,e=W(i.backdropPadding),s.fillRect(-r/2-e.left,-a-n.size/2-e.top,r+e.width,n.size+e.height)),Xe(s,t.label,0,-a,n,{color:i.color,strokeColor:i.textStrokeColor,strokeWidth:i.textStrokeWidth}))}),s.restore())}},{key:"drawTitle",value:function(){}}])}(),tr=(_defineProperty(Qa,"id","radialLinear"),_defineProperty(Qa,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:me.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(t){return t},padding:5,centerPointLabels:!1}}),_defineProperty(Qa,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),_defineProperty(Qa,"descriptors",{angleLines:{_fallback:"grid"}}),{millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}}),u=Object.keys(tr);function er(t,e){return t-e}function ir(t,e){var i,n,a;return D(e)||(i=t._adapter,n=(t=t._parseOpts).parser,a=t.round,t=t.isoWeekday,e=e,null===(e=g(e="function"==typeof n?n(e):e)?e:"string"==typeof n?i.parse(e,n):i.parse(e)))?null:+(e=a?"week"!==a||!ct(t)&&!0!==t?i.startOf(e,a):i.startOf(e,"isoWeek",t):e)}function nr(t,e,i,n){for(var a=u.length,r=u.indexOf(t);r<a-1;++r){var o=tr[u[r]],s=o.steps||Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((i-e)/(s*o.size))<=n)return u[r]}return u[a-1]}function ar(t,e,i){var n,a;i?i.length&&(t[e<=i[a=(n=xt(i,e)).lo]?i[a]:i[n.hi]]=!0):t[e]=!0}function rr(t,e,i){for(var n,a=[],r={},o=e.length,s=0;s<o;++s)r[n=e[s]]=s,a.push({value:n,major:!1});if(0!==o&&i){for(var l,h=a,u=r,c=i,d=t._adapter,i=+d.startOf(h[0].value,c),f=h[h.length-1].value,p=i;p<=f;p=+d.add(p,1,c))0<=(l=u[p])&&(h[l].major=!0);return h}return a}var or=function(){function a(t){return _classCallCheck(this,a),(t=_callSuper(this,a,[t]))._cache={data:[],labels:[],all:[]},t._unit="day",t._majorUnit=void 0,t._offsets={},t._normalized=!1,t._parseOpts=void 0,t}return _inherits(a,jn),_createClass(a,[{key:"init",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.time||(t.time={}),n=this._adapter=new ga._date(t.adapters.date);n.init(e),X(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},_superPropGet(a,"init",this,3)([t]),this._normalized=e.normalized}},{key:"parse",value:function(t,e){return void 0===t?null:ir(this,t)}},{key:"beforeLayout",value:function(){_superPropGet(a,"beforeLayout",this,3)([]),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var t=this.options,e=this._adapter,i=t.time.unit||"day",n=this.getUserBounds(),a=n.min,r=n.max,o=n.minDefined,s=n.maxDefined;function l(t){o||isNaN(t.min)||(a=Math.min(a,t.min)),s||isNaN(t.max)||(r=Math.max(r,t.max))}o&&s||(l(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source)||l(this.getMinMax(!1)),a=g(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),r=g(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,r-1),this.max=Math.max(a+1,r)}},{key:"_getLabelBounds",value:function(){var t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}},{key:"buildTicks",value:function(){var t=this.options,e=t.time,i=t.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate(),a=("ticks"===t.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]),this.min),r=wt(n,a,this.max);return this._unit=e.unit||(i.autoSkip?nr(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(t,e,i,n,a){for(var r=u.length-1;r>=u.indexOf(i);r--){var o=u[r];if(tr[o].common&&t._adapter.diff(a,n,o)>=e-1)return o}return u[i?u.indexOf(i):0]}(this,r.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(t){for(var e=u.indexOf(t)+1,i=u.length;e<i;++e)if(tr[u[e]].common)return u[e]}(this._unit):void 0,this.initOffsets(n),t.reverse&&r.reverse(),rr(this,r,this._majorUnit)}},{key:"afterAutoSkip",value:function(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(function(t){return+t.value}))}},{key:"initOffsets",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=0,i=0,n=(this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),e=1===t.length?1-n:(this.getDecimalForValue(t[1])-n)/2,n=this.getDecimalForValue(t[t.length-1]),i=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2),t.length<3?.5:.25),e=v(e,0,n),i=v(i,0,n);this._offsets={start:e,end:i,factor:1/(e+1+i)}}},{key:"_generate",value:function(){var t=this._adapter,e=this.min,i=this.max,n=this.options,a=n.time,r=a.unit||nr(a.minUnit,e,i,this._getLabelCapacity(e)),o=z(n.ticks.stepSize,1),a="week"===r&&a.isoWeekday,s=ct(a)||!0===a,l={},h=e;if(s&&(h=+t.startOf(h,"isoWeek",a)),h=+t.startOf(h,s?"day":r),t.diff(i,e,r)>1e5*o)throw new Error(e+" and "+i+" are too far apart with stepSize of "+o+" "+r);for(var u="data"===n.ticks.source&&this.getDataTimestamps(),c=h,d=0;c<i;c=+t.add(c,o,r),d++)ar(l,c,u);return c!==i&&"ticks"!==n.bounds&&1!==d||ar(l,c,u),Object.keys(l).sort(er).map(function(t){return+t})}},{key:"getLabelForValue",value:function(t){var e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}},{key:"format",value:function(t,e){var i=this.options.time.displayFormats,n=this._unit,e=e||i[n];return this._adapter.format(t,e)}},{key:"_tickFormatFunction",value:function(t,e,i,n){var a,r=this.options,o=r.ticks.callback;return o?l(o,[t,e,i],this):(o=r.time.displayFormats,r=this._unit,a=this._majorUnit,r=r&&o[r],o=a&&o[a],i=i[e],e=a&&o&&i&&i.major,this._adapter.format(t,n||(e?o:r)))}},{key:"generateTickLabels",value:function(t){for(var e,i=0,n=t.length;i<n;++i)(e=t[i]).label=this._tickFormatFunction(e.value,i,t)}},{key:"getDecimalForValue",value:function(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(t){var e=this._offsets,t=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+t)*e.factor)}},{key:"getValueForPixel",value:function(t){var e=this._offsets,t=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+t*(this.max-this.min)}},{key:"_getLabelSize",value:function(t){var e=this.options.ticks,t=this.ctx.measureText(t).width,e=j(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(e),e=Math.sin(e),n=this._resolveTickFontOptions(0).size;return{w:t*i+n*e,h:t*e+n*i}}},{key:"_getLabelCapacity",value:function(t){var e=this.options.time,i=e.displayFormats,e=i[e.unit]||i.millisecond,i=this._tickFormatFunction(t,0,rr(this,[t],this._majorUnit),e),t=this._getLabelSize(i),e=Math.floor(this.isHorizontal()?this.width/t.w:this.height/t.h)-1;return 0<e?e:1}},{key:"getDataTimestamps",value:function(){var t,e,i=this._cache.data||[];if(i.length)return i;var n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,e=n.length;t<e;++t)i=i.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}},{key:"getLabelTimestamps",value:function(){var t=this._cache.labels||[];if(t.length)return t;for(var e=this.getLabels(),i=0,n=e.length;i<n;++i)t.push(ir(this,e[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}},{key:"normalize",value:function(t){return Ct(t.sort(er))}}])}();function sr(t,e,i){var n,a,r,o=0,s=t.length-1,i=i?(e>=t[o].pos&&e<=t[s].pos&&(o=(i=y(t,"pos",e)).lo,s=i.hi),n=(i=t[o]).pos,r=i.time,a=(i=t[s]).pos,i.time):(e>=t[o].time&&e<=t[s].time&&(o=(i=y(t,"time",e)).lo,s=i.hi),n=(i=t[o]).time,r=i.pos,a=(o=t[s]).time,o.pos),t=a-n;return t?r+(i-r)*(e-n)/t:r}_defineProperty(or,"id","time"),_defineProperty(or,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});var Ya=Object.freeze({__proto__:null,CategoryScale:(_defineProperty(b=function(){function l(t){return _classCallCheck(this,l),(t=_callSuper(this,l,[t]))._startValue=void 0,t._valueRange=0,t._addedLabels=[],t}return _inherits(l,jn),_createClass(l,[{key:"init",value:function(t){var e=this._addedLabels;if(e.length){var i,n=this.getLabels(),a=_createForOfIteratorHelper(e);try{for(a.s();!(i=a.n()).done;){var r=i.value,o=r.index,s=r.label;n[o]===s&&n.splice(o,1)}}catch(t){a.e(t)}finally{a.f()}this._addedLabels=[]}_superPropGet(l,"init",this,3)([t])}},{key:"parse",value:function(t,e){var i,n,a,r,o,s,l;return D(t)||(i=this.getLabels(),r=e=isFinite(e)&&i[e]===t?e:(n=i,a=z(e,t=t),r=this._addedLabels,-1===(l=n.indexOf(t))?(s=a,r=r,"string"==typeof(o=t)?(s=n.push(o)-1,r.unshift({index:s,label:o})):isNaN(o)&&(s=null),s):l!==n.lastIndexOf(t)?a:l),o=i.length-1,null===r)?null:v(Math.round(r),0,o)}},{key:"determineDataLimits",value:function(){var t=this.getUserBounds(),e=t.minDefined,t=t.maxDefined,i=this.getMinMax(!0),n=i.min,i=i.max;"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}},{key:"buildTicks",value:function(){var t=this.min,e=this.max,i=this.options.offset,n=[],a=this.getLabels(),a=0===t&&e===a.length-1?a:a.slice(t,e+1);this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(var r=t;r<=e;r++)n.push({value:r});return n}},{key:"getLabelForValue",value:function(t){return Ha.call(this,t)}},{key:"configure",value:function(){_superPropGet(l,"configure",this,3)([]),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(t){return null===(t="number"!=typeof t?this.parse(t):t)?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}},{key:"getValueForPixel",value:function(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}])}(),"id","category"),_defineProperty(b,"defaults",{ticks:{callback:Ha}}),b),LinearScale:Ya,LogarithmicScale:Ga,RadialLinearScale:Qa,TimeScale:or,TimeSeriesScale:(_defineProperty(b=function(){function n(t){return _classCallCheck(this,n),(t=_callSuper(this,n,[t]))._table=[],t._minPos=void 0,t._tableRange=void 0,t}return _inherits(n,or),_createClass(n,[{key:"initOffsets",value:function(){var t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=sr(e,this.min),this._tableRange=sr(e,this.max)-this._minPos,_superPropGet(n,"initOffsets",this,3)([t])}},{key:"buildLookupTable",value:function(t){for(var e,i=this.min,n=this.max,a=[],r=[],o=0,s=t.length;o<s;++o)i<=(e=t[o])&&e<=n&&a.push(e);if(a.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(o=0,s=a.length;o<s;++o)e=a[o],Math.round((a[o+1]+a[o-1])/2)!==e&&r.push({time:e,pos:o/(s-1)});return r}},{key:"_generate",value:function(){var t=this.min,e=this.max,i=_superPropGet(n,"getDataTimestamps",this,3)([]);return i.includes(t)&&i.length||i.splice(0,0,t),i.includes(e)&&1!==i.length||i.push(e),i.sort(function(t,e){return t-e})}},{key:"_getTimestampsForTable",value:function(){var t,e,i=this._cache.all||[];return i.length||(t=this.getDataTimestamps(),e=this.getLabelTimestamps(),i=t.length&&e.length?this.normalize(t.concat(e)):t.length?t:e,i=this._cache.all=i),i}},{key:"getDecimalForValue",value:function(t){return(sr(this._table,t)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(t){var e=this._offsets,t=this.getDecimalForPixel(t)/e.factor-e.end;return sr(this._table,t*this._tableRange+this._minPos,!0)}}])}(),"id","timeseries"),_defineProperty(b,"defaults",or.defaults),b)}),lr=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],hr=lr.map(function(t){return t.replace("rgb(","rgba(").replace(")",", 0.5)")});function ur(t){return lr[t%lr.length]}function cr(t){return hr[t%hr.length]}function dr(a){var r=0;return function(t,e){var i,n,e=a.getDatasetMeta(e).controller;e instanceof xa?(n=r,t.backgroundColor=t.data.map(function(){return ur(n++)}),r=n):e instanceof ka?(i=r,t.backgroundColor=t.data.map(function(){return cr(i++)}),r=i):e&&(e=r,(t=t).borderColor=ur(e),t.backgroundColor=cr(e),r=++e)}}function fr(t){for(var e in t)if(t[e].borderColor||t[e].backgroundColor)return 1}var pr={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout:function(t,e,i){var n,a,r;i.enabled&&(n=(a=t.config).data.datasets,r=(a=a.options).elements,!i.forceOverride&&(fr(n)||a&&(a.borderColor||a.backgroundColor)||r&&fr(r))||(i=dr(t),n.forEach(i)))}};function gr(t){var e;t._decimated&&(e=t._data,delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e}))}function vr(t){t.data.datasets.forEach(function(t){gr(t)})}var yr={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(p,t,w){var M;w.enabled?(M=p.width,p.data.datasets.forEach(function(t,e){var i=t._data,n=t.indexAxis,e=p.getDatasetMeta(e),a=i||t.data;if("y"!==Di([n,p.options.indexAxis])&&e.controller.supportsDecimation){n=p.scales[e.xAxisID];if(("linear"===n.type||"time"===n.type)&&!p.options.parsing){r=(n=a).length,o=0,e=e.iScale,c=e.getUserBounds(),s=c.min,l=c.max,h=c.maxDefined;var r,o,s,l,h,u,c={start:o=c.minDefined?v(y(n,e.axis,s).lo,0,r-1):o,count:h?v(y(n,e.axis,l).hi+1,o,r)-o:r-o},d=c.start,f=c.count;if(f<=(w.threshold||4*M))gr(t);else{switch(D(i)&&(t._data=a,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),w.algorithm){case"lttb":u=function(t,e,i){var n=w.samples||M;if(i<=n)return t.slice(e,e+i);var a,r,o,s,l=[],h=(i-2)/(n-2),u=0,c=e+i-1,d=e;for(l[u++]=t[d],a=0;a<n-2;a++){for(var f=void 0,p=0,g=0,v=Math.floor((a+1)*h)+1+e,y=Math.min(Math.floor((a+2)*h)+1,i)+e,m=y-v,f=v;f<y;f++)p+=t[f].x,g+=t[f].y;p/=m,g/=m;var v=Math.floor(a*h)+1+e,b=Math.min(Math.floor((a+1)*h)+1,i)+e,m=t[d],_=m.x,x=m.y,k=-1;for(f=v;f<b;f++)k<(o=.5*Math.abs((_-p)*(t[f].y-x)-(_-t[f].x)*(g-x)))&&(k=o,r=t[f],s=f);l[u++]=r,d=s}return l[u++]=t[c],l}(a,d,f);break;case"min-max":u=function(t,e,i,n){for(var a,r,o,s,l,h,u=0,c=0,d=[],f=t[e].x,p=t[e+i-1].x-f,g=e;g<e+i;++g){var v,y,m,b,_=((v=t[g]).x-f)/p*n,x=v.y,_=0|_;_===a?(x<l?(l=x,r=g):h<x&&(h=x,o=g),u=(c*u+v.x)/++c):(y=g-1,D(r)||D(o)||(m=Math.min(r,o),b=Math.max(r,o),m!==s&&m!==y&&d.push(_objectSpread(_objectSpread({},t[m]),{},{x:u})),b!==s&&b!==y&&d.push(_objectSpread(_objectSpread({},t[b]),{},{x:u}))),0<g&&y!==s&&d.push(t[y]),d.push(v),a=_,c=0,l=h=x,r=o=s=g)}return d}(a,d,f,M);break;default:throw new Error("Unsupported decimation algorithm '".concat(w.algorithm,"'"))}t._decimated=u}}}})):vr(p)},destroy:function(t){vr(t)}};function mr(t,e,i,n){if(!n)return n=e[t],e=i[t],"angle"===t&&(n=P(n),e=P(e)),{property:t,start:n,end:e}}function br(t,e,i){for(;t<e;e--){var n=i[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function _r(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function xr(t,e){var i,n,a,r,o,s=[],l=!1;return(s=B(t)?(l=!0,t):(i=(t=t||{}).x,n=void 0===i?null:i,a=void 0===(i=t.y)?null:i,r=e.points,o=[],e.segments.forEach(function(t){var e=t.start,t=br(e,t.end,r),e=r[e],t=r[t];null!==a?(o.push({x:e.x,y:a}),o.push({x:t.x,y:a})):null!==n&&(o.push({x:n,y:e.y}),o.push({x:n,y:t.y}))}),o)).length?new La({points:s,options:{tension:0},_loop:l,_fullLoop:l}):null}function kr(t){return t&&!1!==t.fill}function wr(t,e,i){for(var n=[],a=0;a<i.length;a++){var r=function(t,e,i){e=t.interpolate(e,i);if(!e)return{};for(var n=e[i],a=t.segments,r=t.points,o=!1,s=!1,l=0;l<a.length;l++){var h=a[l],u=r[h.start][i],h=r[h.end][i];if(c(n,u,h)){o=n===u,s=n===h;break}}return{first:o,last:s,point:e}}(i[a],e,"x"),o=r.first,s=r.last,r=r.point;if(!(!r||o&&s))if(o)n.unshift(r);else if(t.push(r),!s)break}t.push.apply(t,n)}var Mr=function(){return _createClass(function t(e){_classCallCheck(this,t),this.x=e.x,this.y=e.y,this.radius=e.radius},[{key:"pathSegment",value:function(t,e,i){var n=this.x,a=this.y,r=this.radius;return e=e||{start:0,end:k},t.arc(n,a,r,e.end,e.start,!0),!i.bounds}},{key:"interpolate",value:function(t){var e=this.x,i=this.y,n=this.radius,t=t.angle;return{x:e+Math.cos(t)*n,y:i+Math.sin(t)*n,angle:t}}}])}();function Pr(t){var e,i=t.chart,n=t.fill,a=t.line;if(g(n))return o=n,(e=(i=i).getDatasetMeta(o))&&i.isDatasetVisible(o)?e.dataset:null;if("stack"!==n)return"shape"===n||((i=function(t){var e=t.scale||{};if(e.getPointPositionForValue){var i,n=t.scale,e=t.fill,a=n.options,r=n.getLabels().length,o=a.reverse?n.max:n.min,s=(i=n,"start"===(e=e)?o:"end"===e?i.options.reverse?i.min:i.max:H(e)?e.value:i.getBaseValue()),l=[];if(a.grid.circular)return e=n.getPointPositionForValue(0,o),new Mr({x:e.x,y:e.y,radius:n.getDistanceFromCenterForValue(s)});for(var h=0;h<r;++h)l.push(n.getPointPositionForValue(h,s));return l}return a=i=void 0===(i=t.scale)?{}:i,o=null,"start"===(e=t.fill)?o=a.bottom:"end"===e?o=a.top:H(e)?o=a.getPixelForValue(e.value):a.getBasePixel&&(o=a.getBasePixel()),g(e=o)?{x:(a=i.isHorizontal())?e:null,y:a?null:e}:null}(t))instanceof Mr?i:xr(i,a));var r=t.scale,o=t.line,s=[],l=o.segments,h=o.points,u=function(t){for(var e=[],i=r.getMatchingVisibleMetas("line"),n=0;n<i.length;n++){var a=i[n];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}(t.index);u.push(xr({x:null,y:r.bottom},o));for(var c=0;c<l.length;c++)for(var d=l[c],f=d.start;f<=d.end;f++)wr(s,h[f],u);return new La({points:s,options:{}})}function Sr(t,e,i){var n=Pr(e),a=e.line,r=e.scale,e=e.axis,o=a.options,s=o.fill,o=o.backgroundColor,s=s||{},l=s.above,l=void 0===l?o:l,s=s.below,o=void 0===s?o:s;n&&a.points.length&&(Ne(t,i),s=t,n=(a={line:a,target:n,above:l,below:o,area:i,scale:r,axis:e}).target,l=a.above,o=a.below,i=a.area,r=a.scale,a=(e=a.line)._loop?"angle":a.axis,s.save(),"x"===a&&o!==l&&(Cr(s,n,i.top),Or(s,{line:e,target:n,color:l,scale:r,property:a}),s.restore(),s.save(),Cr(s,n,i.bottom)),Or(s,{line:e,target:n,color:o,scale:r,property:a}),s.restore(),Ye(t))}function Cr(t,e,i){var n,a=e.segments,r=e.points,o=!0,s=!1,l=(t.beginPath(),_createForOfIteratorHelper(a));try{for(l.s();!(n=l.n()).done;){var h=n.value,u=h.start,c=h.end,d=r[u],f=r[br(u,c,r)];o?(t.moveTo(d.x,d.y),o=!1):(t.lineTo(d.x,i),t.lineTo(d.x,d.y)),(s=!!e.pathSegment(t,h,{move:s}))?t.closePath():t.lineTo(f.x,i)}}catch(t){l.e(t)}finally{l.f()}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function Or(t,e){var i,n,a,r,o,s,l,b=e.line,h=e.target,u=e.property,c=e.color,d=e.scale,e=function(t,e){var i,n=b.segments,a=b.points,r=t.points,o=[],s=_createForOfIteratorHelper(n);try{for(s.s();!(i=s.n()).done;){var l=i.value,h=l.start,u=br(h,l.end,a),c=mr(e,a[h],a[u],l.loop);if(t.segments){var d,f=_createForOfIteratorHelper(Vi(t,c));try{for(f.s();!(d=f.n()).done;){var p,g=d.value,v=mr(e,r[g.start],r[g.end],g.loop),y=_createForOfIteratorHelper(zi(l,a,v));try{for(y.s();!(p=y.n()).done;){var m=p.value;o.push({source:m,target:g,start:_defineProperty({},e,_r(c,v,"start",Math.max)),end:_defineProperty({},e,_r(c,v,"end",Math.min))})}}catch(t){y.e(t)}finally{y.f()}}}catch(t){f.e(t)}finally{f.f()}}else o.push({source:l,target:c,start:a[h],end:a[u]})}}catch(t){s.e(t)}finally{s.f()}return o}(h,u),f=_createForOfIteratorHelper(e);try{for(f.s();!(i=f.n()).done;){var p,g=i.value,v=g.source,y=g.target,m=g.start,_=g.end,x=v.style,k=(void 0===x?{}:x).backgroundColor,w=void 0===k?c:k,M=!0!==h,P=(t.save(),t.fillStyle=w,n=t,a=d,r=M&&mr(u,m,_),l=s=o=void 0,a=a.chart.chartArea,o=a.top,a=a.bottom,s=(r=r||{}).property,l=r.start,r=r.end,"x"===s&&(n.beginPath(),n.rect(l,o,r-l,a-o),n.clip()),t.beginPath(),!!b.pathSegment(t,v)),S=void 0;!M||(P?t.closePath():Dr(t,h,_,u),p=!!h.pathSegment(t,y,{move:P,reverse:!0}),S=P&&p)||Dr(t,h,m,u),t.closePath(),t.fill(S?"evenodd":"nonzero"),t.restore()}}catch(t){f.e(t)}finally{f.f()}}function Dr(t,e,i,n){e=e.interpolate(i,n);e&&t.lineTo(e.x,e.y)}function Ar(t,e){var i=void 0===(i=t.boxHeight)?e:i,n=void 0===(n=t.boxWidth)?e:n;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}}var Tr={id:"filler",afterDatasetsUpdate:function(t,e,i){for(var n,a,r,o,s,l,h,u,c=(t.data.datasets||[]).length,d=[],f=0;f<c;++f)n=t.getDatasetMeta(f),r=null,(a=n.dataset)&&a.options&&a instanceof La&&(r={visible:t.isDatasetVisible(f),index:f,fill:(s=f,l=c,u=h=void 0,o=(o=a).options,H(o=!1!==(u=void 0===(u=z((u=o.fill)&&u.target,u))?!!o.backgroundColor:u)&&null!==u&&(!0===u?"origin":u))?!isNaN(o.value)&&o:g(u=parseFloat(o))&&Math.floor(u)===u?(h=o[0],u=u,!((u="-"!==h&&"+"!==h?u:s+u)===s||u<0||l<=u)&&u):0<=["origin","start","end","stack","shape"].indexOf(o)&&o),chart:t,axis:n.controller.options.indexAxis,scale:n.vScale,line:a}),n.$filler=r,d.push(r);for(f=0;f<c;++f)(r=d[f])&&!1!==r.fill&&(r.fill=function(t,e,i){var n,a=t[e].fill,r=[e];if(!i)return a;for(;!1!==a&&-1===r.indexOf(a);){if(!g(a))return a;if(!(n=t[a]))return!1;if(n.visible)return a;r.push(a),a=n.fill}return!1}(d,f,i.propagate))},beforeDraw:function(t,e,i){for(var n="beforeDraw"===i.drawTime,a=t.getSortedVisibleDatasetMetas(),r=t.chartArea,o=a.length-1;0<=o;--o){var s=a[o].$filler;s&&(s.line.updateControlPoints(r,s.axis),n)&&s.fill&&Sr(t.ctx,s,r)}},beforeDatasetsDraw:function(t,e,i){if("beforeDatasetsDraw"===i.drawTime)for(var n=t.getSortedVisibleDatasetMetas(),a=n.length-1;0<=a;--a){var r=n[a].$filler;kr(r)&&Sr(t.ctx,r,t.chartArea)}},beforeDatasetDraw:function(t,e,i){e=e.meta.$filler;kr(e)&&"beforeDatasetDraw"===i.drawTime&&Sr(t.ctx,e,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Ir=function(){function i(t){var e;return _classCallCheck(this,i),(e=_callSuper(this,i))._added=!1,e.legendHitBoxes=[],e._hoveredItem=null,e.doughnutMode=!1,e.chart=t.chart,e.options=t.options,e.ctx=t.ctx,e.legendItems=void 0,e.columnSizes=void 0,e.lineWidths=void 0,e.maxHeight=void 0,e.maxWidth=void 0,e.top=void 0,e.bottom=void 0,e.left=void 0,e.right=void 0,e.height=void 0,e.width=void 0,e._margins=void 0,e.position=void 0,e.weight=void 0,e.fullSize=void 0,e}return _inherits(i,e),_createClass(i,[{key:"update",value:function(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}},{key:"buildLabels",value:function(){var i=this,n=this.options.labels||{},t=l(n.generateLabels,[this.chart],this)||[];n.filter&&(t=t.filter(function(t){return n.filter(t,i.chart.data)})),n.sort&&(t=t.sort(function(t,e){return n.sort(t,e,i.chart.data)})),this.options.reverse&&t.reverse(),this.legendItems=t}},{key:"fit",value:function(){var t,e,i,n,a,r,o,s=this.options,l=this.ctx;s.display?(e=(t=L((a=s.labels).font)).size,i=this._computeTitleHeight(),n=(a=Ar(a,e)).boxWidth,a=a.itemHeight,l.font=t.string,this.isHorizontal()?(r=this.maxWidth,o=this._fitRows(i,e,n,a)+10):(o=this.maxHeight,r=this._fitCols(i,t,n,a)+10),this.width=Math.min(r,s.maxWidth||this.maxWidth),this.height=Math.min(o,s.maxHeight||this.maxHeight)):this.width=this.height=0}},{key:"_fitRows",value:function(t,i,n,a){var r=this.ctx,o=this.maxWidth,s=this.options.labels.padding,l=this.legendHitBoxes=[],h=this.lineWidths=[0],u=a+s,c=t,d=(r.textAlign="left",r.textBaseline="middle",-1),f=-u;return this.legendItems.forEach(function(t,e){t=n+i/2+r.measureText(t.text).width;(0===e||h[h.length-1]+t+2*s>o)&&(c+=u,h[h.length-(0<e?0:1)]=0,f+=u,d++),l[e]={left:0,top:f,row:d,width:t,height:a},h[h.length-1]+=t+s}),c}},{key:"_fitCols",value:function(t,n,s,a){var l=this.ctx,e=this.maxHeight,r=this.options.labels.padding,o=this.legendHitBoxes=[],h=this.columnSizes=[],u=e-t,c=r,d=0,f=0,p=0,g=0;return this.legendItems.forEach(function(t,e){var t=function(t,e,i){o=s,n=t,a=l,(r=e.text)&&"string"!=typeof r&&(r=r.reduce(function(t,e){return t.length>e.length?t:e}));var n,a,r,o=o+n.size/2+a.measureText(r).width;n=t.lineHeight,a=i,a="string"!=typeof e.text?Lr(e,n):a;return{itemWidth:o,itemHeight:a}}(n,t,a),i=t.itemWidth,t=t.itemHeight;0<e&&u<f+t+2*r&&(c+=d+r,h.push({width:d,height:f}),p+=d+r,g++,d=f=0),o[e]={left:p,top:f,col:g,width:i,height:t},d=Math.max(d,i),f+=t+r}),c+=d,h.push({width:d,height:f}),c}},{key:"adjustHitBoxes",value:function(){if(this.options.display){var t=this._computeTitleHeight(),e=this.legendHitBoxes,i=this.options,n=i.align,a=i.labels.padding,r=Ii(i.rtl,this.left,this.width);if(this.isHorizontal()){var o,s=0,l=T(n,this.left+a,this.right-this.lineWidths[s]),h=_createForOfIteratorHelper(e);try{for(h.s();!(o=h.n()).done;){var u=o.value;s!==u.row&&(s=u.row,l=T(n,this.left+a,this.right-this.lineWidths[s])),u.top+=this.top+t+a,u.left=r.leftForLtr(r.x(l),u.width),l+=u.width+a}}catch(t){h.e(t)}finally{h.f()}}else{var c,d=0,f=T(n,this.top+t+a,this.bottom-this.columnSizes[d].height),p=_createForOfIteratorHelper(e);try{for(p.s();!(c=p.n()).done;){var g=c.value;g.col!==d&&(d=g.col,f=T(n,this.top+t+a,this.bottom-this.columnSizes[d].height)),g.top=f,g.left+=this.left+a,g.left=r.leftForLtr(r.x(g.left),g.width),f+=g.height+a}}catch(t){p.e(t)}finally{p.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){var t;this.options.display&&(Ne(t=this.ctx,this),this._draw(),Ye(t))}},{key:"_draw",value:function(){var c=this,d=this.options,f=this.columnSizes,p=this.lineWidths,g=this.ctx,v=d.align,y=d.labels,m=I.color,b=Ii(d.rtl,this.left,this.width),_=L(y.font),x=y.padding,k=_.size,w=k/2,t=(this.drawTitle(),g.textAlign=b.textAlign("left"),g.textBaseline="middle",g.lineWidth=.5,g.font=_.string,Ar(y,k)),M=t.boxWidth,P=t.boxHeight,S=t.itemHeight,C=this.isHorizontal(),O=this._computeTitleHeight(),D=C?{x:T(v,this.left+x,this.right-p[0]),y:this.top+x+O,line:0}:{x:this.left+x,y:T(v,this.top+O+x,this.bottom-f[0].height),line:0},A=(Li(this.ctx,d.textDirection),S+x);this.legendItems.forEach(function(t,e){g.strokeStyle=t.fontColor,g.fillStyle=t.fontColor;var i,n,a,r,o,s=g.measureText(t.text).width,l=b.textAlign(t.textAlign||(t.textAlign=y.textAlign)),s=M+w+s,h=D.x,u=D.y;b.setWidth(c.width),C?0<e&&h+s+x>c.right&&(u=D.y+=A,D.line++,h=D.x=T(v,c.left+x,c.right-p[D.line])):0<e&&u+A>c.bottom&&(h=D.x=h+f[D.line].width+x,D.line++,u=D.y=T(v,c.top+O+x,c.bottom-f[D.line].height)),e=b.x(h),i=u,n=t,isNaN(M)||M<=0||isNaN(P)||P<0||(g.save(),a=z(n.lineWidth,1),g.fillStyle=z(n.fillStyle,m),g.lineCap=z(n.lineCap,"butt"),g.lineDashOffset=z(n.lineDashOffset,0),g.lineJoin=z(n.lineJoin,"miter"),g.lineWidth=a,g.strokeStyle=z(n.strokeStyle,m),g.setLineDash(z(n.lineDash,[])),y.usePointStyle?(r={radius:P*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:a},o=b.xPlus(e,M/2),We(g,r,o,i+w,y.pointStyleWidth&&M)):(r=i+Math.max((k-P)/2,0),o=b.leftForLtr(e,M),i=Oi(n.borderRadius),g.beginPath(),Object.values(i).some(function(t){return 0!==t})?Ge(g,{x:o,y:r,w:M,h:P,radius:i}):g.rect(o,r,M,P),g.fill(),0!==a&&g.stroke()),g.restore()),h=It(l,h+M+w,C?h+s:c.right,d.rtl),e=b.x(h),n=u,Xe(g,t.text,e,n+S/2,_,{strikethrough:t.hidden,textAlign:b.textAlign(t.textAlign)}),C?D.x+=s+x:"string"!=typeof t.text?(i=_.lineHeight,D.y+=Lr(t,i)+x):D.y+=A}),Ei(this.ctx,d.textDirection)}},{key:"drawTitle",value:function(){var t,e,i,n,a,r,o,s=this.options,l=s.title,h=L(l.font),u=W(l.padding);l.display&&(t=Ii(s.rtl,this.left,this.width),e=this.ctx,i=l.position,n=h.size/2,u=u.top+n,n=this.left,a=this.width,this.isHorizontal()?(a=Math.max.apply(Math,_toConsumableArray(this.lineWidths)),o=this.top+u,n=T(s.align,n,this.right-a)):(r=this.columnSizes.reduce(function(t,e){return Math.max(t,e.height)},0),o=u+T(s.align,this.top,this.bottom-r-s.labels.padding-this._computeTitleHeight())),u=T(i,n,n+a),e.textAlign=t.textAlign(Tt(i)),e.textBaseline="middle",e.strokeStyle=l.color,e.fillStyle=l.color,e.font=h.string,Xe(e,l.text,u,o,h))}},{key:"_computeTitleHeight",value:function(){var t=this.options.title,e=L(t.font),i=W(t.padding);return t.display?e.lineHeight+i.height:0}},{key:"_getLegendItemAt",value:function(t,e){var i,n,a;if(c(t,this.left,this.right)&&c(e,this.top,this.bottom))for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(c(t,(n=a[i]).left,n.left+n.width)&&c(e,n.top,n.top+n.height))return this.legendItems[i];return null}},{key:"handleEvent",value:function(t){var e,i,n,a=this.options;("mousemove"!==(e=t.type)&&"mouseout"!==e||!a.onHover&&!a.onLeave)&&(!a.onClick||"click"!==e&&"mouseup"!==e)||(e=this._getLegendItemAt(t.x,t.y),"mousemove"===t.type||"mouseout"===t.type?(n=null!==(i=this._hoveredItem)&&null!==e&&i.datasetIndex===e.datasetIndex&&i.index===e.index,i&&!n&&l(a.onLeave,[t,i,this],this),(this._hoveredItem=e)&&!n&&l(a.onHover,[t,e,this],this)):e&&l(a.onClick,[t,e,this],this))}}])}();function Lr(t,e){return e*(t.text?t.text.length:0)}var Er={id:"legend",_element:Ir,start:function(t,e,i){var n=t.legend=new Ir({ctx:t.ctx,options:i,chart:t});a.configure(t,n,i),a.addBox(t,n)},stop:function(t){a.removeBox(t,t.legend),delete t.legend},beforeUpdate:function(t,e,i){var n=t.legend;a.configure(t,n,i),n.options=i},afterUpdate:function(t){t=t.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent:function(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(t,e,i){var n=e.datasetIndex,i=i.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(t){return t.chart.options.color},boxWidth:40,padding:10,generateLabels:function(t){var n=t.data.datasets,e=t.legend.options.labels,a=e.usePointStyle,r=e.pointStyle,o=e.textAlign,s=e.color,l=e.useBorderRadius,h=e.borderRadius;return t._getSortedDatasetMetas().map(function(t){var e=t.controller.getStyle(a?0:void 0),i=W(e.borderWidth);return{text:n[t.index].label,fillStyle:e.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:(i.width+i.height)/4,strokeStyle:e.borderColor,pointStyle:r||e.pointStyle,rotation:e.rotation,textAlign:o||e.textAlign,borderRadius:l&&(h||e.borderRadius),datasetIndex:t.index}},this)}},title:{color:function(t){return t.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(t){return!t.startsWith("on")},labels:{_scriptable:function(t){return!["generateLabels","filter","sort"].includes(t)}}}},Rr=function(){function i(t){var e;return _classCallCheck(this,i),(e=_callSuper(this,i)).chart=t.chart,e.options=t.options,e.ctx=t.ctx,e._padding=void 0,e.top=void 0,e.bottom=void 0,e.left=void 0,e.right=void 0,e.width=void 0,e.height=void 0,e.position=void 0,e.weight=void 0,e.fullSize=void 0,e}return _inherits(i,e),_createClass(i,[{key:"update",value:function(t,e){var i=this.options;this.left=0,this.top=0,i.display?(this.width=this.right=t,this.height=this.bottom=e,t=B(i.text)?i.text.length:1,this._padding=W(i.padding),e=t*L(i.font).lineHeight+this._padding.height,this.isHorizontal()?this.height=e:this.width=e):this.width=this.height=this.right=this.bottom=0}},{key:"isHorizontal",value:function(){var t=this.options.position;return"top"===t||"bottom"===t}},{key:"_drawArgs",value:function(t){var e,i,n=this.top,a=this.left,r=this.bottom,o=this.right,s=this.options,l=s.align,h=0,s=this.isHorizontal()?(e=T(l,a,o),i=n+t,o-a):(h="left"===s.position?(e=a+t,i=T(l,r,n),-.5*x):(e=o-t,i=T(l,n,r),.5*x),r-n);return{titleX:e,titleY:i,maxWidth:s,rotation:h}}},{key:"draw",value:function(){var t,e,i,n=this.ctx,a=this.options;a.display&&(e=(t=L(a.font)).lineHeight/2+this._padding.top,i=(e=this._drawArgs(e)).titleX,Xe(n,a.text,0,0,t,{color:a.color,maxWidth:e.maxWidth,rotation:e.rotation,textAlign:Tt(a.align),textBaseline:"middle",translation:[i,e.titleY]}))}}])}(),Fr={id:"title",_element:Rr,start:function(t,e,i){var n;i=i,n=new Rr({ctx:(t=t).ctx,options:i,chart:t}),a.configure(t,n,i),a.addBox(t,n),t.titleBlock=n},stop:function(t){var e=t.titleBlock;a.removeBox(t,e),delete t.titleBlock},beforeUpdate:function(t,e,i){var n=t.titleBlock;a.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},zr=new WeakMap,Vr={id:"subtitle",start:function(t,e,i){var n=new Rr({ctx:t.ctx,options:i,chart:t});a.configure(t,n,i),a.addBox(t,n),zr.set(t,n)},stop:function(t){a.removeBox(t,zr.get(t)),zr.delete(t)},beforeUpdate:function(t,e,i){var n=zr.get(t);a.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Br={average:function(t){if(!t.length)return!1;for(var e=new Set,i=0,n=0,a=0,r=t.length;a<r;++a){var o=t[a].element;o&&o.hasValue()&&(o=o.tooltipPosition(),e.add(o.x),i+=o.y,++n)}return{x:_toConsumableArray(e).reduce(function(t,e){return t+e})/e.size,y:i/n}},nearest:function(t,e){if(!t.length)return!1;for(var i,n,a=e.x,r=e.y,o=Number.POSITIVE_INFINITY,s=0,l=t.length;s<l;++s){var h,u=t[s].element;u&&u.hasValue()&&(h=yt(e,u.getCenterPoint()))<o&&(o=h,i=u)}return i&&(a=(n=i.tooltipPosition()).x,r=n.y),{x:a,y:r}}};function f(t,e){return e&&(B(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Hr(t){return("string"==typeof t||t instanceof String)&&-1<t.indexOf("\n")?t.split("\n"):t}function jr(t,e){function i(t){g=Math.max(g,n.measureText(t).width+y)}var n=t.chart.ctx,a=t.body,r=t.footer,o=t.title,s=e.boxWidth,l=e.boxHeight,h=L(e.bodyFont),u=L(e.titleFont),c=L(e.footerFont),o=o.length,r=r.length,d=a.length,f=W(e.padding),p=f.height,g=0,v=a.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0),y=(v+=t.beforeBody.length+t.afterBody.length,o&&(p+=o*u.lineHeight+(o-1)*e.titleSpacing+e.titleMarginBottom),v&&(p+=d*(e.displayColors?Math.max(l,h.lineHeight):h.lineHeight)+(v-d)*h.lineHeight+(v-1)*e.bodySpacing),r&&(p+=e.footerMarginTop+r*c.lineHeight+(r-1)*e.footerSpacing),0);return n.save(),n.font=u.string,M(t.title,i),n.font=h.string,M(t.beforeBody.concat(t.afterBody),i),y=e.displayColors?s+2+e.boxPadding:0,M(a,function(t){M(t.before,i),M(t.lines,i),M(t.after,i)}),y=0,n.font=c.string,M(t.footer,i),n.restore(),{width:g+=f.width,height:p}}function Wr(t,e,i){var n,a,r,o,s,l,h,u=i.yAlign||e.yAlign||(u=i.y,n=i.height,u<n/2?"top":u>t.height-n/2?"bottom":"center");return{xAlign:i.xAlign||e.xAlign||(n=t,t=e,e=u,a=(i=i).x,r=i.width,o=n.width,l=(s=n.chartArea).left,(h="center")===e?h=a<=(l+s.right)/2?"left":"right":a<=r/2?h="left":o-r/2<=a&&(h="right"),e=h,l=i.x,s=i.width,o=t.caretSize+t.caretPadding,h="left"===e&&n.width<l+s+o||"right"===e&&l-s-o<0?"center":h),yAlign:u}}function Nr(t,e,i,n){var a,r=t.caretSize,o=i.xAlign,i=i.yAlign,s=r+t.caretPadding,t=Oi(t.cornerRadius),l=t.topLeft,h=t.topRight,u=t.bottomRight,c=(a=e.x,c=e.width,"right"===o?a-=c:"center"===o&&(a-=c/2),a),d=(a=e.y,d=e.height,"top"===i?a+=s:a-="bottom"===i?d+s:d/2,a);return"center"===i?"left"===o?c+=s:"right"===o&&(c-=s):"left"===o?c-=Math.max(l,t.bottomLeft)+r:"right"===o&&(c+=Math.max(h,u)+r),{x:v(c,0,n.width-e.width),y:v(d,0,n.height-e.height)}}function Yr(t,e,i){i=W(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function Ur(t){return f([],Hr(t))}function $r(t,e){e=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return e?t.override(e):t}var Xr={beforeTitle:t,title:function(t){if(0<t.length){var t=t[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(0<i&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:t,beforeBody:t,beforeLabel:t,label:function(t){var e;return this&&this.options&&"dataset"===this.options.mode?t.label+": "+t.formattedValue||t.formattedValue:((e=t.dataset.label||"")&&(e+=": "),D(t=t.formattedValue)||(e+=t),e)},labelColor:function(t){t=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(t){t=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:t,afterBody:t,beforeFooter:t,footer:t,afterFooter:t};function m(t,e,i,n){t=t[e].call(i,n);return void 0===t?Xr[e].call(i,n):t}var Gr=function(){function i(t){var e;return _classCallCheck(this,i),(e=_callSuper(this,i)).opacity=0,e._active=[],e._eventPosition=void 0,e._size=void 0,e._cachedAnimations=void 0,e._tooltipItems=[],e.$animations=void 0,e.$context=void 0,e.chart=t.chart,e.options=t.options,e.dataPoints=void 0,e.title=void 0,e.beforeBody=void 0,e.body=void 0,e.afterBody=void 0,e.footer=void 0,e.xAlign=void 0,e.yAlign=void 0,e.x=void 0,e.y=void 0,e.height=void 0,e.width=void 0,e.caretX=void 0,e.caretY=void 0,e.labelColors=void 0,e.labelPointStyles=void 0,e.labelTextColors=void 0,e}return _inherits(i,e),_createClass(i,[{key:"initialize",value:function(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var t,e=this._cachedAnimations;return e||(e=this.chart,e=(t=this.options.setContext(this.getContext())).enabled&&e.options.animation&&t.animations,t=new Mn(this.chart,e),e._cacheable&&(this._cachedAnimations=Object.freeze(t)),t)}},{key:"getContext",value:function(){return this.$context||(this.$context=(t=this.chart.getContext(),Ti(t,{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"})));var t}},{key:"getTitle",value:function(t,e){var e=e.callbacks,i=m(e,"beforeTitle",this,t),n=m(e,"title",this,t),e=m(e,"afterTitle",this,t),t=f([],Hr(i));return t=f(t,Hr(n)),f(t,Hr(e))}},{key:"getBeforeBody",value:function(t,e){return Ur(m(e.callbacks,"beforeBody",this,t))}},{key:"getBody",value:function(t,e){var n=this,a=e.callbacks,r=[];return M(t,function(t){var e={before:[],lines:[],after:[]},i=$r(a,t);f(e.before,Hr(m(i,"beforeLabel",n,t))),f(e.lines,m(i,"label",n,t)),f(e.after,Hr(m(i,"afterLabel",n,t))),r.push(e)}),r}},{key:"getAfterBody",value:function(t,e){return Ur(m(e.callbacks,"afterBody",this,t))}},{key:"getFooter",value:function(t,e){var e=e.callbacks,i=m(e,"beforeFooter",this,t),n=m(e,"footer",this,t),e=m(e,"afterFooter",this,t),t=f([],Hr(i));return t=f(t,Hr(n)),f(t,Hr(e))}},{key:"_createItems",value:function(n){for(var t,e,i,a,r,o,s,l=this,h=this._active,u=this.chart.data,c=[],d=[],f=[],p=[],g=0,v=h.length;g<v;++g)p.push((t=this.chart,e=h[g],s=o=r=a=i=void 0,i=e.element,a=e.datasetIndex,e=e.index,r=t.getDatasetMeta(a).controller,o=(s=r.getLabelAndValue(e)).label,s=s.value,{chart:t,label:o,parsed:r.getParsed(e),raw:t.data.datasets[a].data[e],formattedValue:s,dataset:r.getDataset(),dataIndex:e,datasetIndex:a,element:i}));return n.filter&&(p=p.filter(function(t,e,i){return n.filter(t,e,i,u)})),M(p=n.itemSort?p.sort(function(t,e){return n.itemSort(t,e,u)}):p,function(t){var e=$r(n.callbacks,t);c.push(m(e,"labelColor",l,t)),d.push(m(e,"labelPointStyle",l,t)),f.push(m(e,"labelTextColor",l,t))}),this.labelColors=c,this.labelPointStyles=d,this.labelTextColors=f,this.dataPoints=p}},{key:"update",value:function(t,e){var i,n,a,r=this.options.setContext(this.getContext()),o=this._active,s=[];o.length?(o=Br[r.position].call(this,o,this._eventPosition),s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r),i=this._size=jr(this,r),a=Nr(r,n=Object.assign({},o,i),n=Wr(this.chart,r,n),this.chart),this.xAlign=n.xAlign,this.yAlign=n.yAlign,n={opacity:1,x:a.x,y:a.y,width:i.width,height:i.height,caretX:o.x,caretY:o.y}):0!==this.opacity&&(n={opacity:0}),this._tooltipItems=s,this.$context=void 0,n&&this._resolveAnimations().update(this,n),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:e})}},{key:"drawCaret",value:function(t,e,i,n){t=this.getCaretPosition(t,i,n);e.lineTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineTo(t.x3,t.y3)}},{key:"getCaretPosition",value:function(t,e,i){var n,a,r,o,s,l,h=this.xAlign,u=this.yAlign,c=i.caretSize,i=Oi(i.cornerRadius),d=i.topLeft,f=i.topRight,p=i.bottomRight,g=t.x,t=t.y,v=e.width,e=e.height;return"center"===u?(s=t+e/2,l="left"===h?(a=(n=g)-c,o=s+c,s-c):(a=(n=g+v)+c,o=s-c,s+c),r=n):(a="left"===h?g+Math.max(d,i.bottomLeft)+c:"right"===h?g+v-Math.max(f,p)-c:this.caretX,r="top"===u?(s=(o=t)-c,n=a-c,a+c):(s=(o=t+e)+c,n=a+c,a-c),l=o),{x1:n,x2:a,x3:r,y1:o,y2:s,y3:l}}},{key:"drawTitle",value:function(t,e,i){var n,a,r,o=this.title,s=o.length;if(s){var l=Ii(i.rtl,this.x,this.width);for(t.x=Yr(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",n=L(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=n.string,r=0;r<s;++r)e.fillText(o[r],l.x(t.x),t.y+n.lineHeight/2),t.y+=n.lineHeight+a,r+1===s&&(t.y+=i.titleMarginBottom-a)}}},{key:"_drawColorBox",value:function(t,e,i,n,a){var r,o=this.labelColors[i],s=this.labelPointStyles[i],l=a.boxHeight,h=a.boxWidth,u=L(a.bodyFont),c=Yr(this,"left",a),c=n.x(c),u=l<u.lineHeight?(u.lineHeight-l)/2:0,e=e.y+u;a.usePointStyle?(u={radius:Math.min(h,l)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},s=n.leftForLtr(c,h)+h/2,r=e+l/2,t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,je(t,u,s,r),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,je(t,u,s,r)):(t.lineWidth=H(o.borderWidth)?Math.max.apply(Math,_toConsumableArray(Object.values(o.borderWidth))):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0,u=n.leftForLtr(c,h),s=n.leftForLtr(n.xPlus(c,1),h-2),r=Oi(o.borderRadius),Object.values(r).some(function(t){return 0!==t})?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Ge(t,{x:u,y:e,w:h,h:l,radius:r}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Ge(t,{x:s,y:e+1,w:h-2,h:l-2,radius:r}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(u,e,h,l),t.strokeRect(u,e,h,l),t.fillStyle=o.backgroundColor,t.fillRect(s,e+1,h-2,l-2))),t.fillStyle=this.labelTextColors[i]}},{key:"drawBody",value:function(e,i,t){function n(t){i.fillText(t,x.x(e.x+_),e.y+b/2),e.y+=b+d}var a,r,o,s,l,h,u,c=this.body,d=t.bodySpacing,f=t.bodyAlign,p=t.displayColors,g=t.boxHeight,v=t.boxWidth,y=t.boxPadding,m=L(t.bodyFont),b=m.lineHeight,_=0,x=Ii(t.rtl,this.x,this.width),k=x.textAlign(f);for(i.textAlign=f,i.textBaseline="middle",i.font=m.string,e.x=Yr(this,k,t),i.fillStyle=t.bodyColor,M(this.beforeBody,n),_=p&&"right"!==k?"center"===f?v/2+y:v+2+y:0,s=0,h=c.length;s<h;++s){for(a=c[s],r=this.labelTextColors[s],i.fillStyle=r,M(a.before,n),o=a.lines,p&&o.length&&(this._drawColorBox(i,e,s,x,t),b=Math.max(m.lineHeight,g)),l=0,u=o.length;l<u;++l)n(o[l]),b=m.lineHeight;M(a.after,n)}_=0,b=m.lineHeight,M(this.afterBody,n),e.y-=d}},{key:"drawFooter",value:function(t,e,i){var n,a,r=this.footer,o=r.length;if(o){var s=Ii(i.rtl,this.x,this.width);for(t.x=Yr(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=s.textAlign(i.footerAlign),e.textBaseline="middle",n=L(i.footerFont),e.fillStyle=i.footerColor,e.font=n.string,a=0;a<o;++a)e.fillText(r[a],s.x(t.x),t.y+n.lineHeight/2),t.y+=n.lineHeight+i.footerSpacing}}},{key:"drawBackground",value:function(t,e,i,n){var a=this.xAlign,r=this.yAlign,o=t.x,s=t.y,l=i.width,h=i.height,u=Oi(n.cornerRadius),c=u.topLeft,d=u.topRight,f=u.bottomLeft,u=u.bottomRight;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(o+c,s),"top"===r&&this.drawCaret(t,e,i,n),e.lineTo(o+l-d,s),e.quadraticCurveTo(o+l,s,o+l,s+d),"center"===r&&"right"===a&&this.drawCaret(t,e,i,n),e.lineTo(o+l,s+h-u),e.quadraticCurveTo(o+l,s+h,o+l-u,s+h),"bottom"===r&&this.drawCaret(t,e,i,n),e.lineTo(o+f,s+h),e.quadraticCurveTo(o,s+h,o,s+h-f),"center"===r&&"left"===a&&this.drawCaret(t,e,i,n),e.lineTo(o,s+c),e.quadraticCurveTo(o,s,o+c,s),e.closePath(),e.fill(),0<n.borderWidth&&e.stroke()}},{key:"_updateAnimationTarget",value:function(t){var e,i,n,a=this.chart,r=this.$animations,o=r&&r.x,r=r&&r.y;(o||r)&&(e=Br[t.position].call(this,this._active,this._eventPosition))&&(i=this._size=jr(this,t),n=Nr(t,n=Object.assign({},e,this._size),t=Wr(a,t,n),a),o._to===n.x&&r._to===n.y||(this.xAlign=t.xAlign,this.yAlign=t.yAlign,this.width=i.width,this.height=i.height,this.caretX=e.x,this.caretY=e.y,this._resolveAnimations().update(this,n)))}},{key:"_willRender",value:function(){return!!this.opacity}},{key:"draw",value:function(t){var e,i,n,a,r=this.options.setContext(this.getContext()),o=this.opacity;o&&(this._updateAnimationTarget(r),e={width:this.width,height:this.height},i={x:this.x,y:this.y},o=Math.abs(o)<.001?0:o,n=W(r.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length,r.enabled)&&a&&(t.save(),t.globalAlpha=o,this.drawBackground(i,t,e,r),Li(t,r.textDirection),i.y+=n.top,this.drawTitle(i,t,r),this.drawBody(i,t,r),this.drawFooter(i,t,r),Ei(t,r.textDirection),t.restore())}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(t,e){var n=this,i=this._active,t=t.map(function(t){var e=t.datasetIndex,t=t.index,i=n.chart.getDatasetMeta(e);if(i)return{datasetIndex:e,element:i.data[t],index:t};throw new Error("Cannot find a dataset at index "+e)}),i=!V(i,t),a=this._positionChanged(t,e);(i||a)&&(this._active=t,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}},{key:"handleEvent",value:function(t,e){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var n=this.options,a=this._active||[],i=this._getActiveElements(t,a,e,i),r=this._positionChanged(i,t),a=e||!V(i,a)||r;return a&&(this._active=i,n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e)),a}},{key:"_getActiveElements",value:function(t,e,i,n){var a=this,r=this.options;return"mouseout"===t.type?[]:n?(n=this.chart.getElementsAtEventForMode(t,r.mode,r,i),r.reverse&&n.reverse(),n):e.filter(function(t){return a.chart.data.datasets[t.datasetIndex]&&void 0!==a.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)})}},{key:"_positionChanged",value:function(t,e){var i=this.caretX,n=this.caretY,a=this.options,a=Br[a.position].call(this,t,e);return!1!==a&&(i!==a.x||n!==a.y)}}])}(),Kr=(_defineProperty(Gr,"positioners",Br),{id:"tooltip",_element:Gr,positioners:Br,afterInit:function(t,e,i){i&&(t.tooltip=new Gr({chart:t,options:i}))},beforeUpdate:function(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset:function(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw:function(t){var e,i=t.tooltip;i&&i._willRender()&&!(e={tooltip:i})!==t.notifyPlugins("beforeTooltipDraw",_objectSpread(_objectSpread({},e),{},{cancelable:!0}))&&(i.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e))},afterEvent:function(t,e){var i;t.tooltip&&(i=e.replay,t.tooltip.handleEvent(e.event,i,e.inChartArea))&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(t,e){return e.bodyFont.size},boxWidth:function(t,e){return e.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Xr},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(t){return"filter"!==t&&"itemSort"!==t&&"external"!==t},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]});return i.register(o,Ya,h,O),i.helpers=_objectSpread({},Wi),i._adapters=ga,i.Animation=wn,i.Animations=Mn,i.animator=s,i.controllers=C.controllers.items,i.DatasetController=n,i.Element=e,i.elements=h,i.Interaction=Xi,i.layouts=a,i.platforms=Ee,i.Scale=jn,i.Ticks=me,Object.assign(i,o,Ya,h,O,Ee),i.Chart=i,"undefined"!=typeof window&&(window.Chart=i),i});